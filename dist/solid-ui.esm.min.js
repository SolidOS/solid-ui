import*as e from"$rdf";import{ACL_LINK as t,CrossOriginForbiddenError as n,FetchError as a,NotEditableError as i,SameOriginForbiddenError as r,UnauthorizedError as o,WebOperationError as s,authSession as c,authn as l,createTypeIndexLogic as u,getSuggestedIssuers as p,offlineTestID as d,solidLogicSingleton as m,store as f}from"SolidLogic";var h={49:(e,t,n)=>{
/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
var a,i,r=n(598),o=n(466).extname,s=n(983),c=/^\s*([^;\s]*)(?:;|\s|$)/,l=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=c.exec(e),n=t&&r[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!l.test(t[1]))&&"UTF-8"}function p(e){if(!e||"string"!=typeof e)return!1;var n=c.exec(e),a=n&&t.extensions[n[1].toLowerCase()];return!(!a||!a.length)&&a[0]}function d(e,t,n){return(t?s(t,r[t].source):0)>(n?s(n,r[n].source):0)?t:n}function m(e,n,a){var i=["nginx","apache",void 0,"iana"],o=n?i.indexOf(r[n].source):0,s=a?i.indexOf(r[a].source):0;return"application/octet-stream"!==t.types[p]&&(o>s||o===s&&"application/"===t.types[p]?.slice(0,12))||o>s?n:a}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var a=t.charset(n);a&&(n+="; charset="+a.toLowerCase())}return n},t.extension=p,t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=o("x."+e).toLowerCase().slice(1);if(!n)return!1;return t.types[n]||!1},t.types=Object.create(null),t._extensionConflicts=[],a=t.extensions,i=t.types,Object.keys(r).forEach(function(e){var n=r[e].extensions;if(n&&n.length){a[e]=n;for(var o=0;o<n.length;o++){var s=n[o];i[s]=d(s,i[s],e);const a=m(s,i[s],e);a!==i[s]&&t._extensionConflicts.push([s,a,i[s]])}}})},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),n=[];for(var a in t)n.unshift(a);return function e(){for(;n.length;)if((a=n.pop())in t)return e.value=a,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},378:(e,t,n)=>{n.d(t,{LN:()=>o,Pt:()=>r,i1:()=>s});var a=n(423),i="https://solidos.github.io/solid-ui/src",r=(e=n.hmd(e)).scriptURI?{iconBase:e.scriptURI.slice(0,e.scriptURI.lastIndexOf("/"))+"/icons/",originalIconBase:e.scriptURI.slice(0,e.scriptURI.lastIndexOf("/"))+"/originalIcons/"}:"undefined"!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.iconBase?{iconBase:$SolidTestEnvironment.iconBase,originalIconBase:$SolidTestEnvironment.originalIconBase}:{iconBase:i+"/icons/",originalIconBase:i+"/originalIcons/"};(0,a.Rm)("   icons.iconBase is set to : "+r.iconBase);var o=r.iconBase,s=r.originalIconBase},386:e=>{const t={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",bookmark:"http://www.w3.org/2002/01/bookmark#",cal:"http://www.w3.org/2002/12/cal/ical#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",gr:"http://purl.org/goodrelations/v1#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",pto:"http://www.productontology.org/id/",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"};e.exports=function(e={namedNode:e=>e}){const n={};for(const a in t){const i=t[a];n[a]=function(t=""){return e.namedNode(i+t)}}return n}},423:(e,t,n)=>{function a(){var e;(e=console).log.apply(e,arguments)}function i(){var e;(e=console).warn.apply(e,arguments)}function r(){var e;(e=console).error.apply(e,arguments)}function o(){var e;(e=console).trace.apply(e,arguments)}n.d(t,{R8:()=>i,Rm:()=>a,uP:()=>o,z3:()=>r})},466:()=>{},546:e=>{function t(n,a,i,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}e.exports=t=function(e,n,a,i){function r(n,a){t(e,n,function(e){return this._invoke(n,a,e)})}n?o?o(e,n,{value:a,enumerable:!i,configurable:!i,writable:!i}):e[n]=a:(r("next",0),r("throw",1),r("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,a,i,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,n)=>{var a=n(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(a(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},580:e=>{
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */
var t=/["'&<>]/;e.exports=function(e){var n,a=""+e,i=t.exec(a);if(!i)return a;var r="",o=0,s=0;for(o=i.index;o<a.length;o++){switch(a.charCodeAt(o)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==o&&(r+=a.substring(s,o)),s=o+1,r+=n}return s!==o?r+a.substring(s,o):r}},598:(e,t,n)=>{
/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */
e.exports=n(813)},633:(e,t,n)=>{var a=n(172),i=n(993),r=n(869),o=n(887),s=n(791),c=n(373),l=n(579);function u(){var t=i(),n=t.m(u),p=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function d(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))}var m={throw:1,return:2,break:3,continue:3};function f(e){var t,n;return function(a){t||(t={stop:function(){return n(a.a,2)},catch:function(){return a.v},abrupt:function(e,t){return n(a.a,m[e],t)},delegateYield:function(e,i,r){return t.resultName=i,n(a.d,l(e),r)},finish:function(e){return n(a.f,e)}},n=function(e,n,i){a.p=t.prev,a.n=t.next;try{return e(n,i)}finally{t.next=a.n}}),t.resultName&&(t[t.resultName]=a.v,t.resultName=void 0),t.sent=a.v,t.next=a.n;try{return e.call(this,t)}finally{a.p=t.prev,a.n=t.next}}}return(e.exports=u=function(){return{wrap:function(e,n,a,i){return t.w(f(e),n,a,i&&i.reverse())},isGeneratorFunction:d,mark:t.m,awrap:function(e,t){return new a(e,t)},AsyncIterator:s,async:function(e,t,n,a,i){return(d(t)?o:r)(f(e),t,n,a,i)},keys:c,values:l}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,n)=>{var a=n(633)();e.exports=a;try{regeneratorRuntime=a}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},791:(e,t,n)=>{var a=n(172),i=n(546);e.exports=function e(t,n){function r(e,i,o,s){try{var c=t[e](i),l=c.value;return l instanceof a?n.resolve(l.v).then(function(e){r("next",e,o,s)},function(e){r("throw",e,o,s)}):n.resolve(l).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,s)})}catch(e){s(e)}}var o;this.next||(i(e.prototype),i(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),i(this,"_invoke",function(e,t,a){function i(){return new n(function(t,n){r(e,a,t,n)})}return o=o?o.then(i,i):i()},!0)},e.exports.__esModule=!0,e.exports.default=e.exports},813:e=>{e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/ace+json":{"source":"iana","compressible":true},"application/ace-groupcomm+cbor":{"source":"iana"},"application/ace-trl+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/aif+cbor":{"source":"iana"},"application/aif+json":{"source":"iana","compressible":true},"application/alto-cdni+json":{"source":"iana","compressible":true},"application/alto-cdnifilter+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-propmap+json":{"source":"iana","compressible":true},"application/alto-propmapparams+json":{"source":"iana","compressible":true},"application/alto-tips+json":{"source":"iana","compressible":true},"application/alto-tipsparams+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/appinstaller":{"compressible":false,"extensions":["appinstaller"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/appx":{"compressible":false,"extensions":["appx"]},"application/appxbundle":{"compressible":false,"extensions":["appxbundle"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/automationml-aml+xml":{"source":"iana","compressible":true,"extensions":["aml"]},"application/automationml-amlx+zip":{"source":"iana","compressible":false,"extensions":["amlx"]},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/bufr":{"source":"iana"},"application/c2pa":{"source":"iana"},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/ce+cbor":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/cid-edhoc+cbor-seq":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/city+json-seq":{"source":"iana"},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-eap":{"source":"iana"},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/concise-problem-details+cbor":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cose-x509":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwl":{"source":"iana","extensions":["cwl"]},"application/cwl+json":{"source":"iana","compressible":true},"application/cwl+yaml":{"source":"iana"},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana","extensions":["dcm"]},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dpop+jwt":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/eat+cwt":{"source":"iana"},"application/eat+jwt":{"source":"iana"},"application/eat-bun+cbor":{"source":"iana"},"application/eat-bun+json":{"source":"iana","compressible":true},"application/eat-ucs+cbor":{"source":"iana"},"application/eat-ucs+json":{"source":"iana","compressible":true},"application/ecmascript":{"source":"apache","compressible":true,"extensions":["ecma"]},"application/edhoc+cbor-seq":{"source":"iana"},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.legacyesn+json":{"source":"iana","compressible":true},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/entity-statement+jwt":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdf":{"source":"iana","extensions":["fdf"]},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geopose+json":{"source":"iana","compressible":true},"application/geoxacml+json":{"source":"iana","compressible":true},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gnap-binding-jws":{"source":"iana"},"application/gnap-binding-jwsd":{"source":"iana"},"application/gnap-binding-rotation-jws":{"source":"iana"},"application/gnap-binding-rotation-jwsd":{"source":"iana"},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/grib":{"source":"iana"},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"iana","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"apache","charset":"UTF-8","compressible":true,"extensions":["js"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/jscontact+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jsonpath":{"source":"iana"},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwk-set+jwt":{"source":"iana"},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/linkset":{"source":"iana"},"application/linkset+json":{"source":"iana","compressible":true},"application/load-control+xml":{"source":"iana","compressible":true},"application/logout+jwt":{"source":"iana"},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4","mpg4","mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msix":{"compressible":false,"extensions":["msix"]},"application/msixbundle":{"compressible":false,"extensions":["msixbundle"]},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":true,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/ohttp-keys":{"source":"iana"},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg","one","onea"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["sig","asc"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/private-token-issuer-directory":{"source":"iana"},"application/private-token-request":{"source":"iana"},"application/private-token-response":{"source":"iana"},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/provided-claims+jwt":{"source":"iana"},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.implied-document+xml":{"source":"iana","compressible":true},"application/prs.implied-executable":{"source":"iana"},"application/prs.implied-object+json":{"source":"iana","compressible":true},"application/prs.implied-object+json-seq":{"source":"iana"},"application/prs.implied-object+yaml":{"source":"iana"},"application/prs.implied-structure":{"source":"iana"},"application/prs.mayfile":{"source":"iana"},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.vcfbzip2":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true,"extensions":["xsf"]},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"apache"},"application/reputon+json":{"source":"iana","compressible":true},"application/resolve-response+jwt":{"source":"iana"},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-checklist":{"source":"iana"},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-signed-tal":{"source":"iana"},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"apache"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana","extensions":["sql"]},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/sslkeylogfile":{"source":"iana"},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/st2110-41":{"source":"iana"},"application/stix+json":{"source":"iana","compressible":true},"application/stratum":{"source":"iana"},"application/swid+cbor":{"source":"iana"},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tm+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/toc+cbor":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"source":"iana","compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/trust-chain+json":{"source":"iana","compressible":true},"application/trust-mark+jwt":{"source":"iana"},"application/trust-mark-delegation+jwt":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/uccs+cbor":{"source":"iana"},"application/ujcs+json":{"source":"iana","compressible":true},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vc":{"source":"iana"},"application/vc+cose":{"source":"iana"},"application/vc+jwt":{"source":"iana"},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.1ob":{"source":"iana"},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3a+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ach+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc8+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.5gsa2x":{"source":"iana"},"application/vnd.3gpp.5gsa2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gsv2x":{"source":"iana"},"application/vnd.3gpp.5gsv2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.crs+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.current-location-discovery+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-msgstore-ctrl-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-regroup+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-regroup+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-regroup+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.pinapp-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.seal-group-doc+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-network-qos-management-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-ue-config-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-unicast-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.seal-user-profile-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.v2x":{"source":"iana"},"application/vnd.3gpp.vae-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acm.addressxfer+json":{"source":"iana","compressible":true},"application/vnd.acm.chatbot+json":{"source":"iana","compressible":true},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"apache","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"apache"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.parquet":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.apexlang":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"apache"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autodesk.fbx":{"extensions":["fbx"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.belightsoft.lhzd+zip":{"source":"iana","compressible":false},"application/vnd.belightsoft.lhzl+zip":{"source":"iana","compressible":false},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.bzip3":{"source":"iana"},"application/vnd.c3voc.schedule+xml":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.cncf.helm.chart.content.v1.tar+gzip":{"source":"iana"},"application/vnd.cncf.helm.chart.provenance.v1.prov":{"source":"iana"},"application/vnd.cncf.helm.config.v1+json":{"source":"iana","compressible":true},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datalog":{"source":"iana"},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.dcmp+xml":{"source":"iana","compressible":true,"extensions":["dcmp"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.eln+zip":{"source":"iana","compressible":false},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.erofs":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"apache","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.fdsn.stationxml+xml":{"source":"iana","charset":"XML-BASED","compressible":true},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.freelog.comic":{"source":"iana"},"application/vnd.frogans.fnc":{"source":"apache","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"apache","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.ga4gh.passport+jwt":{"source":"iana"},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.genozip":{"source":"iana"},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.gentoo.catmetadata+xml":{"source":"iana","compressible":true},"application/vnd.gentoo.ebuild":{"source":"iana"},"application/vnd.gentoo.eclass":{"source":"iana"},"application/vnd.gentoo.gpkg":{"source":"iana"},"application/vnd.gentoo.manifest":{"source":"iana"},"application/vnd.gentoo.pkgmetadata+xml":{"source":"iana","compressible":true},"application/vnd.gentoo.xpak":{"source":"iana"},"application/vnd.geo+json":{"source":"apache","compressible":true},"application/vnd.geocube+xml":{"source":"apache","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.pinboard":{"source":"iana"},"application/vnd.geogebra.slides":{"source":"iana","extensions":["ggs"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.gnu.taler.exchange+json":{"source":"iana","compressible":true},"application/vnd.gnu.taler.merchant+json":{"source":"iana","compressible":true},"application/vnd.google-apps.audio":{},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.drawing":{"compressible":false,"extensions":["gdraw"]},"application/vnd.google-apps.drive-sdk":{"compressible":false},"application/vnd.google-apps.file":{},"application/vnd.google-apps.folder":{"compressible":false},"application/vnd.google-apps.form":{"compressible":false,"extensions":["gform"]},"application/vnd.google-apps.fusiontable":{},"application/vnd.google-apps.jam":{"compressible":false,"extensions":["gjam"]},"application/vnd.google-apps.mail-layout":{},"application/vnd.google-apps.map":{"compressible":false,"extensions":["gmap"]},"application/vnd.google-apps.photo":{},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.script":{"compressible":false,"extensions":["gscript"]},"application/vnd.google-apps.shortcut":{},"application/vnd.google-apps.site":{"compressible":false,"extensions":["gsite"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-apps.unknown":{},"application/vnd.google-apps.video":{},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"apache","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true,"extensions":["xdcf"]},"application/vnd.gpxsee.map+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.hsl":{"source":"iana"},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"apache"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"apache","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"apache"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.ipfs.ipns-record":{"source":"iana"},"application/vnd.ipld.car":{"source":"iana"},"application/vnd.ipld.dag-cbor":{"source":"iana"},"application/vnd.ipld.dag-json":{"source":"iana"},"application/vnd.ipld.raw":{"source":"iana"},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kdl":{"source":"iana"},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.keyman.kmp+zip":{"source":"iana","compressible":false},"application/vnd.keyman.kmx":{"source":"iana"},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.ldev.productlicensing":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.mdl":{"source":"iana"},"application/vnd.mdl-mbsdf":{"source":"iana"},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.medicalholodeck.recordxr":{"source":"iana"},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mermaid":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.modl":{"source":"iana"},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-visio.viewer":{"extensions":["vdx"]},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msgpack":{"source":"iana"},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.nato.bindingdataobject+cbor":{"source":"iana"},"application/vnd.nato.bindingdataobject+json":{"source":"iana","compressible":true},"application/vnd.nato.bindingdataobject+xml":{"source":"iana","compressible":true,"extensions":["bdo"]},"application/vnd.nato.openxmlformats-package.iepd+zip":{"source":"iana","compressible":false},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"apache","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oai.workflows":{"source":"iana"},"application/vnd.oai.workflows+json":{"source":"iana","compressible":true},"application/vnd.oai.workflows+yaml":{"source":"iana"},"application/vnd.oasis.opendocument.base":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"apache","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-master-template":{"source":"iana"},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"apache","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"apache","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.onvif.metadata":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openvpi.dspx+json":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.procrate.brushset":{"extensions":["brushset"]},"application/vnd.procreate.brush":{"extensions":["brush"]},"application/vnd.procreate.dream":{"extensions":["drm"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.pt.mundusmundi":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true,"extensions":["xhtm"]},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.relpipe":{"source":"iana"},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.sketchometry":{"source":"iana"},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.smintio.portals.archive":{"source":"iana"},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sybyl.mol2":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uic.osdm+json":{"source":"iana","compressible":true},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml","uo"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.veraison.tsm-report+cbor":{"source":"iana"},"application/vnd.veraison.tsm-report+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw","vsdx","vtx"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vocalshaper.vsp4":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.wasmflow.wafl":{"source":"iana"},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordlift":{"source":"iana"},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xarin.cpj":{"source":"iana"},"application/vnd.xecrets-encrypted":{"source":"iana"},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/voucher-jws+json":{"source":"iana","compressible":true},"application/vp":{"source":"iana"},"application/vp+cose":{"source":"iana"},"application/vp+jwt":{"source":"iana"},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blender":{"extensions":["blend"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-compressed":{"extensions":["rar"]},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-ipynb+json":{"compressible":true,"extensions":["ipynb"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zip-compressed":{"extensions":["zip"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xfdf":{"source":"iana","extensions":["xfdf"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yaml":{"source":"iana"},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+cbor":{"source":"iana"},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yang-sid+json":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zip+dotlottie":{"extensions":["lottie"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana","extensions":["adts","aac"]},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flac":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/matroska":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/midi-clip":{"source":"iana"},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a","m4b"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"apache"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"source":"iana","compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp","dib"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/dpx":{"source":"iana","extensions":["dpx"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/j2c":{"source":"iana"},"image/jaii":{"source":"iana","extensions":["jaii"]},"image/jais":{"source":"iana","extensions":["jais"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpg","jpeg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm","jpgm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxl":{"source":"iana","extensions":["jxl"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false,"extensions":["jfif"]},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif","btf"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.clip":{"source":"iana"},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"iana","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-adobe-dng":{"extensions":["dng"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-emf":{"source":"iana"},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-wmf":{"source":"iana"},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/bhttp":{"source":"iana"},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/mls":{"source":"iana"},"message/news":{"source":"apache"},"message/ohttp-req":{"source":"iana"},"message/ohttp-res":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime","mht","mhtml"]},"message/s-http":{"source":"apache"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"apache"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/jt":{"source":"iana","extensions":["jt"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/prc":{"source":"iana","extensions":["prc"]},"model/step":{"source":"iana","extensions":["step","stp","stpnc","p21","210"]},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/u3d":{"source":"iana","extensions":["u3d"]},"model/vnd.bary":{"source":"iana","extensions":["bary"]},"model/vnd.cld":{"source":"iana","extensions":["cld"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana","extensions":["pyo","pyox"]},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usda":{"source":"iana","extensions":["usda"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"apache"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/hl7v2":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["md","markdown"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/prs.texi":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.exchangeable":{"source":"iana"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"apache"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.vcf":{"source":"iana"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vnd.zoo.kcl":{"source":"iana"},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/wgsl":{"source":"iana","extensions":["wgsl"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/evc":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/h266":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/lottie+json":{"source":"iana","compressible":true},"video/matroska":{"source":"iana"},"video/matroska-3d":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts","m2t","m2ts","mts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.planar":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"apache"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},869:(e,t,n)=>{var a=n(887);e.exports=function(e,t,n,i,r){var o=a(e,t,n,i,r);return o.next().then(function(e){return e.done?e.value:o.next()})},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,n)=>{var a=n(993),i=n(791);e.exports=function(e,t,n,r,o){return new i(a().w(e,t,n,r),o||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},983:e=>{var t={"prs.":100,"x-":200,"x.":300,"vnd.":400,default:900},n={nginx:10,apache:20,iana:40,default:30},a={application:1,font:2,default:0};e.exports=function(e,i="default"){if("application/octet-stream"===e)return 0;const[r,o]=e.split("/"),s=o.replace(/(\.|x-).*/,"$1");return(t[s]||t.default)+(n[i]||n.default)+(a[r]||a.default)+(1-e.length/100)}},993:(e,t,n)=>{var a=n(546);function i(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var t,n,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.toStringTag||"@@toStringTag";function c(e,i,r,o){var s=i&&i.prototype instanceof u?i:u,c=Object.create(s.prototype);return a(c,"_invoke",function(e,a,i){var r,o,s,c=0,u=i||[],p=!1,d={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return r=e,o=0,s=t,d.n=n,l}};function m(e,a){for(o=e,s=a,n=0;!p&&c&&!i&&n<u.length;n++){var i,r=u[n],m=d.p,f=r[2];e>3?(i=f===a)&&(s=r[(o=r[4])?5:(o=3,3)],r[4]=r[5]=t):r[0]<=m&&((i=e<2&&m<r[1])?(o=0,d.v=a,d.n=r[1]):m<f&&(i=e<3||r[0]>a||a>f)&&(r[4]=e,r[5]=a,d.n=f,o=0))}if(i||e>1)return l;throw p=!0,a}return function(i,u,f){if(c>1)throw TypeError("Generator is already running");for(p&&1===u&&m(u,f),o=u,s=f;(n=o<2?t:s)||!p;){r||(o?o<3?(o>1&&(d.n=-1),m(o,s)):d.n=s:d.v=s);try{if(c=2,r){if(o||(i="next"),n=r[i]){if(!(n=n.call(r,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,o<2&&(o=0)}else 1===o&&(n=r.return)&&n.call(r),o<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),o=1);r=t}else if((n=(p=d.n<0)?s:e.call(a,d))!==l)break}catch(e){r=t,o=1,s=e}finally{c=1}}return{value:n,done:p}}}(e,r,o),!0),c}var l={};function u(){}function p(){}function d(){}n=Object.getPrototypeOf;var m=[][o]?n(n([][o]())):(a(n={},o,function(){return this}),n),f=d.prototype=u.prototype=Object.create(m);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,s,"GeneratorFunction")),e.prototype=Object.create(f),e}return p.prototype=d,a(f,"constructor",d),a(d,"constructor",p),p.displayName="GeneratorFunction",a(d,s,"GeneratorFunction"),a(f),a(f,s,"Generator"),a(f,o,function(){return this}),a(f,"toString",function(){return"[object Generator]"}),(e.exports=i=function(){return{w:c,m:h}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}},v={};function b(e){var t=v[e];if(void 0!==t)return t.exports;var n=v[e]={id:e,loaded:!1,exports:{}};return h[e](n,n.exports,b),n.loaded=!0,n.exports}b.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return b.d(t,{a:t}),t},b.d=(e,t)=>{for(var n in t)b.o(t,n)&&!b.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},b.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),b.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),b.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var x={};b.r(x),b.d(x,{LogLevel:()=>H,alert:()=>te,clear:()=>ne,debug:()=>Z,dumpHTML:()=>ie,error:()=>X,escapeForXML:()=>se,info:()=>Y,logAscending:()=>re,logDescending:()=>oe,msg:()=>K,setInternals:()=>ce,setLevel:()=>ae,success:()=>ee,warn:()=>Q});var g={};b.r(g),b.d(g,{AJARImage:()=>pt,RDFComparePredicateObject:()=>gt,RDFComparePredicateSubject:()=>yt,addLoadEvent:()=>ct,ancestor:()=>it,beep:()=>Qe,clearVariableNames:()=>Ke,emptyNode:()=>nt,escapeForXML:()=>ht,findPos:()=>lt,genUuid:()=>Ye,getAbout:()=>rt,getEyeFocus:()=>ut,getTarget:()=>at,getTerm:()=>ot,hashColor:()=>Ze,include:()=>st,label:()=>ue,labelForXML:()=>vt,labelWithOntology:()=>ft,newVariableName:()=>$e,ontologyLabel:()=>mt,predParentOf:()=>wt,predicateLabel:()=>xt,predicateLabelForXML:()=>bt,shortName:()=>dt,stackString:()=>tt,syncTableToArray:()=>Xe,syncTableToArrayReOrdered:()=>et});var y={};b.r(y),b.d(y,{addDefaults:()=>Dn,defaultPreferredLanguages:()=>Fn,filterByLanguage:()=>qn,getPreferredLanguages:()=>Mn,getPreferredLanguagesFor:()=>Pn,languageCodeURIBase:()=>On});var w={};b.r(w),b.d(w,{AUTOCOMPLETE_LIMIT:()=>Hn,ESCOResultToBindings:()=>aa,bindingToTerm:()=>ta,dbPediaTypeMap:()=>Qn,dbpediaParameters:()=>Kn,escoParameters:()=>$n,fetcherOptionsJsonPublicData:()=>Jn,getDbpediaDetails:()=>wa,getWikidataDetails:()=>ha,getWikidataDetailsOld:()=>ba,getWikidataLocation:()=>ga,instituteDetailsWikidataQuery:()=>Wn,loadFromBindings:()=>na,loadPublicDataThing:()=>ma,queryESCODataByName:()=>ia,queryPublicDataByName:()=>sa,queryPublicDataConstruct:()=>pa,queryPublicDataSelect:()=>la,variableNameToPredicateMap:()=>ea,wikidataClasses:()=>Gn,wikidataIncomingClassMap:()=>Xn,wikidataOutgoingClassMap:()=>Zn,wikidataParameters:()=>Yn});var k={};b.r(k),b.d(k,{ensureLoadedPreferences:()=>Ci,ensureLoadedProfile:()=>Ai,ensureLoggedIn:()=>ki,filterAvailablePanes:()=>zi,findAppInstances:()=>ji,getUserRoles:()=>Ui,loginStatusBox:()=>Fi,newAppInstance:()=>Pi,registrationControl:()=>Li,registrationList:()=>Ni,renderScopeHeadingRow:()=>Bi,renderSignInPopup:()=>Oi,scopeLabel:()=>Si,selectWorkspace:()=>Di});var C={};b.r(C),b.d(C,{Group:()=>Lr,GroupBuilder:()=>Rr,GroupPicker:()=>Sr,PeoplePicker:()=>Tr,Person:()=>Br,addStyleSheet:()=>hn,allClassURIs:()=>cn,appendForm:()=>$a,askName:()=>Zt,attachmentList:()=>rn,basicField:()=>In,buildCheckboxForm:()=>si,button:()=>$t,cancelButton:()=>Kt,clearElement:()=>Bt,complain:()=>Rt,continueButton:()=>Qt,createLinkDiv:()=>tn,createLinkForURI:()=>jt,createNameDiv:()=>en,defaultAnnotationStore:()=>sn,deleteButtonWithCheck:()=>Jt,editFormButton:()=>Ja,errorMessageBlock:()=>kt,extractLogURI:()=>Nt,faviconOrDefault:()=>Wt,field:()=>_n,fieldFunction:()=>Tn,fieldLabel:()=>Bn,fieldParams:()=>En,fieldStore:()=>Nn,fileUploadButtonDiv:()=>gn,findClosest:()=>Qa,findImage:()=>Ht,findImageFromURI:()=>qt,formatDateTime:()=>Ot,formsFor:()=>Za,iconForClass:()=>Mt,imagesOf:()=>Ut,index:()=>fn,isAudio:()=>vn,isImage:()=>xn,isVideo:()=>bn,linkButton:()=>un,linkIcon:()=>_t,makeDescription:()=>ni,makeDraggable:()=>qe,makeDropTarget:()=>ze,makeSelectForCategory:()=>ri,makeSelectForChoice:()=>li,makeSelectForClassifierOptions:()=>ai,makeSelectForNestedCategory:()=>oi,makeSelectForOptions:()=>ii,mostSpecificClassURI:()=>jn,newButton:()=>ei,newThing:()=>ci,openHrefInOutlineMode:()=>on,personTR:()=>Yt,promptForNew:()=>ti,propertiesForClass:()=>Ka,propertyTriage:()=>ln,publicData:()=>w,refreshTree:()=>an,removeButton:()=>pn,renderAsDiv:()=>nn,renderAsRow:()=>Xt,renderAutoComplete:()=>_a,renderAutocompleteControl:()=>Na,renderNameValuePair:()=>Rn,selectorPanel:()=>dn,selectorPanelRefresh:()=>mn,setImage:()=>Gt,setName:()=>Pt,setVisible:()=>Aa,shortDate:()=>It,shortTime:()=>Dt,sortByLabel:()=>Xa,sortBySequence:()=>Ya,timestamp:()=>Ft,uploadFiles:()=>He});var E={};b.r(E),b.d(E,{manageParticipation:()=>tl,participationObject:()=>Xc,recordParticipation:()=>el,renderParticipants:()=>Yc});var A={};b.r(A),b.d(A,{getChunks:()=>ol,lightColorHash:()=>il,manageParticipation:()=>tl,notepad:()=>rl,notepadToHTML:()=>cl,participationObject:()=>Xc,recordParticipation:()=>el,renderParticipants:()=>Yc,xmlEncode:()=>sl});var _={};b.r(_),b.d(_,{get:()=>Xl,getPreferencesForClass:()=>ru,recordPersonalDefaults:()=>nu,recordSharedPreferences:()=>tu,renderPreferencesForm:()=>au,set:()=>eu,value:()=>Yl});var j={};b.r(j),b.d(j,{TabWidgetElement:()=>hu,tabWidget:()=>bu});var T={};b.r(T);var S=b(386);const L=e,R=b.n(S)()(L);function B(e,t,n,a,i,r,o){try{var s=e[r](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,i)}function N(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function o(e){B(r,a,i,o,s,"next",e)}function s(e){B(r,a,i,o,s,"throw",e)}o(void 0)})}}var I=b(756),O=b.n(I),F=1,D=2,P=4,U=8,M=16,z=32,q=63,H=function(e){return e[e.Error=1]="Error",e[e.Warning=2]="Warning",e[e.Message=4]="Message",e[e.Success=8]="Success",e[e.Info=16]="Info",e[e.Debug=32]="Debug",e[e.All=63]="All",e}({}),V=F+D+P,G=!1,W=document,J=window;function $(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mesg";if(V&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:P))if(void 0!==W){var n=W.getElementById("status");if(!n)return;var a=W.createElement("span");a.setAttribute("class",t);var i=new Date;a.innerHTML="".concat(i.getHours(),":").concat(i.getMinutes(),":").concat(i.getSeconds()," [").concat(t,"] ").concat(se(e),"<br/>"),G?n.insertBefore(a,n.firstChild):n.appendChild(a)}else"undefined"!=typeof console&&console.log(e)}function K(e){$(e)}function Q(e){$(e,D,"warn")}function Z(e){$(e,z,"dbug")}function Y(e){$(e,M,"info")}function X(e){$(e,F,"eror")}function ee(e){$(e,U,"good")}function te(e){J&&void 0!==J.alert?J.alert(e):Q(e)}function ne(){var e,t=null===(e=W)||void 0===e?void 0:e.getElementById("status");t&&(t.innerHTML="")}function ae(e){V=q,Z("Log level is now "+e),V=e}function ie(){var e;if(W){var t=V;V=q,Z((null===(e=W)||void 0===e||null===(e=e.body)||void 0===e?void 0:e.innerHTML)||""),V=t}}function re(){G=!0}function oe(){G=!1}function se(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ce(e,t){J=e,W=t}var le={log:x,ns:R,rdf:L};function ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){return t?e.slice(0,1).toUpperCase()+e.slice(1):e}function a(e){var t="";"/"===e.slice(-1)&&(e=e.slice(0,-1));for(var a=0;a<e.length;a++)"_"!==e[a]&&"-"!==e[a]?(t+=e[a],a+1<e.length&&e[a].toUpperCase()!==e[a]&&e[a+1].toLowerCase()!==e[a+1]&&(t+=" ")):t+=" ";return"has "===t.slice(0,4)&&(t=t.slice(4)),n(t)}var i=function(e){return f.any(e,le.ns.ui("label"))||f.any(e,le.ns.link("message"))||f.any(e,le.ns.vcard("fn"))||f.any(e,le.ns.foaf("name"))||f.any(e,le.ns.dct("title"))||f.any(e,le.ns.dc("title"))||f.any(e,le.ns.rss("title"))||f.any(e,le.ns.contact("fullName"))||f.any(e,f.sym("http://www.w3.org/2001/04/roadmap/org#name"))||f.any(e,le.ns.cal("summary"))||f.any(e,le.ns.foaf("nick"))||f.any(e,le.ns.as("name"))||f.any(e,le.ns.schema("name"))||f.any(e,le.ns.rdfs("label"))||f.any(e,f.sym("http://www.w3.org/2004/02/skos/core#prefLabel"))}(e);if(i)return n(i.value);if("BlankNode"===e.termType)return"...";if("Collection"===e.termType)return"("+e.elements.length+")";var r=e.uri;if(void 0===r)return e.toString();try{r=r.split("/").map(decodeURIComponent).join("/")}catch(e){for(var o=r.length-3;o>0;o--)for(var s="0123456789abcefABCDEF";"%"===r[o]&&s.indexOf(r[o+1])>=0&&s.indexOf(r[o+2])>=0;)r=r.slice(0,o)+String.fromCharCode(parseInt(r.slice(o+1,o+3),16))+r.slice(o+3)}r=pe(r,"/profile/card#me"),r=pe(r,"#this");var c=(r=pe(r,"#me")).indexOf("#");if(c>=0)return a(r.slice(c+1));var l=r.lastIndexOf("/",r.length-2);return l>=0&&l<e.uri.length?a(r.slice(l+1)):n(decodeURIComponent(e.uri))}function pe(e,t){var n=-1*t.length;return e.slice(n)===t?e.slice(0,n):e}var de=b(423),me=m.store;function fe(e,t,n,a){var i=R.acl,r="/"===e.uri.slice(-1),o=me.each(void 0,i("default"),n,a).concat(me.each(void 0,i("defaultForNew"),n,a)).reduce(function(t,n){return t.concat(me.statementsMatching(n,R.rdf("type"),i("Authorization"),a)).concat(me.statementsMatching(n,i("agent"),void 0,a)).concat(me.statementsMatching(n,i("agentClass"),void 0,a)).concat(me.statementsMatching(n,i("agentGroup"),void 0,a)).concat(me.statementsMatching(n,i("origin"),void 0,a)).concat(me.statementsMatching(n,i("originClass"),void 0,a)).concat(me.statementsMatching(n,i("mode"),void 0,a)).concat((0,L.st)(n,i("accessTo"),e,a)).concat(r?(0,L.st)(n,i("default"),e,a):[])},[]),s=(0,L.graph)();return o.forEach(function(e){return s.add(c(e.subject),c(e.predicate),c(e.object),(0,L.sym)(t.uri))}),s;function c(e){var n=a.uri.length;return(0,L.sym)(e.uri.slice(0,n)===a.uri?t.uri+e.uri.slice(n):e.uri)}}function he(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:me,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?function(t,n){return t.each(void 0,n.acl("default"),e).concat(t.each(void 0,n.acl("defaultForNew"),e))}(n,R):n.each(void 0,R.acl("accessTo"),e),i=R.acl,r={agent:{},agentClass:{},agentGroup:{},origin:{},originClass:{}};return Object.keys(r).forEach(function(e){a.forEach(function(t){n.each(t,i("mode")).forEach(function(a){n.each(t,i(e)).forEach(function(n){r[e][n.uri]=r[e][n.uri]||{},r[e][n.uri][a.uri]=t})})})}),r}function ve(e,t){var n=function(e,t){for(var n in{agent:!0,agentClass:!0,agentGroup:!0,origin:!0,originClass:!0})if(e[n])for(var a in e[n])for(var i in e[n][a])if(!t[n][a]||!t[n][a][i])return!1;return!0};return n(e,t)&&n(t,e)}function be(e){for(var t,n,a=e[0],i=function(i){["agent","agentClass","agentGroup","origin","originClass"].forEach(function(r){if((t=e[i])[r])for(n in t[r])for(var o in t[r][n])a[r][n]||(a[r][n]=[]),a[r][n][o]=!0})},r=1;r<e.length;r++)i(r);return a}function xe(e,t){var n=[],a=function(e){e.length?_e(e.shift().doc(),function(i,r,o,s,c,l){var u=!r;if(!i||!c||!l)return t(i,s);var p=u?he(c,l):he(o,s);n.push(p),a(e.slice(1))}):t(!0,be(n))};a(e)}function ge(e){var t={};return["agent","agentClass","agentGroup","origin","originClass"].forEach(function(n){for(var a in e[n]){var i=[];for(var r in e[n][a])i.push(r);i.sort();var o=i.join("\n");t[o]||(t[o]=[]),t[o].push([n,a])}}),t}function ye(e,t,n,a){return we(e,t,ge(n),a)}function we(e,t,n,a,i,r){var o=R.acl;for(var s in n){var c=n[s];if(c.length){var l=s.split("\n"),u=l.map(function(e){return e.split("#")[1]}).join("");r&&!i&&(u+="Default");var p=e.sym(a.uri+"#"+u);e.add(p,R.rdf("type"),o("Authorization"),a),i&&e.add(p,o("accessTo"),t,a),r&&e.add(p,o("default"),t,a);for(var d=0;d<l.length;d++)e.add(p,o("mode"),e.sym(l[d]),a);for(var m=0;m<c.length;m++){var f=c[m][0],h=c[m][1];e.add(p,o(f),e.sym(h),a)}}}}function ke(e){var t="";for(var n in e){t+=n.split("\n").map(function(e){return e.split("#")[1][0]}).join("")+":";for(var a=e[n],i=0;i<a.length;i++){var r=a[i][0],o=(0,L.sym)(a[i][1]);t+="agent"===r?"@":"",t+=o.sameTerm(R.foaf("Agent"))?"*":ue(o),i<a.length-1&&(t+=",")}t+=";"}return"{"+t.slice(0,-1)+"}"}function Ce(e,t,n,a,i){return Ee(e,t,ge(n),a,i)}function Ee(e,t,n,a,i){var r,o=(0,L.graph)();we(o,t,n,a,!0),null===(r=e.updater)||void 0===r||r.put(a,o.statementsMatching(void 0,void 0,void 0,a),"text/turtle",function(r,o,s){var c;o?(null===(c=e.fetcher)||void 0===c||c.unload(a),we(e,t,n,a,!0),e.fetcher.requested[a.uri]="done",i(o)):i(o,s)})}function Ae(e,t,n,a){n=n||de.Rm;var i=e.doc();_e(i,function(r,o,s,c,l,u){if(!r||!l||!u)return a(!1,c);var p=o?he(s,c):he(l,u);xe(t,function(t,r){if(!t)return a(!1,r);ve(r,p)?n("Nice - same ACL. no change "+ue(e)+" "+i):(n("Group ACLs differ for "+ue(e)+" "+i),Ce(me,s,r,c,a))})})}function _e(e,t){je(e,function(n,a,i,r){var o=R.acl;if(!n)return t(!1,!1,a,r);var s=function(n){"/"===n.slice(-1)&&(n=n.slice(0,-1));var a=n.lastIndexOf("/");if(n.indexOf("/",n.indexOf("//")+2)>a)return t(!1,!0,404,"Found no ACL resource");n=n.slice(0,a+1);var r=(0,L.sym)(n);je(r,function(a,c,l){if(!a)return t(!1,!0,c,"( No ACL pointer ".concat(n," ").concat(c,")").concat(l));if(403===c)return t(!1,!0,c,"( default ACL file FORBIDDEN. Stop.".concat(n,")"));if(404===c)return s(n);if(200!==c)return t(!1,!0,c,"Error status '".concat(c,"' searching for default for ").concat(r));if(!me.each(void 0,o("default"),me.sym(n),l).concat(me.each(void 0,o("defaultForNew"),me.sym(n),l)).length)return s(n);var u=me.sym(n);return t(!0,!1,e,i,u,l)})};return n?404!==a?403===a?t(!1,!1,a,"(Sharing not available to you)".concat(r)):200!==a?t(!1,!1,a,"Error ".concat(a," accessing Access Control information for ").concat(e,": ").concat(r)):t(!0,!0,e,i):void s(e.uri):t(!1,!1,a,"Error accessing Access Control information for ".concat(e,") ").concat(r))})}function je(e,n){if(!me.fetcher)throw new Error("kb has no fetcher");me.fetcher.nowOrWhenFetched(e,void 0,function(a,i){if(!a)return n(a,"Can't get headers to find ACL for ".concat(e,": ").concat(i));var r=me.any(e,t);if(r){if(!me.fetcher)throw new Error("kb has no fetcher");if(me.fetcher.nonexistent[r.value])return n(!0,404,r,"ACL file ".concat(r," does not exist."));me.fetcher.nowOrWhenFetched(r,void 0,function(e,t,a){e?n(!0,200,r):n(!0,a.status,r,"Can't read Access Control File ".concat(r,": ").concat(t))})}else n(!1,900,"No Link rel=ACL header for ".concat(e))})}function Te(e){return Se.apply(this,arguments)}function Se(){return(Se=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){return _e((0,L.sym)(t),function(a,i,r,o,s){return a?e(i?r:s):n(new Error("Error loading ".concat(t)))})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Be(e){var t=function(e,t){if("object"!=Re(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Re(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Re(t)?t:t+""}function Ne(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Be(a.key),a)}}function Ie(e,t,n){return t&&Ne(e.prototype,t),n&&Ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function Fe(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r,o,s=[],c=!0,l=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=r.call(n)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||Fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pe=b(49);const Ue={highlightColor:"#7C4DFF",formBorderColor:"#888888",formHeadingColor:"#888888",lowProfileLinkColor:"#3B5998",formFieldNameBoxWidth:"8em",mediaModuleCanvasWidth:"640",mediaModuleCanvasHeight:"480",textInputSize:20,tabBorderRadius:"0.2em",textInputBackgroundColor:"#eef",textInputBackgroundColorUneditable:"#fff",textInputColor:"#000",textInputColorPending:"#888",defaultErrorBackgroundColor:"#fee",participationDefaultBackground:"white",basicMaxLength:"4096"};var Me={checkboxStyle:"color: black; font-size: 100%; padding-left: 0.5 em; padding-right: 0.5 em;",checkboxInputStyle:"font-size: 150%; height: 1.2em; width: 1.2em; background-color: #eef; border-radius:0.2em; margin: 0.1em;",fieldLabelStyle:"color: #3B5998; text-decoration: none;",formSelectStyle:"background-color: #eef; padding: 0.5em;  border: .05em solid #88c; border-radius:0.2em; font-size: 100%; margin:0.4em;",textInputStyle:"background-color: #eef; padding: 0.5em;  border: .05em solid #88c; border-radius:0.2em; font-size: 100%; margin:0.4em;",textInputStyleUneditable:"background-color: white; padding: 0.5em;  border: .05em solid white; border-radius:0.2em; font-size: 100%; margin:0.4em;",buttonStyle:"background-color: #fff; padding: 0.7em;  border: .01em solid white; border-radius:0.2em; font-size: 100%; margin: 0.3em;",commentStyle:"padding: 0.7em;  border: none; font-size: 100%; white-space: pre-wrap;",iconStyle:"width: 3em; height: 3em; margin: 0.1em; border-radius: 1em;",smallButtonStyle:"margin: 0.2em; width: 1em; height:1em;",classIconStyle:"width: 3em; height: 3em; margin: 0.1em; border-radius: 0.2em; border: 0.1em solid green; padding: 0.2em; background-color: #efe;",confirmPopupStyle:"padding: 0.7em; border-radius: 0.2em; border: 0.1em solid orange; background-color: white; box-shadow: 0.5em 0.9em #888;",messageBodyStyle:"white-space: pre-wrap; width: 99%; font-size:100%; border: 0.07em solid #eee; border-radius:0.2em; padding: .3em 0.5em; margin: 0.1em;",pendingeditModifier:"color: #bbb;",personaBarStyle:"width: 100%; height: 4em; background-color: #eee; vertical-align: middle;",searchInputStyle:"border: 0.1em solid #444; border-radius: 0.2em; width: 100%; font-size: 100%; padding: 0.1em 0.6em; margin 0.2em;",autocompleteRowStyle:"border: 0.2em solid straw;",signInAndUpButtonStyle:"padding: 1em; border-radius:0.2em; font-size: 100%;",headerBannerLoginInput:"margin: 0.75em 0 0.75em 0.5em !important; padding: 0.5em !important;",signUpBackground:"background-color: #eef;",signInBackground:"background-color: #efe;",heading1Style:"font-size: 180%; font-weight: bold; color: #888888; padding: 0.5em; margin: 0.7em 0.0m;",heading2Style:"font-size: 130%; font-weight: bold; color: #888888; padding: 0.4em; margin: 0.7em 0.0em;",heading3Style:"font-size: 120%; font-weight: bold; color: #888888; padding: 0.3em; margin: 0.7em 0.0em;",heading4Style:"font-size: 110%; font-weight: bold; color: #888888; padding: 0.2em; margin: 0.7em 0.0em;",formHeadingStyle:"font-size: 110%; font-weight: bold; color: #888888; padding: 0.2em;  margin: 0.7em 0.0em;",formTextInput:"font-size: 100%; margin: 0.1em; padding: 0.1em;",formGroupStyle:["padding-left: 0em; border: 0.0em solid ".concat(Ue.formBorderColor,"; border-radius: 0.2em;"),"padding-left: 2em; border: 0.05em solid ".concat(Ue.formBorderColor,"; border-radius: 0.2em;"),"padding-left: 2em; border: 0.1em solid ".concat(Ue.formBorderColor,"; border-radius: 0.2em;"),"padding-left: 2em; border: 0.2em solid ".concat(Ue.formBorderColor,"; border-radius: 0.2em;")],formFieldLabelStyle:"color: ".concat(Ue.lowProfileLinkColor,"; text-decoration: none;"),formFieldNameBoxStyle:"padding: 0.3em; vertical-align: middle; width:".concat(Ue.formFieldNameBoxWidth,";"),multilineTextInputStyle:"font-size:100%; white-space: pre-wrap; background-color: #eef; border: 0.07em solid gray; padding: 1em 0.5em; margin: 1em 1em;",renderAsDivStyle:"display: flex; align-items: center; justify-content: space-between; height: 2.5em; padding: 1em;",imageDivStyle:"width:2.5em; padding:0.5em; height: 2.5em;",linkDivStyle:"width:2em; padding:0.5em; height: 4em;",aclControlBoxContainer:"margin: 1em;",aclControlBoxHeader:"font-size: 120%; margin: 0 0 1rem;",aclControlBoxStatus:"display: none; margin: 1rem 0;",aclControlBoxStatusRevealed:"display: block;",aclGroupContent:"maxWidth: 650;",accessGroupList:"display: grid; grid-template-columns: 1fr; margin: 1em; width: 100%;",accessGroupListItem:"display: grid; grid-template-columns: 100px auto 30%;",defaultsController:"display: flex;",defaultsControllerNotice:"color: #888; flexGrow: 1; fontSize: 80%;",bigButton:"background-color: white; border: 0.1em solid #888; border-radius: 0.3em; max-width: 50%; padding-bottom: 1em; padding-top: 1em;",group:"color: #888;",group1:"color: green;",group2:"color: #cc0;",group3:"color: orange;",group5:"color: red;",group9:"color: blue;",group13:"color: purple;",trustedAppAddApplicationsTable:"background-color: #eee;",trustedAppCancelButton:"float: right;",trustedAppControllerI:"border-color: orange; border-radius: 1em; border-width: 0.1em;",temporaryStatusInit:"background: green;",temporaryStatusEnd:"background: transparent; transition: background 5s linear;",headerUserMenuLink:"background: none; border: 0; color: black; cursor: pointer; display: block; font-family: Arial; font-size: 1em; text-align: left; padding: 1em;  width: 100%; text-decoration: none;",headerUserMenuLinkHover:"background: none; border: 0; color: black; cursor: pointer; display: block; font-family: Arial; font-size: 1em; text-align: left; padding: 1em;  width: 100%; text-decoration: none; background-image: linear-gradient(to right, #7C4DFF 0%, #18A9E6 50%, #01C9EA 100%);",headerUserMenuTrigger:"background: none; border: 0; cursor: pointer; width: 60px; height: 60px;",headerUserMenuTriggerImg:"border-radius: 50%; height: 56px; width: 28px !important;",headerUserMenuButton:"background: none; border: 0; color: black; cursor: pointer; display: block; font-family: Arial; font-size: 1em; text-align: left; padding: 1em; width: 100%;",headerUserMenuButtonHover:"background: none; border: 0; color: black; cursor: pointer; display: block; font-family: Arial; font-size: 1em; text-align: left; padding: 1em; width: 100%; background-image: linear-gradient(to right, #7C4DFF 0%, #18A9E6 50%, #01C9EA 100%);",headerUserMenuList:"list-style: none; margin: 0; padding: 0;",headerUserMenuListDisplay:"list-style: none; margin: 0; padding: 0; display:true;",headerUserMenuNavigationMenu:"background: white; border: solid 1px #000000; border-right: 0; position: absolute; right: 0; top: 60px; width: 200px; z-index: 1; display: true;",headerUserMenuNavigationMenuNotDisplayed:"background: white; border: solid 1px #000000; border-right: 0; position: absolute; right: 0; top: 60px; width: 200px; z-index: 1; display: none;",headerUserMenuListItem:"border-bottom: solid 1px #000000;",headerUserMenuPhoto:"border-radius: 50%; background-position: center; background-repeat: no-repeat; background-size: cover; height: 50px; width: 50px;",headerBanner:"box-shadow: 0px 1px 4px #000000; display: flex; justify-content: space-between; padding: 0 1.5em; margin-bottom: 4px;",headerBannerLink:"display: block;",headerBannerRightMenu:"display: flex;",headerBannerLogin:"margin-left: auto;",allChildrenVisible:"display:true;",headerBannerUserMenu:"border-left: solid 1px #000000; margin-left: auto;",headerBannerHelpMenu:"border-left: solid 1px #000000; margin-left: auto;",headerBannerIcon:"background-size: 65px 60px !important; height: 60px !important; width: 65px !important;",footer:"border-top: solid 1px $divider-color; font-size: 0.9em; padding: 0.5em 1.5em;",primaryButton:"background-color: #7c4dff; color: #ffffff; font-family: Raleway, Roboto, sans-serif; border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none;",primaryButtonHover:"background-color: #9f7dff; color: #ffffff; font-family: Raleway, Roboto, sans-serif;border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none; transition: 0.25s all ease-in-out;",primaryButtonNoBorder:"background-color: #ffffff; color: #7c4dff; font-family: Raleway, Roboto, sans-serif;border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none;",primaryButtonNoBorderHover:"background-color: #7c4dff; color: #ffffff; font-family: Raleway, Roboto, sans-serif; border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none; transition: 0.25s all ease-in-out;",secondaryButton:"background-color: #01c9ea; color: #ffffff; font-family: Raleway, Roboto, sans-serif;border-radius: 0.25em; border-color: #01c9ea; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none;",secondaryButtonHover:"background-color: #37cde6; color: #ffffff; font-family: Raleway, Roboto, sans-serif;border-radius: 0.25em; border-color: #7c4dff; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none; transition: 0.25s all ease-in-out;",secondaryButtonNoBorder:"background-color: #ffffff; color: #01c9ea; font-family: Raleway, Roboto, sans-serif; border-radius: 0.25em; border-color: #01c9ea; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none;",secondaryButtonNoBorderHover:"background-color: #01c9ea; color: #ffffff; font-family: Raleway, Roboto, sans-serif; border-radius: 0.25em; border-color: #01c9ea; border: 1px solid; cursor: pointer; font-size: .8em; text-decoration: none; padding: 0.5em 4em; transition: 0.25s all ease-in-out; outline: none; transition: 0.25s all ease-in-out;",controlStyle:"border-radius: 0.5em; margin: 0.8em; width:".concat(Ue.mediaModuleCanvasWidth,"; height:").concat(Ue.mediaModuleCanvasHeight,";"),dragEvent:"background-color: #ccc; border: 0.25em dashed black; border-radius: 0.3em;",dropEvent:"background-color: white; border: 0em solid black;",restoreStyle:"background-color: white;",errorCancelButton:"width: 2em; height: 2em; align: right;",errorMessageBlockStyle:"margin: 0.1em; padding: 0.5em; border: 0.05em solid gray; color:black;",notepadStyle:"padding: 1em; overflow: auto; resize: horizontal; min-width: 40em;",upstreamStatus:"width: 50%;",downstreamStatus:"width: 50%;",baseStyle:"font-size: 100%; font-family: monospace; width: 100%; border: none; white-space: pre-wrap;",headingCore:"font-family: sans-serif; font-weight: bold;  border: none;",headingStyle:["font-size: 110%; padding-top: 0.5em; padding-bottom: 0.5em; width: 100%;","font-size: 120%; padding-top: 1em; padding-bottom: 1em; width: 100%;","font-size: 150%; padding-top: 1em; padding-bottom: 1em; width: 100%;"],participantsStyle:"margin: 0.8em;",participantsBlock:"height: 1.5em; width: 1.5em; margin: 0.3em; border 0.01em solid #888;",personTableTD:"vertical-align: middle;",tabsNavElement:"margin: 0;",tabsRootElement:"display: flex; height: 100%; width: 100%;",tabsMainElement:"margin: 0; width:100%; height: 100%;",tabContainer:"list-style-type: none; display: flex; height: 100%; width: 100%; margin: 0; padding: 0;",makeNewSlot:"background: none; border: none; font: inherit; cursor: pointer;",ellipsis:"position: absolute; right: 0; bottom: 0; width: 20%; background: none; color: inherit; border: none; padding: 0; font: inherit; cursor: pointer; outline: inherit;"};function ze(e,t,n){var a=function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},i=function(e){de.Rm("dragenter event dropEffect: "+e.dataTransfer.dropEffect),this.localStyle&&(this.savedStyle||(this.savedStyle=Me.dragEvent)),e.dataTransfer.dropEffect="link",de.Rm("dragenter event dropEffect 2: "+e.dataTransfer.dropEffect)},r=function(e){de.Rm("dragleave event dropEffect: "+e.dataTransfer.dropEffect),this.savedStyle?this.localStyle=this.savedStyle:this.localStyle=Me.dropEvent},o=function(e){e.preventDefault&&e.preventDefault(),de.Rm("Drop event. dropEffect: "+e.dataTransfer.dropEffect),de.Rm("Drop event. types: "+(e.dataTransfer.types?e.dataTransfer.types.join(", "):"NOPE"));var a,i=null;if(e.dataTransfer.types){for(var r=0;r<e.dataTransfer.types.length;r++){var o=e.dataTransfer.types[r];if("text/uri-list"===o)i=e.dataTransfer.getData(o).split("\n"),de.Rm("Dropped text/uri-list: "+i);else if("text/plain"===o)a=e.dataTransfer.getData(o);else if("Files"===o&&n){for(var s=e.dataTransfer.files,c=0;s[c];c++){var l=s[c];de.Rm("Filename: "+l.name+", type: "+(l.type||"n/a")+" size: "+l.size+" bytes, last modified: "+(l.lastModifiedDate?l.lastModifiedDate.toLocaleDateString():"n/a"))}n(s)}}null===i&&a&&"http"===a.slice(0,4)&&(i=a,de.Rm("Waring: Poor man's drop: using text for URI"))}else i=[e.dataTransfer.getData("Text")],de.Rm("WARNING non-standard drop event: "+i[0]);return de.Rm("Dropped URI list (2): "+i),i&&t(i),this.localStyle=Me.restoreStyle,!1};!function(e){e||de.Rm("@@@ addTargetListeners: ele "+e),e.addEventListener("dragover",a),e.addEventListener("dragenter",i),e.addEventListener("dragleave",r),e.addEventListener("drop",o)}(e)}function qe(e,t){e.setAttribute("draggable","true"),e.addEventListener("dragstart",function(n){e.style.fontWeight="bold",n.dataTransfer.setData("text/uri-list",t.uri),n.dataTransfer.setData("text/plain",t.uri),n.dataTransfer.setData("text/html",e.outerHTML),de.Rm("Dragstart: "+e+" -> "+t+"de: "+n.dataTransfer.dropEffect)},!1),e.addEventListener("drag",function(e){e.preventDefault(),e.stopPropagation()},!1),e.addEventListener("dragend",function(n){e.style.fontWeight="normal",de.Rm("Dragend dropeffect: "+n.dataTransfer.dropEffect),de.Rm("Dragend: "+e+" -> "+t)},!1)}function He(e,t,n,a,i){for(var r=0;t[r];r++){var o=t[r];de.Rm(" dropped: Filename: "+o.name+", type: "+(o.type||"n/a")+" size: "+o.size+" bytes, last modified: "+(o.lastModifiedDate?o.lastModifiedDate.toLocaleDateString():"n/a"));var s=new FileReader;s.onload=function(t){return function(r){var o=r.target.result,s="";de.Rm(" File read byteLength : "+o.byteLength);var c=t.type;if(t.type&&""!==t.type){var l=Pe.extension(t.type);l&&"false"!==l&&!t.name.endsWith("."+l)&&t.type!==Pe.lookup(t.name)&&(s="_."+l)}else if(!(c=Pe.lookup(t.name))){var u="Filename needs to have an extension which gives a type we know: "+t.name;throw de.Rm(u),alert(u),new Error(u)}var p=t.type.startsWith("image/")&&a||n,d=p+(p.endsWith("/")?"":"/")+encodeURIComponent(t.name)+s;e.webOperation("PUT",d,{data:o,contentType:c}).then(function(e){de.Rm(" Upload: put OK: "+d),i(t,d)},function(e){var t=" Upload: FAIL "+d+", Error: "+e;throw de.Rm(t),alert(t),new Error(t)})}}(o),s.readAsArrayBuffer(o)}}Me.setStyle=function(e,t){e.style=Me[t]};var Ve,Ge=b(378),We={log:x,ns:R,rdf:L},Je=0;function $e(){return"v"+Je++}function Ke(){Je=0}function Qe(){if(Ve){var e=new Ve;return function(t,n,a,i){t=+(t||.3),a=a||"sine","function"!=typeof i&&(i=function(){});var r=e.createOscillator();r.type=a,r.frequency.value=n||256,r.connect(e.destination),r.start(0),r.stop(t)}}}function Ze(e){e=e.uri||e;var t;return"#"+(16777215&(t=e,t.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0))|12632256).toString(16)}function Ye(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function Xe(e,t,n){var a,i,r;for(r=0;r<e.children.length;r++)(i=e.children[r]).trashMe=!0;for(var o=0;o<t.length;o++){var s=t[o];for(a=!1,r=0;r<e.children.length;r++)if((i=e.children[r]).subject&&i.subject.sameTerm(s)){i.trashMe=!1,a=!0;break}if(!a){var c=n(s);if(o>=e.children.length)e.appendChild(c);else{var l=e.children[o];e.insertBefore(c,l)}c.subject=s}}for(r=0;r<e.children.length;r++)(i=e.children[r]).trashMe&&e.removeChild(i)}function et(e,t,n){for(var a={},i=0;i<e.children.length;i++){var r=e.children[i];a[r.subject.toNT()]=r}for(var o=0;o<t.length;o++){var s=t[o];if(o>=e.children.length){var c=n(s);c.subject=s,e.appendChild(c)}else{var l=e.children[o];if(l.subject.sameTerm(s));else{var u=a[s.toNT()];if(u)e.removeChild(u),e.insertBefore(u,l);else{var p=n(s);l.before(p),p.subject=s}}}}for(;e.children.length>t.length;)e.removeChild(e.children[e.children.length-1])}function tt(e){var t,n=e+"\n";if(!e.stack)return n+"No stack available.\n";var a=e.stack.toString().split("\n"),i=[];for(t=0;t<a.length;t++){var r=a[t];if(r.indexOf("ecmaunit.js")>-1)break;"("===r.charAt(0)&&(r="function"+r);var o=r.split("@");i.push(o)}for(t=0;t<i.length;t++)n+="  "+i[t][1]+"\n    "+i[t][0];return n}function nt(e){for(var t=e.childNodes,n=t.length-1;n>=0;n--)e.removeChild(t[n]);return e}function at(e){var t;return(e=e||window.event).target?t=e.target:e.srcElement&&(t=e.srcElement),3===t.nodeType&&(t=t.parentNode),t}function it(e,t){var n;for(n=e;n;n=n.parentNode)try{if(n.tagName===t)return n}catch(e){return}}function rt(e,t){var n,a;for(n=t;n&&1===n.nodeType;n=n.parentNode)if(a=n.getAttribute("about"))return e.fromNT(a);We.log.debug("getAbout: No about found")}function ot(e){var t=e.parentNode,n=t?t.AJAR_statement:void 0;switch(n?e.className:""){case"pred":case"pred selected":return n.predicate;case"obj":case"obj selected":return t.AJAR_inverse?n.subject:n.object;case"":case"selected":return rt(f,e);case"undetermined selected":return e.nextSibling?n.predicate:t.AJAR_inverse?n.subject:n.object}}function st(e,t){var n=e.createElement("script");return n.setAttribute("type","text/javascript"),n.setAttribute("src",t),n}function ct(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t(),e()}}function lt(e){var t=e.ownerDocument.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return[n.left-t.left,n.top-t.top]}function ut(e,t,n,a){a||(a=window);var i=lt(e)[1],r=window.SolidAppContext||{},o=i-(r&&r.scroll||52)-a.scrollY;if(t)return n?void a.scrollBy(0,i+e.clientHeight-(a.scrollY+a.innerHeight)):void a.scrollBy(0,o);var s=a.setInterval(function(){a.scrollBy(0,o/10),10===++c&&a.clearInterval(s)},50),c=0}function pt(e,t,n,a){a||(a=document);var i=a.createElement("img");return i.setAttribute("src",e),i.addEventListener("copy",function(e){e.clipboardData.setData("text/plain",""),e.clipboardData.setData("text/html",""),e.preventDefault()}),void 0!==n&&i.setAttribute("title",n),i}function dt(e){var t=e;"#/".indexOf(t[t.length-1])>=0&&(t=t.slice(0,-1));var n,a=[];for(var i in this.prefixes)a[this.prefixes[i]]=i;var r,o=function(e){return"ns"!==e&&(n=e,!0)},s=t.lastIndexOf("#");for(s>=0&&(t=t.slice(s-1));;){var c=t.lastIndexOf("/");for(c>=0&&(t=t.slice(c+1)),r=0;r<t.length&&this.prefixchars.indexOf(t[r]);)r++;if((t=t.slice(0,r)).length<6&&o(t))return n;if(o(t.slice(0,3)))return n;if(o(t.slice(0,2)))return n;if(o(t.slice(0,4)))return n;if(o(t.slice(0,1)))return n;if(o(t.slice(0,5)))return n;for(r=0;;r++)if(o(t.slice(0,3)+r))return n}}function mt(e){if(void 0===e.uri)return"??";var t,n=e.uri,a=[],i=n.lastIndexOf("#");if(i>=0)n=n.slice(0,i+1);else{if(!((i=n.lastIndexOf("/"))>=0))return e.uri+"?!";n=n.slice(0,i+1)}for(var r in We.ns)a[We.ns[r]]=r;try{return a[n]}catch(e){}for(n=n.slice(0,-1);n;){if(!((i=n.lastIndexOf("/"))>=0))return e.uri+"!?";if(t=n.slice(i+1),n=n.slice(0,i),"ns"!==t&&"0123456789".indexOf(t[0])<0)return t}}function ft(e,t){var n=f.findTypeURIs(e);return n[We.ns.rdf("Predicate").uri]||n[We.ns.rdfs("Class").uri]?ue(e,t)+" ("+mt(e)+")":ue(e,t)}function ht(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")}function vt(e){return ht(ue(e))}function bt(e,t){return ht(xt(e,t))}function xt(e,t){var n=ue(e);if(t){var a=f.any(e,We.ns.owl("inverseOf"))||f.any(void 0,We.ns.owl("inverseOf"),e);return a?ue(a):"type"===n?"...":"is "+n+" of"}return n}function gt(e,t){var n=e.predicate.compareTerm(t.predicate);return 0!==n?n:e.object.compareTerm(t.object)}function yt(e,t){var n=e.predicate.compareTerm(t.predicate);return 0!==n?n:e.subject.compareTerm(t.subject)}function wt(e){for(var t=e;;){if(t.getAttribute("predTR"))return t;if(!t.previousSibling||"TR"!==t.previousSibling.nodeName)return We.log.error("Could not find predParent"),e;t=t.previousSibling}}function kt(e,t,n,a){var i=e.createElement("div"),r=a||t instanceof Error?t:null;return r?(console.error("errorMessageBlock: ".concat(r," at: ").concat(r.stack||"??"),r),i.textContent=r.message):i.textContent=t,i.appendChild(Kt(e,function(){i.parentNode&&i.parentNode.removeChild(i)})).style=Me.errorCancelButton,i.setAttribute("style",Me.errorMessageBlockStyle),i.style.backgroundColor=n||Ue.defaultErrorBackgroundColor,i}"undefined"!=typeof AudioContext?Ve=AudioContext:"undefined"!=typeof window&&(Ve=window.AudioContext||window.webkitAudioContext);var Ct=function(e,t,n){var a=e.createElement("tr");return a.appendChild(e.createElement("td")).appendChild(t),a.subject=n,a},Et=function(e,t){e.addEventListener("click",t)},At=function(e,t,n){var a=t.appendChild(e.createElement("div"));a.setAttribute("style",Me.imageDivStyle),a.appendChild(n),n.setAttribute("draggable","false")};function _t(e,t,n){var a=e.createElement("a");a.setAttribute("href",t.uri),t.uri.startsWith("http")&&a.setAttribute("target","_blank");var i=a.appendChild(e.createElement("img"));return i.setAttribute("src",n||Ge.i1+"go-to-this.png"),i.setAttribute("style","margin: 0.3em;"),a}var jt=function(e,t,n){var a=_t(e,n);t.appendChild(a).classList.add("HoverControlHide"),t.appendChild(e.createElement("br"))},Tt=Ge.Pt.iconBase,St=Tt+"noun_1180156.svg",Lt=Tt+"noun_1180158.svg";function Rt(e,t){if(t){var n=function(e){var t=e&&e.statusArea||e&&e.div||null;if(t)return t;var n=e&&e.dom;if(n||"undefined"==typeof document||(n=document),n){var a=n.getElementsByTagName("body")[0];return t=n.createElement("div"),a.insertBefore(t,a.firstElementChild),e&&(e.statusArea=t),t}return null}(e);de.Rm("Complaint: "+t),n?n.appendChild(kt(e&&e.dom||document,t)):alert(t)}}function Bt(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Nt(e){var t=e.search(/logFile=/),n=e.search(/&rulesFile=/);return e.substring(t+8,n)}function It(e,t){if(!e)return"???";try{var n=(new Date).toISOString();return e.slice(0,10)!==n.slice(0,10)||t?e.slice(0,4)===n.slice(0,4)?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(e.slice(5,7),10)-1]+" "+parseInt(e.slice(8,10),10):e.slice(0,10):e.slice(11,16)}catch(e){return"shortdate:"+e}}function Ot(e,t){return t.split("{").map(function(t){var n=t.split("}")[0];return t?("000"+(e["get"+n]()+({Month:1}[n]||0))).slice(-({Milliseconds:3,FullYear:4}[n]||2))+t.split("}")[1]:""}).join("")}function Ft(){return Ot(new Date,"{FullYear}-{Month}-{Date}T{Hours}:{Minutes}:{Seconds}.{Milliseconds}")}function Dt(){return Ot(new Date,"{Hours}:{Minutes}:{Seconds}.{Milliseconds}")}function Pt(e,t){var n=f,a=function(e){var t=n.any(e,R.vcard("fn"))||n.any(e,R.foaf("name"))||n.any(e,R.vcard("organization-name"));return t?t.value:null},i=t.sameTerm(R.foaf("Agent"))?"Everyone":a(t);if(e.textContent=i||ue(t),!i&&t.uri){if(!n.fetcher)throw new Error("kb has no fetcher");n.fetcher.nowOrWhenFetched(t.doc(),void 0,function(n){e.textContent=a(t)||ue(t)})}}function Ut(e,t){return t.each(e,R.sioc("avatar")).concat(t.each(e,R.foaf("img"))).concat(t.each(e,R.vcard("logo"))).concat(t.each(e,R.vcard("hasPhoto"))).concat(t.each(e,R.vcard("photo"))).concat(t.each(e,R.foaf("depiction")))}var Mt={"solid:AppProviderClass":"noun_144.svg","solid:AppProvider":"noun_15177.svg","solid:Pod":"noun_Cabinet_1434380.svg","vcard:Group":"noun_339237.svg","vcard:Organization":"noun_143899.svg","vcard:Individual":"noun_15059.svg","schema:Person":"noun_15059.svg","foaf:Person":"noun_15059.svg","foaf:Agent":"noun_98053.svg","acl:AuthenticatedAgent":"noun_99101.svg","prov:SoftwareAgent":"noun_Robot_849764.svg","vcard:AddressBook":"noun_15695.svg","trip:Trip":"noun_581629.svg","meeting:LongChat":"noun_1689339.svg","meeting:Meeting":"noun_66617.svg","meeting:Project":"noun_1036577.svg","ui:Form":"noun_122196.svg","rdfs:Class":"class-rectangle.svg","rdf:Property":"property-diamond.svg","owl:Ontology":"noun_classification_1479198.svg","wf:Tracker":"noun_122196.svg","wf:Task":"noun_17020_gray-tick.svg","wf:Open":"noun_17020_sans-tick.svg","wf:Closed":"noun_17020.svg"};function zt(e){var t=e.uri.split("#")[0],n=t.indexOf("//");if(n<0)throw new Error("This URI does not have a web site part (origin)");var a=t.indexOf("/",n+2);return a<0?t.slice(0)+"/":t.slice(0,a+1)}function qt(e){var t=Tt;return"string"!=typeof e&&e.uri?4!==e.uri.split("/").length||e.uri.split("/")[1]||e.uri.split("/")[3]?e.uri.startsWith("message:")||e.uri.startsWith("mid:")?t+"noun_480183.svg":e.uri.startsWith("mailto:")?t+"noun_567486.svg":e.uri.startsWith("https:")&&e.uri.indexOf("#")<0?zt(e)+"favicon.ico":null:t+"noun_15177.svg":t+"noun_10636_grey.svg"}function Ht(e){var t=f,n=Tt;if(e.sameTerm(R.foaf("Agent"))||e.sameTerm(R.rdf("Resource")))return n+"noun_98053.svg";var a=t.any(e,R.sioc("avatar"))||t.any(e,R.foaf("img"))||t.any(e,R.vcard("logo"))||t.any(e,R.vcard("hasPhoto"))||t.any(e,R.vcard("photo"))||t.any(e,R.foaf("depiction"));return a?a.uri:null}function Vt(e,t,n){var a=f,i=Ht(t);if(i)return e.setAttribute("src",i),!0;var r=n[t.uri];if(r)return e.setAttribute("src",r),e.style=Me.classIconStyle,!0;var o=qt(t);if(o)return e.setAttribute("src",o),!0;var s=a.findTypeURIs(t);for(var c in s)if(n[c])return e.setAttribute("src",n[c]),!1;return e.setAttribute("src",Tt+"noun_10636_grey.svg"),!1}function Gt(e,t){var n=f,a={};for(var i in Mt){var r=i.split(":")[0],o=i.split(":")[1],s=R[r](o);a[s.uri]=L.uri.join(Mt[i],Tt)}if(!Vt(e,t,a)&&t.uri){if(!n.fetcher)throw new Error("kb has no fetcher");n.fetcher.nowOrWhenFetched(t.doc(),void 0,function(n){n&&Vt(e,t,a)})}}function Wt(e,t){var n=e.createElement("img");n.style=Me.iconStyle;if(n.setAttribute("src",Tt+(function(e){if(!e.uri)return!1;var t=e.uri.split("/");return 3===t.length||4===t.length&&""===t[3]}(t)?"noun_15177.svg":"noun_681601.svg")),t.uri&&t.uri.startsWith("https:")&&t.uri.indexOf("#")<0){var a=e.createElement("object");return a.setAttribute("data",zt(t)+"favicon.ico"),a.setAttribute("type","image/x-icon"),a.appendChild(n),a}return Gt(n,t),n}function Jt(e,t,n,a){var i=Tt+"noun_2188_red.svg",r=e.createElement("img");r.setAttribute("src",i),r.setAttribute("style",Me.smallButtonStyle),r.style.float="right";var o="Remove this "+n;return r.title=o,r.classList.add("hoverControlHide"),r.addEventListener("click",function(){var n=e.createElement("div");t.insertBefore(n,r),n.style.position="relative",n.appendChild(function(e,t,n,a){function i(){t.parentElement.removeChild(t)}function r(){i(),a()}var o=e.createElement("div");o.style=Me.confirmPopupStyle,o.style.position="absolute",o.style.top="-1em",o.style.display="grid",o.style.gridTemplateColumns="auto auto";var s=e.createElement("div");s.style.gridColumn="1/2",s.style.gridRow="1";var c=e.createElement("div");c.style.gridColumn="1/2",c.style.gridRow="2";var l=Kt(e,i);o.appendChild(l),l.style.gridColumn="1",l.style.gridRow="2";var u=o.appendChild(e.createElement("button"));u.style=Me.buttonStyle,u.style.gridRow="2",u.style.gridColumn="2",u.textContent="Cancel";var p=$t(e,Ge.Pt.iconBase+"noun_925021.svg","Delete it");o.appendChild(p),p.style.gridRow="1",p.style.gridColumn="1";var d=o.appendChild(e.createElement("button"));return d.style=Me.buttonStyle,d.style.gridRow="1",d.style.gridColumn="2",d.textContent=n,o.appendChild(d),p.addEventListener("click",r),d.addEventListener("click",r),u.addEventListener("click",i),o}(e,n,o,a))}),t.classList.add("hoverControl"),t.appendChild(r),r.setAttribute("data-testid","deleteButtonWithCheck"),r}function $t(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{buttonColor:"Primary",needsBorder:!1},r=e.createElement("button");if(r.setAttribute("type","button"),t){var o=r.appendChild(e.createElement("img"));o.setAttribute("src",t),o.setAttribute("style","width: 2em; height: 2em;"),o.title=n,r.setAttribute("style",Me.buttonStyle)}else r.textContent=n.toLocaleUpperCase(),r.onmouseover=function(){"Secondary"===i.buttonColor?i.needsBorder?r.setAttribute("style",Me.secondaryButtonNoBorderHover):r.setAttribute("style",Me.secondaryButtonHover):i.needsBorder?r.setAttribute("style",Me.primaryButtonNoBorderHover):r.setAttribute("style",Me.primaryButtonHover)},r.onmouseout=function(){"Secondary"===i.buttonColor?i.needsBorder?r.setAttribute("style",Me.secondaryButtonNoBorder):r.setAttribute("style",Me.secondaryButton):i.needsBorder?r.setAttribute("style",Me.primaryButtonNoBorder):r.setAttribute("style",Me.primaryButton)},"Secondary"===i.buttonColor?i.needsBorder?r.setAttribute("style",Me.secondaryButtonNoBorder):r.setAttribute("style",Me.secondaryButton):i.needsBorder?r.setAttribute("style",Me.primaryButtonNoBorder):r.setAttribute("style",Me.primaryButton);return a&&r.addEventListener("click",a,!1),r}function Kt(e,t){var n=$t(e,St,"Cancel",t);return n.firstChild&&(n.firstChild.style.opacity="0.3"),n}function Qt(e,t){return $t(e,Lt,"Continue",t)}function Zt(e,t,n,a,i,r){return new Promise(function(t,o){var s=e.createElement("div");a=a||R.foaf("name");var c=(r=r||(i?ue(i):"  "))+" "+ue(a)+": ";s.appendChild(e.createElement("p")).textContent=c;var l=e.createElement("input");function u(){s.parentNode.removeChild(s),t(l.value.trim())}l.setAttribute("type","text"),l.setAttribute("size","100"),l.setAttribute("maxLength","2048"),l.setAttribute("style",Me.textInputStyle),l.select(),s.appendChild(l),n.appendChild(s),l.addEventListener("keyup",function(e){13===e.keyCode&&u()},!1),s.appendChild(e.createElement("br")),s.appendChild(Kt(e,function(e){s.parentNode.removeChild(s),t(null)})),s.appendChild(Qt(e,function(e){u()})),l.focus()})}var Yt=Xt;function Xt(e,t,n,a){var i=e.createElement("tr");a=a||{};var r=i.appendChild(e.createElement("td")),o=i.appendChild(e.createElement("td")),s=i.appendChild(e.createElement("td")),c=a.image||Wt(e,n);if(r.setAttribute("style","vertical-align: middle; width:2.5em; padding:0.5em; height: 2.5em;"),o.setAttribute("style","vertical-align: middle; text-align:left;"),s.setAttribute("style","vertical-align: middle; width:2em; padding:0.5em; height: 4em;"),r.appendChild(c),a.title?o.textContent=a.title:Pt(o,n),a.deleteFunction&&Jt(e,s,a.noun||"one",a.deleteFunction),n.uri){if(!1!==a.link)s.appendChild(_t(e,n)).classList.add("HoverControlHide"),s.appendChild(e.createElement("br"));!1!==a.draggable&&(c.setAttribute("draggable","false"),qe(i,n))}return i.subject=n,i}function en(e,t,n,a){var i=t.appendChild(e.createElement("div"));n?i.textContent=n:Pt(i,a)}function tn(e,t,n,a){var i=t.appendChild(e.createElement("div"));i.setAttribute("style",Me.linkDivStyle),a.deleteFunction&&Jt(e,i,a.noun||"one",a.deleteFunction),n.uri&&(!1!==a.link&&jt(e,i,n),qe(t,n))}function nn(e,t,n){var a=e.createElement("div");a.setAttribute("style",Me.renderAsDivStyle);var i=(n=n||{}).image||Wt(e,t);return At(e,a,i),en(e,a,n.title,t),tn(e,a,t,n),n.clickable&&n.onClickFunction&&Et(a,n.onClickFunction),n.wrapInATR?Ct(e,a,t):a}function an(e){if(e.refresh)e.refresh();else for(var t=0;t<e.children.length;t++)an(e.children[t])}function rn(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};function i(n){var a=n,i={noun:d};return l&&(i.deleteFunction=function(){!function(e){if(!m.updater)throw new Error("kb has no updater");m.updater.update((0,L.st)(t,p,e,c),[],function(e,t,n,a){t?r():Rt(void 0,"Error deleting one: "+n)})}(a)}),Yt(e,p,n,i)}var r=function(){var e=m.each(t,p);e.sort(),Xe(x,e,i)};function o(e){var n=[];if(e.forEach(function(e){var a=(0,L.sym)(e);de.Rm("Dropped on attachemnt "+e),n.push((0,L.st)(t,p,a,c))}),!m.updater)throw new Error("kb has no updater");m.updater.update([],n,function(e,t,n,a){t?r():Rt(void 0,"Error adding one: "+n)})}function s(e){var n,i;He(m.fetcher,e,null===(n=a.uploadFolder)||void 0===n?void 0:n.uri,null===(i=a.uploadFolder)||void 0===i?void 0:i.uri,function(e,n){var a=[(0,L.st)(t,p,m.sym(n),c)];if(!m.updater)throw new Error("kb has no updater");m.updater.update([],a,function(e,t,n,a){t?r():Rt(void 0,"Error adding link to uploaded file: "+n)})})}var c=a.doc||t.doc();void 0===a.modify&&(a.modify=!0);var l=a.modify,u=a.promptIcon||Tt+"noun_748003.svg",p=a.predicate||R.wf("attachment"),d=a.noun||"attachment",m=f,h=n.appendChild(e.createElement("table"));h.setAttribute("style","margin-top: 1em; margin-bottom: 1em;");var v=h.appendChild(e.createElement("tr")),b=v.appendChild(e.createElement("td")),x=v.appendChild(e.createElement("td")).appendChild(e.createElement("table"));if(x.appendChild(e.createElement("tr")),h.refresh=r,r(),l){var g=$t(e,u,"Drop attachments here");b.appendChild(g);var y=a.uploadFolder?s:null;if(ze(g,o,y),ze(b,o,y),a.uploadFolder){var w=gn(e,s);b.appendChild(w)}}return h}function on(e){e.preventDefault(),e.stopPropagation();var t=at(e).getAttribute("href");if(!t)return de.Rm("openHrefInOutlineMode: No href found!\n");var n=window.document;n.outlineManager?n.outlineManager.GotoSubject(f.sym(t),!0,void 0,!0,void 0):window&&window.panes&&window.panes.getOutliner?window.panes.getOutliner().GotoSubject(f.sym(t),!0,void 0,!0,void 0):de.Rm("ERROR: Can't access outline manager in this config")}function sn(e){if(void 0!==e.uri){var t=e.uri;if("http://"===t.slice(0,7)){var n=(t=t.slice(7)).indexOf("#");if(n>=0)t=t.slice(0,n);else{var a=t.lastIndexOf("/");if(a<0)return;t=t.slice(0,a)}return f.sym("http://tabulator.org/wiki/annnotation/"+t)}}}function cn(){var e={};return f.statementsMatching(void 0,R.rdf("type"),void 0).forEach(function(t){t.object.value&&(e[t.object.value]=!0)}),f.statementsMatching(void 0,R.rdfs("subClassOf"),void 0).forEach(function(t){t.object.value&&(e[t.object.value]=!0),t.subject.value&&(e[t.subject.value]=!0)}),f.each(void 0,R.rdf("type"),R.rdfs("Class")).forEach(function(t){t.value&&(e[t.value]=!0)}),e}function ln(e){var t={},n={},a={},i=0,r=0,o=0,s=e.predicateIndex;for(var c in s){"Literal"===s[c][0].object.termType?(n[c]=!0,r++):(a[c]=!0,i++)}for(var l=e.each(void 0,R.rdf("type"),R.rdf("Property")),u=0;u<l.length;u++){var p=l[u].toNT();a[p]||n[p]||(n[p]=!0,a[p]=!0,o++)}return t.op=a,t.dp=n,Y("propertyTriage: ".concat(i," non-lit, ").concat(r," literal. ").concat(o," unknown.")),t}function un(e,t){var n=e.createElement("button");return n.setAttribute("type","button"),n.textContent="Goto "+ue(t),n.addEventListener("click",function(n){e.outlineManager.GotoSubject(t,!0,void 0,!0,void 0)},!0),n}function pn(e,t){var n=e.createElement("button");return n.setAttribute("type","button"),n.textContent="",n.addEventListener("click",function(e){t.parentNode.removeChild(t)},!0),n}function dn(e,t,n,a,i,r,o,s,c){return mn(e.createElement("div"),e,t,n,a,i,r,o,s,c)}function mn(e,t,n,a,i,r,o,s,c,l){var u="border: 0.1em solid #ddd; border-bottom: none; width: 95%; height: 2em; padding: 0.5em;",p=null;e.innerHTML="";for(var d=function(e,o){var d,m,f=function(){var e=r?n.each(void 0,i,o):n.each(o,i);x.setAttribute("class",0===e.length?"hideTillHover":""),m.setAttribute("src",s.connectIcon||Tt+"noun_25830.svg"),m.setAttribute("title",e.length?e.length:"attach")},h=fn.twoLine.widgetForClass(a);(d=h(t,o)).setAttribute("style",u);var v=t.createElement("div");v.setAttribute("class","hideTillHover"),v.setAttribute("style","float:right; width:10%");var b=t.createElement("a");b.setAttribute("href",o.uri),b.setAttribute("style","float:right"),v.appendChild(b).textContent=">",e.appendChild(v);var x=t.createElement("div");return x.setAttribute("style",(r?"float:left;":"float:right;")+" width:30px;"),m=t.createElement("img"),f(),x.appendChild(m),e.appendChild(x),d.addEventListener("click",function(e){p===d?(d.setAttribute("style",u),p=null):(p&&p.setAttribute("style",u),d.setAttribute("style",u+"background-color: #ccc; color:black;"),p=d),c(o,e,p===d),f()},!1),m.addEventListener("click",function(e){l(o,e,r,f)},!1),e.appendChild(d),e},m=0;m<o.length;m++){var f=t.createElement("div");e.appendChild(f),d(f,o[m])}return e}var fn={};function hn(e,t){for(var n=e.querySelectorAll("link"),a=0;a<n.length;a++)if("stylesheet"===(n[a].getAttribute("rel")||"")&&(n[a].getAttribute("href")||"")===t)return;var i=e.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t),e.getElementsByTagName("head")[0].appendChild(i)}function vn(e){return xn(e,"audio")}function bn(e){return xn(e,"video")}function xn(e,t){var n=t||"image",a=f.findTypeURIs(e),i=L.Util.mediaTypeClass(n+"/*").uri.split("*")[0];for(var r in a)if(r.startsWith(i))return!0;return{audio:"http://purl.org/dc/dcmitype/Sound",image:"http://purl.org/dc/dcmitype/Image",video:"http://purl.org/dc/dcmitype/MovingImage"}[n]in a}function gn(e,t){var n=e.createElement("div"),a=n.appendChild(e.createElement("input"));return a.setAttribute("type","file"),a.setAttribute("multiple","true"),a.addEventListener("change",function(e){de.Rm("File drop event: ",e),e.files?t(e.files):e.target&&e.target.files?t(e.target.files):alert("Sorry no files .. internal error?")},!1),a.style="display:none",ze(n.appendChild($t(e,Tt+"noun_Upload_76574_000000.svg","Upload files",function(e){a.click()})),null,t),n}function yn(e,t,n){return(t=Be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}fn={line:{},twoLine:{"":function(e,t){var n=e.createElement("div");return n.textContent=ue(t),n},"http://www.w3.org/2000/10/swap/pim/qif#Transaction":function(e,t){var n="",a=function(e){var a=f.any(t,R.qu(e));return a||(n+="@@ No value for "+e+"! "),a?ht(a.value):"?"},i=e.createElement("table");return i.innerHTML='\n      <tr>\n      <td colspan="2"> '.concat(a("payee"),"</td>\n      < /tr>\n      < tr >\n      <td>").concat(a("date").slice(0,10),'</td>\n      <td style = "text-align: right;">').concat(a("amount"),"</td>\n      </tr>"),n&&(i.innerHTML='\n      <tr>\n        <td><a href="'.concat(ht(t.uri),'">').concat(ht(n),"</a></td>\n      </tr>")),i},"http://www.w3.org/ns/pim/trip#Trip":function(e,t){var n=function(e){var n=f.any(t,e);return n?ht(n.value):"?"},a=e.createElement("table");return a.innerHTML='\n    <tr>\n      <td colspan="2">'.concat(n(R.dc("title")),'</td>\n    </tr>\n    <tr style="color: #777">\n      <td>').concat(n(R.cal("dtstart")),"</td>\n      <td>").concat(n(R.cal("dtend")),"</td>\n    </tr>"),a},widgetForClass:function(e){var t=fn.twoLine[e.uri],n=f;if(t)return t;var a=n.findSuperClassesNT(e);for(var i in a)if(t=fn.twoLine[n.fromNT(i).uri])return t;return fn.twoLine[""]}}};const wn={authEndpoint:"",fallbackAuthEndpoint:"https://databox.me/",signupEndpoint:"https://solidproject.org/use-solid/",signupWindowHeight:600,signupWindowWidth:1024,key:"",cert:""};function kn(e){this.config=e||wn}var Cn;kn.prototype.listen=function(){return new Promise(function(e,t){var n=window.addEventListener?"addEventListener":"attachEvent";(0,window[n])("attachEvent"===n?"onmessage":"message",function(n){var a=n.data;if("User:"===a.slice(0,5)){var i=a.slice(5,a.length);return i&&i.length>0&&"http"===i.slice(0,4)?e(i):t(i)}},!0)})},kn.prototype.signup=function(e){e=e||this.config.signupEndpoint;var t=this.config.signupWindowWidth,n=this.config.signupWindowHeight,a=window.screen.width/2-(t/2+10),i=window.screen.height/2-(n/2+50),r=e+"?origin="+encodeURIComponent(window.location.origin),o="resizable,scrollbars,status,width="+t+",height="+n+",left="+a+",top="+i;window.open(r,"Solid signup",o);var s=this;return new Promise(function(e){s.listen().then(function(t){return e(t)})})};var En=(yn(yn(yn(yn(yn(yn(yn(yn(yn(yn(Cn={},R.ui("ColorField").uri,{size:9,type:"color",style:"height: 3em;",dt:"color",pattern:/^\s*#[0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f]([0-9a-f][0-9a-f])?\s*$/}),R.ui("DateField").uri,{size:20,type:"date",dt:"date",pattern:/^\s*[0-9][0-9][0-9][0-9](-[0-1]?[0-9]-[0-3]?[0-9])?Z?\s*$/}),R.ui("DateTimeField").uri,{size:20,type:"datetime-local",dt:"dateTime",pattern:/^\s*[0-9][0-9][0-9][0-9](-[0-1]?[0-9]-[0-3]?[0-9])?(T[0-2][0-9]:[0-5][0-9](:[0-5][0-9])?)?Z?\s*$/}),R.ui("TimeField").uri,{size:10,type:"time",dt:"time",pattern:/^\s*([0-2]?[0-9]:[0-5][0-9](:[0-5][0-9])?)\s*$/}),R.ui("IntegerField").uri,{size:12,style:"text-align: right;",dt:"integer",pattern:/^\s*-?[0-9]+\s*$/}),R.ui("DecimalField").uri,{size:12,style:"text-align: right;",dt:"decimal",pattern:/^\s*-?[0-9]*(\.[0-9]*)?\s*$/}),R.ui("FloatField").uri,{size:12,style:"text-align: right;",dt:"float",pattern:/^\s*-?[0-9]*(\.[0-9]*)?((e|E)-?[0-9]*)?\s*$/}),R.ui("SingleLineTextField").uri,{}),R.ui("NamedNodeURIField").uri,{namedNode:!0}),R.ui("TextField").uri,{}),yn(yn(yn(yn(yn(Cn,R.ui("PhoneField").uri,{size:20,uriPrefix:"tel:",pattern:/^\+?[\d-]+[\d]*$/}),R.ui("EmailField").uri,{size:30,uriPrefix:"mailto:",pattern:/^\s*.*@.*\..*\s*$/}),R.ui("Group").uri,{style:Me.formGroupStyle}),R.ui("Comment").uri,{element:"p",style:Me.commentStyle}),R.ui("Heading").uri,{element:"h3",style:Me.formHeadingStyle})),An=m.store,_n={};function jn(e){var t=An,n=t.findTypeURIs(e),a=t.bottomTypeURIs(n),i=[];for(var r in a)i.push(r);return i[0]}function Tn(e,t){var n=jn(t),a=_n[n];return Z("paneUtils: Going to implement field "+t+" of type "+n),a||function(e,a){var i=kt(e,"No handler for field "+t+" of type "+n);return a&&a.appendChild(i),i}}var Sn="https://www.w3.org/ns/css#";var Ln=m.store;function Rn(e,t,n,a,i){n.style.display="flex",n.style.flexDirection="row";var r=n.appendChild(e.createElement("div"));r.style.width=Ue.formFieldNameBoxWidth;var o=n.appendChild(e.createElement("div"));return r.setAttribute("class","formFieldName"),r.setAttribute("style",Me.formFieldNameBoxStyle),o.setAttribute("class","formFieldValue"),i?r.appendChild(e.createTextNode(i)):t.any(a,R.ui("property"))?r.appendChild(Bn(e,t.any(a,R.ui("property")),a)):(o.appendChild(kt(e,"No property or label given for form field: "+a)),r.appendChild(e.createTextNode("???"))),o}function Bn(e,t,n){var a=Ln.any(n,R.ui("label"));if(a||(a=ue(t,!0)),void 0===t)return e.createTextNode("@@Internal error: undefined property");var i=e.createElement("a");return t.uri&&i.setAttribute("href",t.uri),i.setAttribute("style","color: #3B5998; text-decoration: none;"),i.textContent=a,i}function Nn(e,t,n){var a=Ln.statementsMatching(e,t);if(0===a.length)return n;if(!Ln.updater)throw new Error("Store has no updater");return a.length>0&&a[0].why.value&&Ln.updater.editable(a[0].why.value,Ln)?Ln.sym(a[0].why.value):n}function In(e,t,n,a,i,r,o){var s=Ln,c=i.doc?i.doc():null,l=e.createElement("div"),u=s.any(i,R.ui("property"));if(t&&t.appendChild(l),!u)return l.appendChild(kt(e,"Error: No property given for text field: "+i));var p=Rn(e,s,l,i),d=s.anyJS(i,R.ui("suppressEmptyUneditable"),null,c),m=jn(i),f=En[m];void 0===f&&(f={style:""});var h=f.style||"",v=Me.textInputStyle+h,b=e.createElement("input");b.style=v,p.appendChild(b),b.setAttribute("type",f.type?f.type:"text");var x=s.anyJS(i,R.ui("size"))||Ue.textInputSize||20;b.setAttribute("size",x);var g=s.any(i,R.ui("maxLength"));b.setAttribute("maxLength",g?""+g:Ue.basicMaxLength),r=r||Nn(a,u,r);var y=s.any(a,u,void 0,r);if(y||(y=s.any(i,R.ui("default"))),y&&y.value&&f.uriPrefix?b.value=decodeURIComponent(y.value.replace(f.uriPrefix,"")).replace(/ /g,""):y&&(b.value=y.value||y.value||""),b.setAttribute("style",v),!s.updater)throw new Error("kb has no updater");return s.updater.editable(r.uri)?(b.addEventListener("keyup",function(e){f.pattern&&b.setAttribute("style",v+(b.value.match(f.pattern)?"color: green;":"color: red;"))},!0),b.addEventListener("change",function(t){if(!f.pattern||b.value.match(f.pattern)){b.disabled=!0,b.setAttribute("style",v+"color: gray;");var n,i=s.statementsMatching(a,u);f.namedNode?n=s.sym(b.value):f.uriPrefix?(n=encodeURIComponent(b.value.replace(/ /g,"")),n=s.sym(f.uriPrefix+b.value)):n=f.dt?new L.Literal(b.value.trim(),void 0,R.xsd(f.dt)):new L.Literal(b.value);var c=i.map(function(e){return(0,L.st)(e.subject,e.predicate,n,e.why)});0===c.length&&(c=[(0,L.st)(a,u,n,r)]),function e(t,n,a){var i=[];if(n.forEach(function(e){i.includes(e.why.uri)||i.push(e.why.uri)}),t.forEach(function(e){i.includes(e.why.uri)||i.push(e.why.uri)}),0===i.length)throw new Error("updateMany has no docs to patch");if(!s.updater)throw new Error("kb has no updater");if(1===i.length)return s.updater.update(t,n,a);var r=i.pop(),o=n.filter(function(e){return e.why.uri===r}),c=n.filter(function(e){return e.why.uri!==r}),l=t.filter(function(e){return e.why.uri===r}),u=t.filter(function(e){return e.why.uri!==r});s.updater.update(l,o,function(t,n,i){n?e(u,c,a):a(t,n,i)})}(i,c,function(t,n,a){n?(b.disabled=!1,b.setAttribute("style",v)):l.appendChild(kt(e,a)),o(n,a)})}},!0),l):(b.readOnly=!0,b.style=Me.textInputStyleUneditable+h,d&&""===b.value&&(l.style.display="none"),l)}var On="https://www.w3.org/ns/iana/language-code/",Fn=["en","fr","de","it","ar"];function Dn(e){return e||(e=[]),e.concat(Fn.filter(function(t){return!e.includes(t)}))}function Pn(e){return Un.apply(this,arguments)}function Un(){return(Un=N(O().mark(function e(t){var n,a,i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.doc(),e.next=1,null===(n=f.fetcher)||void 0===n?void 0:n.load(a);case 1:if(i=f.any(t,R.schema("knowsLanguage"),null,a)){e.next=2;break}return e.abrupt("return",Fn);case 2:if(r=[],i.elements.forEach(function(e){var t=f.any(e,R.solid("publicId"),null,a);if(t)if(t.value.startsWith(On)){var n=t.value.slice(On.length);r.push(n)}else console.error("What should be a language code ".concat(t.value," does not start with ").concat(On));else console.warn("getPreferredLanguages: No publiID of language.")}),!(r.length>0)){e.next=3;break}return console.log('     User knows languages with codes: "'.concat(r.join(","),'"')),e.abrupt("return",Dn(r));case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Mn(){return zn.apply(this,arguments)}function zn(){return(zn=N(O().mark(function e(){var t,n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,l.currentUser();case 1:if(!(t=e.sent)){e.next=3;break}return e.next=2,Pn(t);case 2:if(!(n=e.sent)){e.next=3;break}return e.abrupt("return",n);case 3:if("undefined"==typeof navigator){e.next=5;break}if(!navigator.languages){e.next=4;break}return e.abrupt("return",Dn(navigator.languages.map(function(e){return e.split("-")[0]})));case 4:if(!navigator.language){e.next=5;break}return e.abrupt("return",Dn([navigator.language.split("-")[0]]));case 5:return e.abrupt("return",Fn);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qn(e,t){var n={};e.forEach(function(e){var t=e.subject.value;n[t]=n[t]||[],n[t].push(e)});var a=t||Fn;a.reverse();var i=[];for(var r in n){var o=n[r].map(function(e){var t=e.name["xml:lang"];return[a.indexOf(t),e]});o.sort(),o.reverse(),i.push(o[0][1])}return de.Rm(" Filter by language: ".concat(e.length," -> ").concat(i.length)),i}var Hn=200,Vn=/\$\(subject\)/g,Gn={Corporation:"http://www.wikidata.org/entity/Q6881511",EducationalOrganization:"http://www.wikidata.org/entity/Q178706",GovernmentOrganization:"http://www.wikidata.org/entity/Q327333",MedicalOrganization:"http://www.wikidata.org/entity/Q4287745",MusicGroup:"http://www.wikidata.org/entity/Q32178211",NGO:"http://www.wikidata.org/entity/Q163740",Occupation:"http://www.wikidata.org/entity/Q28640",Project:"http://www.wikidata.org/entity/Q170584",ResearchOrganization:"http://www.wikidata.org/entity/Q31855",SportsOrganization:"http://www.wikidata.org/entity/Q4438121"},Wn='prefix vcard: <http://www.w3.org/2006/vcard/ns#>\nCONSTRUCT\n{  wd:Q49108 vcard:fn ?itemLabel.\nwd:Q49108 rdf:type ?klass. ?klass rdfs:label ?klassLabel; rdfs:comment ?klassDescription .\nwd:Q49108 schema:logo ?logo;\n   schema:image ?image;\n   schema:logo  ?sealImage;\n   schema:subOrganization  ?subsidiary .\n      ?subsidiary rdfs:label ?subsidiaryLabel .\n ?supersidiary schema:subOrganization wd:Q49108 .\n      ?supersidiary rdfs:label ?supersidiaryLabel .\n  wd:Q49108 schema:location ?location .\n     ?location  schema:elevation  ?elevation .\n     ?location  wdt:P131  ?region .  ?region rdfs:label ?regionLabel .\n     ?location wdt:P625 ?coordinates .\n     ?location  schema:country  ?country . ?country rdfs:label ?countryLabel .\n}\nWHERE\n{  optional {wd:Q49108 rdfs:label ?itemLabel} .\n  optional {wd:Q49108 wdt:P154 ?logo .}\n  optional {wd:Q49108 wdt:P31 ?klass .}\n  optional {wd:Q49108 wdt:P158  ?sealImage .}\n  optional {wd:Q49108 wdt:P18 ?image .}\n\n  optional { wd:Q49108       wdt:P355 ?subsidiary . }\n  optional { ?supersidiary   wdt:P355 wd:Q49108. }\n\n  optional { wd:Q49108 wdt:P276 ?location .\n\n    optional { ?location  schema:eleveation  ?elevation }\n    optional { ?location  wdt:P131  ?region }\n    optional { ?location wdt:P625 ?coordinates }\n    optional {  ?location  wdt:P17  ?country }\n  }\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it". }\n}',Jn={credentials:"omit",headers:new Headers({Accept:"application/json"})},$n={label:"ESCO",logo:f.sym("https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif"),searchByNameURI:"https://ec.europa.eu/esco/api/search?language=$(language)&type=occupation&text=$(name)"},Kn={label:"DBPedia",logo:f.sym("https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/DBpediaLogo.svg/263px-DBpediaLogo.svg.png"),searchByNameQuery:'select distinct ?subject, ?name where {\n    ?subject a $(targetClass); rdfs:label ?name\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit)',endpoint:"https://dbpedia.org/sparql/"},Qn={AcademicInsitution:"http://umbel.org/umbel/rc/EducationalOrganization"},Zn={AcademicInsitution:"http://www.wikidata.org/entity/Q4671277",Enterprise:"http://www.wikidata.org/entity/Q6881511",Business:"http://www.wikidata.org/entity/Q4830453",NGO:"http://www.wikidata.org/entity/Q79913",CharitableOrganization:"http://www.wikidata.org/entity/Q708676",Insitute:"http://www.wikidata.org/entity/Q1664720"},Yn={label:"WikiData",limit:3e3,logo:f.sym("https://www.wikimedia.org/static/images/project-logos/wikidatawiki.png"),endpoint:"https://query.wikidata.org/sparql",searchByNameQuery:'SELECT ?subject ?name\n  WHERE {\n    ?klass wdt:P279* $(targetClass) .\n    ?subject wdt:P31 ?klass .\n    ?subject rdfs:label ?name.\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit) ',insitituteDetailsQuery:'CONSTRUCT\n{  wd:Q49108 schema:name ?itemLabel;\n             schema:logo ?logo;\n              schema:logo  ?sealImage;\n             schema:subOrganization  ?subsidiary .\n                 ?subsidiary schema:name ?subsidiaryLabel .\n}\nWHERE\n{\n   wd:Q49108 # rdfs:label ?itemLabel ;\n             wdt:P154 ?logo;\n              wdt:P158  ?sealImage ;\n             wdt:P355  ?subsidiary .\n          #  ?subsidiary rdfs:label ?subsidiaryLabel .\n\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE], fr". }\n}'},Xn={"http://www.wikidata.org/entity/Q15936437":R.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q1664720":R.schema("EducationalOrganization"),"http://www.wikidata.org/entity/Q43229":R.schema("Organization"),"http://www.wikidata.org/entity/Q3918":R.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q170584":R.schema("Project"),"http://www.wikidata.org/entity/Q327333":R.schema("GovernmentOrganization"),"http://www.wikidata.org/entity/Q2221906":R.schema("Place"),"http://www.wikidata.org/entity/Q167037":R.schema("Corporation")},ea={targetClass:R.rdf("type"),sealImage:R.schema("logo"),shortName:R.foaf("nick"),subsidiary:R.schema("subOrganization"),city:R.vcard("locality"),state:R.vcard("region"),country:R.vcard("country-name"),homepage:R.foaf("homepage"),lat:R.schema("latitude"),long:R.schema("longitude")};function ta(e){var t=e.type.toLowerCase();if("uri"===t||"iri"===t)return f.sym(e.value);if("literal"===t)return e["xml:lang"]?new L.Literal(e.value,e["xml:lang"]):new L.Literal(e.value);throw new Error('bindingToTerm: Unexpected type "'.concat(e.type,'" in sparql binding}'))}function na(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ea,r={};de.Rm("loadFromBindings:  subject: ".concat(t)),de.Rm("                       doc: ".concat(a)),n.forEach(function(e){for(var t in e){var n=e[t],a=JSON.stringify(n);r[t]=r[t]||new Set,r[t].add(a)}});var o=function(n){var o=r[n];de.Rm("    results ".concat(n," -> ").concat(o)),o.forEach(function(r){var o,s=JSON.parse(r),c=s.type,l=s.value;if("uri"===c)o=e.sym(l);else{if("literal"!==c)throw new Error("loadFromBindings:  unexpected type: ".concat(c));o=new L.Literal(l,s.language,s.datatype)}if("type"===n)Xn[l]?o=Xn[l]:de.R8("Unmapped Wikidata Class: "+l);else if("coordinates"===n){de.Rm("         @@@ hey a point: "+l);var u=/.*\(([-0-9.-]*) ([-0-9.-]*)\)/.exec(l);if(u){var p=R.xsd("float"),d=new L.Literal(u[1],null,p),m=new L.Literal(u[2],null,p);e.add(t,R.schema("longitude"),m,a),e.add(t,R.schema("latitude"),d,a)}else de.Rm("Bad coordinates syntax: "+l)}else{var f=i[n]||R.schema(n);e.add(t,f,o,a),de.Rm("  public data ".concat(f," ").concat(o,"."))}})};for(var s in r)o(s)}function aa(e){return e._embedded.results.map(function(e){return{name:{value:e.title,type:"literal"},subject:{type:"IRI",value:e.uri}}})}function ia(e,t,n){return ra.apply(this,arguments)}function ra(){return(ra=N(O().mark(function e(t,n,a){var i,r,o,s,c,l;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.searchByNameURI){e.next=1;break}throw new Error("Missing queryTarget.searchByNameURI on queryESCODataByName");case 1:return r=a.limit||Hn,o=a.searchByNameURI.replace("$(name)",t).replace("$(limit)",""+r).replace("$(targetClass)",n.toNT()),de.Rm("Querying ESCO data - uri: "+o),e.next=2,null===(i=f.fetcher)||void 0===i?void 0:i.webOperation("GET",o,Jn);case 2:if(s=e.sent,c=(null==s?void 0:s.responseText)||"",de.Rm("    Query result  text"+c.slice(0,500)+"..."),0!==c.length){e.next=3;break}throw new Error("Wot no text back from ESCO query "+o);case 3:return l=JSON.parse(c),de.Rm("    ESCO Query result JSON"+JSON.stringify(l,null,4).slice(0,500)+"..."),e.abrupt("return",aa(l));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oa(e){var t=e.indexOf("SPARQL-QUERY");if(t<0)return e;de.R8("  ### Fixing JSON with wikidata error code injection "+e.slice(t,t+200));var n=e.lastIndexOf("}, {");return e.slice(0,n)+" } ] } } "}function sa(e,t,n,a){return ca.apply(this,arguments)}function ca(){return(ca=N(O().mark(function e(t,n,a,i){var r,o,s,c,l,u,p,d,m,h,v,b;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e){var a=i.limit||Hn;return e.replace("$(name)",t).replace("$(limit)",""+a).replace("$(language)",o).replace("$(targetClass)",n.toNT())},n){e.next=1;break}throw new Error("queryPublicDataByName: No class provided");case 1:return e.next=2,Mn();case 2:if(v=e.sent){e.next=3;break}v=Fn;case 3:if(o=v[0]||"en",!i.searchByNameQuery){e.next=4;break}return s=r(i.searchByNameQuery),de.Rm("Querying public data - sparql: "+s),e.abrupt("return",la(s,i));case 4:if(!i.searchByNameURI){e.next=13;break}return c=r(i.searchByNameURI),e.prev=5,e.next=6,null===(u=f.fetcher)||void 0===u?void 0:u.webOperation("GET",c,Jn);case 6:l=e.sent,e.next=8;break;case 7:throw e.prev=7,b=e.catch(5),new Error("Exception when trying to fetch ".concat(c," \n ").concat(b));case 8:if(p=l.responseText||"",200===l.status){e.next=9;break}throw new Error("HTTP error status ".concat(l.status," trying to fetch ").concat(c," "));case 9:if(de.Rm("    Query result  text"+p.slice(0,500)+"..."),0!==p.length){e.next=10;break}throw new Error("queryPublicDataByName: No text back from public data query "+c);case 10:if(d=oa(p),m=JSON.parse(d),de.Rm("    API Query result JSON"+JSON.stringify(m,null,4).slice(0,500)+"..."),!m._embedded){e.next=11;break}return de.Rm("      Looks like ESCO"),h=aa(m),e.abrupt("return",h);case 11:throw alert("Code me: unrecognized API return format"),new Error("*** Need to add code to parse unrecognized API JSON return\n".concat(JSON.stringify(m,null,4)));case 12:e.next=14;break;case 13:throw new Error("Query source must have either rest API or SPARQL endpoint.");case 14:case"end":return e.stop()}},e,null,[[5,7]])}))).apply(this,arguments)}function la(e,t){return ua.apply(this,arguments)}function ua(){return(ua=N(O().mark(function e(t,n){var a,i,r,o,s,c,l,u,p,d;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.endpoint){e.next=1;break}throw new Error("Missing queryTarget.endpoint required for queryPublicDataSelect");case 1:return(i=new URL(n.endpoint)).searchParams.append("query",t),r=i.href,de.Rm(" queryPublicDataSelect uri: "+r),(o=new Headers).append("Accept","application/json"),s={credentials:"omit",headers:o},e.next=2,null===(a=f.fetcher)||void 0===a?void 0:a.webOperation("GET",r,s);case 2:if(c=e.sent,0!==(l=(null==c?void 0:c.responseText)||"").length){e.next=3;break}throw new Error("No text back from query "+r);case 3:return u=oa(l),p=JSON.parse(u),de.Rm("    Query result JSON"+JSON.stringify(p,null,4).slice(0,100)+"..."),d=p.results.bindings,e.abrupt("return",d);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pa(e,t,n){return da.apply(this,arguments)}function da(){return(da=N(O().mark(function e(t,n,a){var i,r,o,s,c,l,u,p;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(de.Rm("queryPublicDataConstruct: sparql:",t),a.endpoint){e.next=1;break}throw new Error("Missing queryTarget.endpoint required for queryPublicDataConstruct");case 1:return(r=new URL(a.endpoint)).searchParams.append("query",t),o=r.href,de.Rm(" queryPublicDataConstruct uri: "+o),(s=new Headers).append("Accept","text/turtle"),c={credentials:"omit",headers:s},e.next=2,null===(i=f.fetcher)||void 0===i?void 0:i.webOperation("GET",o,c);case 2:if(l=e.sent,u=(null==l?void 0:l.responseText)||"No response text?",p=u.length>500?u.slice(0,200)+" ... "+u.slice(-200):u,de.Rm("    queryPublicDataConstruct result text:"+p),0!==u.length){e.next=3;break}throw new Error("queryPublicDataConstruct: No text back from construct query:"+o);case 3:(0,L.parse)(u,f,n.uri,"text/turtle");case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ma(e,t,n){return fa.apply(this,arguments)}function fa(){return fa=N(O().mark(function e(t,n,a){var i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.uri.startsWith("https://dbpedia.org/resource/")){e.next=1;break}return e.abrupt("return",wa(t,n,a));case 1:if(!a.uri.match(/^https?:\/\/www\.wikidata\.org\/entity\/.*/)){e.next=3;break}return e.next=2,ha(t,n,a);case 2:e.next=4;break;case 3:return i=a.uri.startsWith("http:")?t.sym("https:"+a.uri.slice(5)):a,(r=new Headers).append("Accept","text/turtle"),e.abrupt("return",t.fetcher.load(i,{credentials:"omit",headers:r}));case 4:case"end":return e.stop()}},e)})),fa.apply(this,arguments)}function ha(e,t,n){return va.apply(this,arguments)}function va(){return(va=N(O().mark(function e(t,n,a){var i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=/wd:Q49108/g,r=Wn.replace(i,a.toNT()),e.next=1,pa(r,a,Yn);case 1:de.Rm("getWikidataDetails: loaded.",a);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ba(e,t,n){return xa.apply(this,arguments)}function xa(){return xa=N(O().mark(function e(t,n,a){var i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i='select distinct *  where {\n  optional { $(subject)  wdt:P31  ?targetClass } # instance of\n  optional { $(subject)  wdt:P154  ?logo }\n  optional { $(subject)  wdt:P158  ?sealImage }\n# optional { $(subject)  wdt:P159  ?headquartersLocation }\n\noptional { $(subject)  wdt:P17  ?country }\noptional { $(subject)  wdt:P18  ?image }\noptional { $(subject)  wdt:P1813  ?shortName }\n\noptional { $(subject)  wdt:P355  ?subsidiary }\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(Vn,a.toNT()),e.next=1,la(i,Yn);case 1:r=e.sent,na(t,a,r,a.doc());case 2:case"end":return e.stop()}},e)})),xa.apply(this,arguments)}function ga(e,t,n){return ya.apply(this,arguments)}function ya(){return ya=N(O().mark(function e(t,n,a){var i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i='select distinct *  where {\n\n  $(subject) wdt:P276 ?location .\n\n  optional { ?location  wdt:P2044  ?elevation }\n  optional { ?location  wdt:P131  ?region }\n  optional { ?location wdt:P625 ?coordinates }\noptional {  ?location  wdt:P17  ?country }\n\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(Vn,a.toNT()),de.Rm(" location query sparql:"+i),e.next=1,la(i,Yn);case 1:r=e.sent,de.Rm(" location query bindings:",r),na(t,a,r,a.doc());case 2:case"end":return e.stop()}},e)})),ya.apply(this,arguments)}function wa(e,t,n){return ka.apply(this,arguments)}function ka(){return ka=N(O().mark(function e(t,n,a){var i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="select distinct ?city, ?state, ?country, ?homepage, ?logo, ?lat, ?long,  WHERE {\n    OPTIONAL { <".concat(a,"> <http://dbpedia.org/ontology/city> ?city }\n    OPTIONAL { ").concat(a," <http://dbpedia.org/ontology/state> ?state }\n    OPTIONAL { ").concat(a," <http://dbpedia.org/ontology/country> ?country }\n    OPTIONAL { ").concat(a," foaf:homepage ?homepage }\n    OPTIONAL { ").concat(a," foaf:lat ?lat; foaf:long ?long }\n    OPTIONAL { ").concat(a," <http://dbpedia.org/ontology/country> ?country }\n   }"),e.next=1,la(i,Kn);case 1:r=e.sent,na(t,a,r,a.doc()),de.Rm("Finished getDbpediaDetails.");case 2:case"end":return e.stop()}},e)})),ka.apply(this,arguments)}function Ca(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ea(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ea(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function Ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function Aa(e,t){e.style.display=t?"":"none"}function _a(e,t,n,a){return ja.apply(this,arguments)}function ja(){return ja=N(O().mark(function e(t,n,a,i){var r,o,s,c,l,u,p,d,m,h,v,b,x,g,y,w,k,C,E,A,_,j,T,S,L,R,B,I,F,D,P,U,M,z;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C=function(){n.currentObject?(U.value=n.currentName?n.currentName.value:"??? wot no name for "+n.currentObject,B=n.currentName,S=n.currentName?n.currentName.value:void 0,I=n.currentObject):(U.value="",S=void 0,I=void 0),a.deleteButton&&Aa(a.deleteButton,!!n.currentObject),a.acceptButton&&Aa(a.acceptButton,!1),a.editButton&&Aa(a.editButton,!0),a.cancelButton&&Aa(a.cancelButton,!1),j=!1,h()},k=function(){return k=N(O().mark(function e(){var n,a,i,r,o,c,l,u,p;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(e,t){return t.name.value>e.name.value?1:t.name.name<e.name.value?-1:0},n=function(e){var n=t.createElement("tr");Me.setStyle(n,"autocompleteRowStyle"),n.setAttribute("style","padding: 0.3em;"),n.style.color=T?"#080":"#088",n.textContent=e.name.value;var a=ta(e.subject),i=ta(e.name);return n.addEventListener("click",function(){var e=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:de.Rm("       click row textContent: "+n.textContent),de.Rm("       click name: "+i.value),a&&i&&s(a,i);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n},!j){e.next=1;break}return de.Rm('Ignoring "'.concat(U.value,'" because of lock ')),e.abrupt("return");case 1:return de.Rm('Setting lock at "'.concat(U.value,'"')),j=!0,e.next=2,Mn();case 2:if(i=e.sent,!((r=U.value.trim().toLowerCase()).length<4)){e.next=3;break}h(),L=20,e.next=6;break;case 3:if(T&&S&&r.startsWith(S)){e.next=5;break}return de.Rm('   Querying database at "'.concat(r,'" cf last "').concat(S,'".')),e.next=4,x(r,i);case 4:A=e.sent;case 5:o=y(r,A),_&&o.length<=40&&(L=o.length),T=_&&o.length<=L,de.Rm(' Filter:"'.concat(r,'" lastBindings: ').concat(A.length,", slimmed to ").concat(o.length,"; rows: ").concat(L,", Enough? ").concat(_,", All displayed? ").concat(T)),(c=o.slice(0,L)).sort(a),h(),l=Ca(c);try{for(l.s();!(u=l.n()).done;)p=u.value,F.appendChild(n(p))}catch(e){l.e(e)}finally{l.f()}1===o.length&&s(ta(o[0].subject),ta(o[0].name));case 6:j=!1;case 7:case"end":return e.stop()}},e)})),k.apply(this,arguments)},w=function(){return k.apply(this,arguments)},y=function(e,t){return t.filter(function(t){return m(e,t.name.value)})},g=function(){return(g=N(O().mark(function e(t,a){var i,o,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,sa(t,E,a||Fn,n.queryParams);case 1:i=e.sent,e.next=3;break;case 2:return e.prev=2,s=e.catch(0),r("Error querying db of organizations: "+s),j=!1,e.abrupt("return");case 3:return _=i.length<Hn,S=_?t:void 0,h(),o=qn(i,a),e.abrupt("return",o);case 4:case"end":return e.stop()}},e,null,[[0,2]])}))).apply(this,arguments)},x=function(e,t){return g.apply(this,arguments)},b=function(){return(b=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Aa(a.cancelButton,!0),w();case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},v=function(e){return b.apply(this,arguments)},h=function(){for(;F.children.length>1;)F.removeChild(F.lastChild)},m=function(e,t){for(var n=e.split(" "),a=0;a<n.length;a++){var i=n[a];if(t.toLowerCase().indexOf(i)<0)return!1}return!0},d=function(){return(d=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:de.Rm("Auto complete: Canceled by user! "),n.permanent?C():R.parentNode&&R.parentNode.removeChild(R);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},p=function(e){return d.apply(this,arguments)},u=function(){return(u=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:B&&U.value===B.value&&o(I,B);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},l=function(e){return u.apply(this,arguments)},c=function(){return(c=N(O().mark(function e(t,n){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.acceptButton){e.next=1;break}return a.acceptButton.disbaled=!1,Aa(a.acceptButton,!0),U.value=n.value,B=n,I=t,de.Rm("Auto complete: name: "+n),de.Rm("Auto complete: waiting for accept "+t),h(),e.abrupt("return");case 1:Aa(a.cancelButton,!0),o(t,n);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},s=function(e,t){return c.apply(this,arguments)},o=function(e,t){de.Rm("Auto complete: finish! "+e),"Literal"===e.termType&&n.queryParams.objectURIBase&&(e=f.sym(n.queryParams.objectURIBase.value+e.value)),h(),i(e,t)},r=function(e){var n=F.appendChild(t.createElement("tr"));de.Rm(e);var a=new Error(e);n.appendChild(kt(t,a,"pink")),Me.setStyle(n,"autocompleteRowStyle"),n.style.padding="1em"},E=n.targetClass){e.next=1;break}throw new Error("renderAutoComplete: missing targetClass");case 1:return a.acceptButton&&a.acceptButton.addEventListener("click",l,!1),a.cancelButton&&a.cancelButton.addEventListener("click",p,!1),_=!1,j=!1,T=!1,S=void 0,L=20,R=t.createElement("div"),B=void 0,I=void 0,(F=R.appendChild(t.createElement("table"))).setAttribute("data-testid","autocomplete-table"),F.setAttribute("style","max-width: 30em; margin: 0.5em;"),D=F.appendChild(t.createElement("tr")),Me.setStyle(D,"autocompleteRowStyle"),P=D.appendChild(t.createElement("td")),(U=P.appendChild(t.createElement("input"))).setAttribute("type","text"),C(),M=n.size||Ue.textInputSize||20,U.setAttribute("size",M),U.setAttribute("data-testid","autocomplete-input"),z=Me.textInputStyle||"border: 0.1em solid #444; border-radius: 0.5em; width: 100%; font-size: 100%; padding: 0.1em 0.6em",U.setAttribute("style",z),U.addEventListener("keyup",function(e){13===e.keyCode&&l(e)},!1),U.addEventListener("input",v),e.abrupt("return",R);case 2:case"end":return e.stop()}},e)})),ja.apply(this,arguments)}function Ta(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Sa(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sa(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function Sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var La=Ge.Pt.iconBase+"noun_34653_green.svg",Ra=Ge.Pt.iconBase+"noun_Search_875351.svg",Ba=Ge.Pt.iconBase+"noun_253504.svg";function Na(e,t,n,a,i,r){return Ia.apply(this,arguments)}function Ia(){return Ia=N(O().mark(function e(t,n,a,i,r,o){var s,c,l,u,p,d,m,f,h,v,b,x,g,y,w,k,C,E,A,_,j,T;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A=function(){E?(Aa(C,!1),Aa(x,!1),Aa(g,!1)):(Aa(C,!0),Aa(x,!1),Aa(g,!1))},b=function(){return(b=N(O().mark(function e(t){var a,i,o,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=Ta(t),e.prev=1,a.s();case 2:if((i=a.n()).done){e.next=4;break}return o=i.value,e.next=3,r(n,o);case 3:e.next=2;break;case 4:e.next=6;break;case 5:e.prev=5,s=e.catch(1),a.e(s);case 6:return e.prev=6,a.f(),e.finish(6);case 7:case"end":return e.stop()}},e,null,[[1,5,6,7]])}))).apply(this,arguments)},v=function(e){return b.apply(this,arguments)},h=function(){return(h=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=1;break}T.removeChild(j),j=void 0,e.next=2;break;case 1:return e.next=2,d();case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},f=function(e){return h.apply(this,arguments)},m=function(){return(m=N(O().mark(function e(){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(j=t.createElement("div")).setAttribute("style","display: flex; flex-flow: wrap;"),n=j,e.next=1,_a(t,i,_,s);case 1:n.appendChild.call(n,e.sent),j.appendChild(x),j.appendChild(g),j.appendChild(C),j.appendChild(y),T.appendChild(j);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},d=function(){return m.apply(this,arguments)},p=function(){j&&(T.removeChild(j),j=void 0)},u=function(){return(u=N(O().mark(function e(a){var i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Zt(t,0,T,R.vcard("url"),void 0,"Solid ID");case 1:if(i=e.sent){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",r(n,i));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)},l=function(e){return u.apply(this,arguments)},c=function(){return(c=N(O().mark(function e(t,n){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.permanent?(Aa(C,!0),Aa(x,!1),Aa(g,!1)):p(),e.abrupt("return",r(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},s=function(e,t){return c.apply(this,arguments)},(x=Qt(t)).setAttribute("data-testid","accept-button"),(g=Kt(t)).setAttribute("data-testid","cancel-button"),y=t.createElement("div"),w=i.targetClass?ue(i.targetClass):"item",(k=Jt(t,y,w,o)).setAttribute("data-testid","delete-button"),(C=$t(t,Ba,"Edit",function(e){E=!E,A()})).setAttribute("data-testid","edit-button"),E=!0,_={acceptButton:x,cancelButton:g,editButton:C,deleteButton:k},j=void 0,(T=t.createElement("div")).style.display="flex",T.style.flexDirection="row",!i.permanent&&!i.currentObject){e.next=1;break}return e.next=1,d();case 1:return a.editable&&(T.style.width="100%",a.manualURIEntry&&ze(T.appendChild($t(t,La,a.idNoun,l)),v,void 0),!a.dbLookup||i.currentObject||i.permanent||T.appendChild($t(t,Ra,a.idNoun,f))),A(),e.abrupt("return",T);case 2:case"end":return e.stop()}},e)})),Ia.apply(this,arguments)}function Oa(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
/**
 * @version IconicMultiSelect v0.7.0
 * @licence  MIT
 */
var Fa={multiselect__container:"\n        -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n        background-color: #fff;\n        border-radius: 2px;\n        -webkit-box-shadow: 0 1px 3px 0 #d1d1d2, 0 0 0 1px #d1d1d2;\n                box-shadow: 0 1px 3px 0 #d1d1d2, 0 0 0 1px #d1d1d2;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        min-height: 36px;\n        padding: 4px 8px 0 8px;\n        position: relative;\n        width: 354px;\n        margin-bottom: 5px;\n        font-size: 100%\n    ",multiselect__wrapper:"\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-wrap: wrap;\n            flex-wrap: wrap;\n        height: 100%;\n        width: 100%;\n    ",multiselect__clear_btn:"\n        cursor: pointer;\n        align-items: center;\n        margin-bottom: 4px;\n        margin-left: 4px;\n    ",multiselect__options:"\n        background-color: #f6f6f6;\n        border-radius: 2px;\n        left: 0;\n        max-height: 0;\n        overflow: hidden;\n        position: absolute;\n        top: calc(100% + 3px);\n        z-index: 9999;\n        width: 100%;\n        opacity: 0;\n        transition: max-height 0.1s ease;\n    ",multiselect__options_visible:"\n        background-color: #f6f6f6;\n        border-radius: 2px;\n        left: 0;\n        max-height: 0;\n        overflow: hidden;\n        position: absolute;\n        top: calc(100% + 3px);\n        z-index: 9999;\n        width: 100%;\n        opacity: 0;\n        transition: max-height 0.1s ease;\n        max-height: 200px;\n        -webkit-box-shadow: 0 1px 3px 0 #d1d1d2, 0 0 0 1px #d1d1d2;\n        box-shadow: 0 1px 3px 0 #d1d1d2, 0 0 0 1px #d1d1d2;\n        opacity: 1;\n        transition: max-height 0.2s ease;\n    ",multiselect__options_ul:"\n        list-style: none;\n        margin: 0;\n        padding: 2px 0;\n        max-height: 200px;\n        overflow: auto;\n    ",multiselect__options_ul_li:"\n        cursor: pointer;\n        padding: 4px 8px;\n    ",multiselect__options_ul_li_hover:"\n        background-color: #dedede;\n    ",multiselect__options_ul_p_multiselect__options_no_results:"\n        margin: 0;\n        padding: 8px;\n        text-align: center;\n    ",multiselect__options_ul_p_multiselect__options_no_data:"\n        margin: 0;\n        padding: 8px;\n        text-align: center;\n    ",multiselect__options_ul_li_multiselect__options_selected:"\n        background-color: #656565;\n        color: #fff;\n    ",multiselect__options_ul_li_multiselect__options_selected_hover:"\n    background-color: #656565;\n    ",multiselect__options_ul_li_arrow_selected:"\n        border: 2px solid rgba(101, 101, 101, 0.5);\n    ",multiselect__selected:"\n        background-color: #656565;\n        border-radius: 2px;\n        color: #fff;\n        margin-bottom: 4px;\n        margin-right: 4px;\n        padding: 4px 8px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n        -ms-flex-align: center;\n        align-items: center;\n    ",multiselect__selected_multiselect__remove_btn:"\n        cursor: pointer;\n        display: flex;\n        margin-left: 6px;\n    ",multiselect__input:"\n        border: none;\n        -ms-flex-preferred-size: 40%;\n            flex-basis: 40%;\n        -webkit-box-flex: 1;\n            -ms-flex-positive: 1;\n                flex-grow: 1;\n        height: 5px;        \n        margin-bottom: 4px;\n        min-width: 40%;\n        outline: none;      \n    ",setStyle:function(e,t){e.style=Fa[t]}},Da=function(){return Ie(function e(t){var n=t.data,a=t.itemTemplate,i=t.noData,r=t.noResults,o=t.placeholder,s=t.select,c=t.container,l=t.tagTemplate,u=t.textField,p=t.valueField;Le(this,e),yn(this,"_data",void 0),yn(this,"_domElements",void 0),yn(this,"_event",function(){}),yn(this,"_itemTemplate",void 0),yn(this,"_multiselect",void 0),yn(this,"_noData",void 0),yn(this,"_noResults",void 0),yn(this,"_options",[]),yn(this,"_placeholder",void 0),yn(this,"_select",void 0),yn(this,"_selectContainer",void 0),yn(this,"_selectedOptions",[]),yn(this,"_tagTemplate",void 0),yn(this,"_textField",void 0),yn(this,"_valueField",void 0),yn(this,"_cross",'\n    <svg\n      width="24"\n      height="24"\n      viewBox="0 0 24 24"\n      fill="none"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <path\n        d="M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z"\n        fill="currentColor"\n      />\n    </svg>\n    '),this._data=null!=n?n:[],this._itemTemplate=null!=a?a:null,this._noData=null!=i?i:"No data found.",this._noResults=null!=r?r:"No results found.",this._placeholder=null!=o?o:"Select...",this._select=s,this._selectContainer=c,this._tagTemplate=null!=l?l:null,this._textField=null!=u?u:null,this._valueField=null!=p?p:null},[{key:"init",value:function(){if(!this._select||"SELECT"!==this._select.nodeName)throw new Error("The selector '".concat(this._select,"' did not select any valid select tag."));if(this._itemTemplate&&0===this._data.length)throw new Error("itemTemplate must be initialized with data from the component settings");if(this._tagTemplate&&0===this._data.length)throw new Error("tagTemplate must be initialized with data from the component settings");this._options=this._data.length>0?this._getDataFromSettings():this._getDataFromSelectTag(),this._renderMultiselect(),this._renderOptionsList(),this._domElements={clear:this._multiselect.querySelector(".multiselect__clear-btn"),input:this._multiselect.querySelector(".multiselect__input"),optionsContainer:this._multiselect.querySelector(".multiselect__options"),optionsContainerList:this._multiselect.querySelector(".multiselect__options > ul"),options:{list:this._multiselect.querySelectorAll(".multiselect__options > ul > li"),find:function(e){for(var t=0;t<this.list.length;t++){var n=this.list[t];if(e(n))return n}},some:function(e){for(var t=0;t<this.list.length;t++){if(e(this.list[t],t))return!0}return!1}}},this._enableEventListenners(),this._initSelectedList()}},{key:"subscribe",value:function(e){if("function"!=typeof e)throw new Error("parameter in the subscribe method is not a function");this._event=e}},{key:"_addOptionToList",value:function(e,t){var n=this,a='<span class="multiselect__selected" style="'.concat(Fa.multiselect__selected,'" data-value="').concat(e.value,'">').concat(this._tagTemplate?this._processTemplate(this._tagTemplate,t):e.text,'<span class="multiselect__remove-btn" style="').concat(Fa.multiselect__remove_btn,'">').concat(this._cross,"</span></span>");this._domElements.input.insertAdjacentHTML("beforebegin",a),this._multiselect.querySelector('span[data-value="'.concat(e.value,'"]')).lastElementChild.addEventListener("click",function(){var t=n._domElements.options.find(function(t){return t.dataset.value===e.value});n._handleOption(t)})}},{key:"_clearSelection",value:function(){for(var e=this,t=function(){var t=e._selectedOptions[n],a=e._domElements.options.find(function(e){return e.dataset.value===t.value});a.classList.remove("multiselect__options--selected"),a.setAttribute("style",Fa.multiselect__options),e._removeOptionFromList(a.dataset.value)},n=0;n<this._selectedOptions.length;n++)t();this._selectedOptions=[],this._handleClearSelectionBtn(),this._handlePlaceholder(),this._dispatchEvent({action:"CLEAR_ALL_OPTIONS",selection:this._selectedOptions})}},{key:"_closeList",value:function(){this._domElements.input.value="",this._domElements.optionsContainer.classList.remove("visible"),this._domElements.optionsContainer.setAttribute("style",Fa.multiselect__options),this._filterOptions(""),this._removeAllArrowSelected()}},{key:"_dispatchEvent",value:function(e){this._event(e)}},{key:"_enableEventListenners",value:function(){var e=this;document.addEventListener("mouseup",function(t){var n=t.target;e._multiselect.contains(n)||(e._filterOptions(""),e._closeList(),e._handlePlaceholder())}),this._domElements.clear.addEventListener("click",function(){e._clearSelection()});for(var t=0;t<this._domElements.options.list.length;t++){this._domElements.options.list[t].addEventListener("click",function(t){var n=t.target;e._handleOption(n),e._closeList()})}this._domElements.input.addEventListener("focus",function(){e._domElements.optionsContainer.classList.add("visible"),e._domElements.optionsContainer.setAttribute("style",Fa.multiselect__options_visible)}),this._domElements.input.addEventListener("input",function(t){var n=t.target.value;e._domElements.options.list.length>0&&e._filterOptions(n)}),this._domElements.input.addEventListener("keydown",function(t){e._handleArrows(t),e._handleBackspace(t),e._handleEnter(t)})}},{key:"_filterOptions",value:function(e){var t=this,n=this._domElements.optionsContainer.classList.contains("visible"),a=e.toLowerCase();if(!n&&e.length>0&&(this._domElements.optionsContainer.classList.add("visible"),this._domElements.optionsContainer.setAttribute("style",Fa.multiselect__options_visible)),this._domElements.options.list.length>0){for(var i=0;i<this._domElements.options.list.length;i++){var r=this._domElements.options.list[i];(this._itemTemplate?this._data[i][this._textField]:r.textContent).toLowerCase().substring(0,a.length)===a?this._domElements.optionsContainerList.appendChild(r):r.parentNode&&r.parentNode.removeChild(r)}var o=this._domElements.options.some(function(e,n){return(t._itemTemplate?t._data[n][t._textField]:e.textContent).toLowerCase().substring(0,a.length)===a});this._showNoResults(!o)}}},{key:"_generateId",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(62*Math.random()));return t}},{key:"_getDataFromSelectTag",value:function(){for(var e=[],t=this._select.options,n=0;n<t.length;n++){var a=t[n];e.push({text:a.text,value:a.value,selected:a.hasAttribute("selected")})}return e}},{key:"_getDataFromSettings",value:function(){if(this._data.length>0&&this._valueField&&this._textField){var e="string"==typeof this._valueField,t="string"==typeof this._textField,n=[];if(!e||!t)throw new Error("textField and valueField must be of type string");for(var a=0;a<this._data.length;a++){var i=this._data[a];n.push({value:i[this._valueField],text:i[this._textField],selected:"boolean"==typeof i.selected&&i.selected})}return n}return null}},{key:"_handleArrows",value:function(e){if(40===e.keyCode||38===e.keyCode){e.preventDefault();var t=this._domElements.optionsContainer.classList.contains("visible"),n=this._multiselect.querySelector(".multiselect__options > ul");if(t){var a=this._multiselect.querySelector(".multiselect__options ul li.arrow-selected"),i={ArrowUp:"previous",Up:"previous",ArrowDown:"next",Down:"next"};if(!a)return n.firstElementChild.classList.add("arrow-selected"),n.firstElementChild.setAttribute("style",Fa.multiselect__options_ul_li_arrow_selected),void n.firstElementChild.scrollIntoView(!1);if(a.classList.remove("arrow-selected"),a.setAttribute("style",Fa.multiselect__options_ul_li),!(a=a[i[e.key]+"ElementSibling"]))return(a=n.children["next"===i[e.key]?0:n.children.length-1]).classList.add("arrow-selected"),a.setAttribute("style",Fa.multiselect__options_ul_li_arrow_selected),void this._scrollIntoView(n,a);a.classList.add("arrow-selected"),a.setAttribute("style",Fa.multiselect__options_ul_li_arrow_selected),this._scrollIntoView(n,a)}else this._domElements.optionsContainer.classList.add("visible"),this._domElements.optionsContainer.setAttribute("style",Fa.multiselect__options_visible),n.firstElementChild.classList.add("arrow-selected"),n.firstElementChild.setAttribute("style",Fa.multiselect__options_ul_li_arrow_selected),n.firstElementChild.scrollIntoView(!1)}}},{key:"_handleBackspace",value:function(e){if(8===e.keyCode&&""===e.target.value){var t=this._selectedOptions.length>0?this._selectedOptions[this._selectedOptions.length-1]:null;if(t){var n=this._multiselect.querySelector('li[data-value="'.concat(t.value,'"]'));this._handleOption(n),0===this._selectedOptions.length&&(this._domElements.optionsContainer.classList.remove("visible"),this._domElements.optionsContainer.setAttribute("style",Fa.multiselect__options))}}}},{key:"_handleClearSelectionBtn",value:function(){this._selectedOptions.length>0?this._domElements.clear.style.display="flex":this._domElements.clear.style.display="none"}},{key:"_handleEnter",value:function(e){if(13===e.keyCode){var t=this._multiselect.querySelector(".multiselect__options ul li.arrow-selected");t&&(this._handleOption(t),this._closeList())}}},{key:"_handleOption",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0;n<this._selectedOptions.length;n++){if(this._selectedOptions[n].value===e.dataset.value)return e.classList.remove("multiselect__options--selected"),e.setAttribute("style",Fa.multiselect__options),this._selectedOptions.splice(n,1),this._removeOptionFromList(e.dataset.value),this._handleClearSelectionBtn(),this._handlePlaceholder(),t&&this._dispatchEvent({action:"REMOVE_OPTION",value:e.dataset.value,selection:this._selectedOptions})}for(var a=0;a<this._options.length;a++){var i=this._options[a];if(i.value===e.dataset.value)return e.classList.add("multiselect__options--selected"),e.setAttribute("style",Fa.multiselect__options_selected),this._selectedOptions=[].concat(Oa(this._selectedOptions),[i]),this._addOptionToList(i,a),this._handleClearSelectionBtn(),this._handlePlaceholder(),t&&this._dispatchEvent({action:"ADD_OPTION",value:e.dataset.value,selection:this._selectedOptions})}}},{key:"_handlePlaceholder",value:function(){this._domElements.input.placeholder=this._placeholder}},{key:"_initSelectedList",value:function(){for(var e=this,t=!1,n=function(){var n=e._options[a];if(n.selected){t=!0;var i=e._domElements.options.find(function(e){return e.dataset.value===n.value});i.classList.add("multiselect__options--selected"),i.setAttribute("style",Fa.multiselect__options_selected),e._selectedOptions=[].concat(Oa(e._selectedOptions),[n]),e._addOptionToList(n,a)}},a=0;a<this._options.length;a++)n();t&&this._handleClearSelectionBtn(),this._handlePlaceholder()}},{key:"_processTemplate",value:function(e,t){for(var n=e,a=e.match(/\$\{(\w+)\}/g).map(function(e){return e.replace(/\$\{|\}/g,"")}),i=0;i<a.length;i++){var r,o=a[i];n=n.replace("${".concat(o,"}"),null!==(r=this._data[t][o])&&void 0!==r?r:"")}return n}},{key:"_removeAllArrowSelected",value:function(){var e="arrow-selected",t=this._domElements.options.find(function(t){return t.classList.contains(e)});t&&t.classList.remove(e)&&t.setAttribute("style",Fa.multiselect__options_ul_li)}},{key:"_removeOptionFromList",value:function(e){var t=this._multiselect.querySelector('span[data-value="'.concat(e,'"]'));t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"_renderOptionsList",value:function(){var e=this,t='\n        <div class="multiselect__options" style="'.concat(Fa.multiselect__options,'">\n          <ul style="').concat(Fa.multiselect__options_ul,'">\n          ').concat(this._options.length>0&&!this._itemTemplate?this._options.map(function(e){return'\n              <li data-value="'.concat(e.value,'" style="').concat(Fa.multiselect__options_ul_li,'">').concat(e.text,"</li>\n            ")}).join(""):"","\n\n          ").concat(this._options.length>0&&this._itemTemplate?this._options.map(function(t,n){return'\n              <li data-value="'.concat(t.value,'" style="').concat(Fa.multiselect__options_ul_li,'">').concat(e._processTemplate(e._itemTemplate,n),"</li>\n            ")}).join(""):"","\n          ").concat(this._showNoData(0===this._options.length),"\n          </ul>\n        </div>\n      ");this._multiselect.insertAdjacentHTML("beforeend",t)}},{key:"_renderMultiselect",value:function(){this._select.style.display="none";var e="iconic-"+this._generateId(20);this._multiselect=document.createElement("div"),this._multiselect.setAttribute("id",e),this._multiselect.setAttribute("class","multiselect__container"),this._multiselect.setAttribute("style",Fa.multiselect__container);var t='\n        <div class="multiselect__wrapper" style="'.concat(Fa.multiselect__wrapper,'">\n          <input class="multiselect__input" style="').concat(Fa.multiselect__input,'" placeholder="').concat(this._placeholder,'" />\n        </div>\n        <span style="display: none;" class="multiselect__clear-btn" style="').concat(Fa.multiselect__clear_btn,'">').concat(this._cross,"</span>\n    ");this._multiselect.innerHTML=t,this._selectContainer.appendChild(this._multiselect)}},{key:"_scrollIntoView",value:function(e,t){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();n.top<a.bottom-t.offsetHeight||(e.scrollTop=t.clientHeight+(t.offsetTop-t.offsetHeight)),n.bottom>a.top+t.offsetHeight||(e.scrollTop=t.clientHeight+(t.offsetTop-t.offsetHeight)-(e.offsetHeight-(t.offsetHeight+(t.offsetHeight-t.clientHeight))))}},{key:"_showNoData",value:function(e){return e?'<p class="multiselect__options--no-data" style="'.concat(Fa.multiselect__options_ul_p_multiselect__options_no_data,'">').concat(this._noData,"</p>"):""}},{key:"_showNoResults",value:function(e){var t=this._multiselect.querySelector(".multiselect__options--no-results");if(e){var n='<p class="multiselect__options--no-results" style="'.concat(Fa.multiselect__options_ul_p_multiselect__options_no_results,'">').concat(this._noResults,"</p>");!t&&this._domElements.optionsContainerList.insertAdjacentHTML("beforeend",n)}else t&&t.parentNode&&t.parentNode.removeChild(t)}}])}();function Pa(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ua(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ua(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var Ma="",za="",qa="-",Ha=f;function Va(e,t,n,a,i,r,o){for(var s=r.children,c=0;c<o.length;c++){var l=o[c];if(jn(l)===R.ui("Options").uri){var u=Tn(0,l)(e,null,t,n,l,a,i);de.Rm("Refreshing Options field by replacing it."),r.insertBefore(u,s[c]),r.removeChild(s[c+1])}}}function Ga(e,t,n,a,i,r,o,s){var c=R.ui,l=f,u=l.any(i,c("property"));if(!u){var p=kt(e,"No property to boolean field: "+i);return t&&t.appendChild(p),p}var d=l.any(i,c("label"));d||(d=ue(u,!0)),r=Nn(a,u,r);var m=l.any(a,u);void 0===m&&(m=!1);var h=L.st(a,u,!0,r),v=si(e,l,d,L.st(a,u,!1,r),h,i,r,s);return t&&t.appendChild(v),v}function Wa(e,t,n,a,i,r,o){Tn(0,i)(e,t,n,a,i,r,o)}function Ja(e,t,n,a,i){var r=e.createElement("button");return r.setAttribute("type","button"),r.innerHTML="Edit "+ue(R.ui("Form")),r.addEventListener("click",function(o){$a(e,t,{},n,R.ui("FormForm"),a,i).setAttribute("style",R.ui("FormForm").sameTerm(n)?"background-color: #fee;":"background-color: #ffffe7;"),r.parentNode.removeChild(r)},!0),r}function $a(e,t,n,a,i,r,o){return Tn(0,i)(e,t,n,a,i,r,o)}function Ka(e,t){var n=e.each(void 0,R.rdf("range"),t);[R.rdfs("comment"),R.dc("title"),R.foaf("name"),R.foaf("homepage")].forEach(function(e){n.push(e)});var a=e.each(void 0,R.rdf("type"),t);a.length>60&&(a=a.slice(0,60));for(var i={},r=0;r<(a.length>60?60:a.length);r++)e.statementsMatching(a[r],void 0,void 0).forEach(function(e){i[e.predicate.uri]=!0});n.forEach(function(e){i[e.uri]=!0});var o=[];for(var s in i)o.push(e.sym(s));return o}function Qa(e,t,n){for(var a=[e.sym(t)];a.length>0;){var i=a.shift(),r=e.each(i,n);if(Z("Lists for "+i+", "+n+": "+r.length),0!==r.length)return r;for(var o=e.each(i,R.rdfs("subClassOf")),s=0;s<o.length;s++)a.push(o[s]),Z("findClosest: add super: "+o[s])}return[]}function Za(e){var t=f;Z("formsFor: subject="+e);var n,a=t.findTypeURIs(e);for(n in a)Z("   type: "+n);var i=t.bottomTypeURIs(a),r=[];for(var o in i)Z("candidatesFor: trying bottom type ="+o),r=(r=r.concat(Qa(t,o,R.ui("creationForm")))).concat(Qa(t,o,R.ui("annotationForm")));return r}function Ya(e){var t=e.map(function(e){return[Ha.any(e,R.ui("sequence"))||9999,e]});return t.sort(function(e,t){return e[0]-t[0]}),t.map(function(e){return e[1]})}function Xa(e){var t=e.map(function(e){return[ue(e).toLowerCase(),e]});return t.sort(),t.map(function(e){return e[1]})}function ei(e,t,n,a,i,r,o,s){var c=e.createElement("button");return c.setAttribute("type","button"),c.innerHTML="New "+ue(i),c.addEventListener("click",function(l){c.parentNode.appendChild(ti(e,t,n,a,i,r,o,s))},!1),c}function ti(e,t,n,a,i,r,o,s){var c=e.createElement("form");if(!r){var l=Qa(t,i.uri,R.ui("creationForm"));if(0===l.length){c.appendChild(e.createElement("p")).textContent="I am sorry, you need to provide information about a "+ue(i)+" but I don't know enough information about those to ask you.";var u=c.appendChild(e.createElement("button"));return u.setAttribute("type","button"),u.setAttribute("style","float: right;"),u.innerHTML="Goto "+ue(i),u.addEventListener("click",function(t){e.outlineManager.GotoSubject(i,!0,void 0,!0,void 0)},!1),c}Z("lists[0] is "+l[0]),r=l[0]}Z("form is "+r),c.setAttribute("style","border: 0.05em solid ".concat(Ue.formBorderColor,"; color: ").concat(Ue.formBorderColor)),c.innerHTML="<h3>New "+ue(i)+"</h3>";var p=Tn(0,r),d=ci(o),m=!1;function f(e,t,n){return s(t,n)}Y("paneUtils Object is "+d);var h=p(e,c,{},d,r,o,function(r,l){if(!r)return s(r,l);var u=[];n&&!t.holds(n,a,d,o)&&u.push(L.st(n,a,d,o)),n&&!t.holds(d,R.rdf("type"),i,o)&&u.push(L.st(d,R.rdf("type"),i,o)),u.length?t.updater.update([],u,f):s(!0,l),m||(m=c.appendChild(un(e,d)))});return pn(e,h).setAttribute("style","float: right;"),c.AJAR_subject=d,c}function ni(e,t,n,a,i,r){var o,s=e.createElement("div"),c=t.anyJS(n,a,null,i)||"",l=e.createElement("textarea");function u(c){o.disabled=!0,o.setAttribute("style","visibility: hidden; float: right;"),l.disabled=!0,l.style.color=Ue.textInputColorPending;var u=t.statementsMatching(n,a,null,i),p=L.st(n,a,l.value,i);t.updater.update(u,p,function(t,n,a){n?(l.style.color=Ue.textInputColor,l.disabled=!1):s.appendChild(kt(e,"Error (while saving change to "+i.uri+"): "+a)),r&&r(n,a)})}return s.appendChild(l),l.rows=c?c.split("\n").length+2:2,l.cols=80,l.setAttribute("style",Me.multilineTextInputStyle),null!==c?l.value=c:l.select(),s.refresh=function(){var e=t.any(n,a,null,i);e&&e.value!==l.value&&(l.value=e.value)},t.updater.editable(i.uri)?((o=Qt(e,u)).disabled=!0,o.style.visibility="hidden",o.style.float="right",s.appendChild(o),l.addEventListener("keyup",function(e){l.style.color="green",o&&(o.disabled=!1,o.style.visibility="")},!0),l.addEventListener("change",u,!0)):(l.disabled=!0,l.style.backgroundColor=Ue.textInputBackgroundColorUneditable),s}function ai(e,t,n,a,i,r,o,s){Z("Select list length now "+i.length);for(var c,l=0,u={},p=t.updater.editable(o.uri),d=0;d<i.length;d++){var m=i[d];m.uri||de.R8("makeSelectForClassifierOptions: option does not have an uri: ".concat(m,", with predicate: ").concat(a)),m.uri&&!(m.uri in u)&&(u[m.uri]=!0,l++)}if(0===l&&!r.mint)return kt(e,"Can't do selector with no options, subject= "+n+" property = "+a+".");Z("makeSelectForClassifierOptions: dataDoc="+o);var f=function(){return c={},a.sameTerm(R.rdf("type"))?c=t.findTypeURIs(n):t.each(n,a,null,o).forEach(function(e){c[e.uri]=!0}),c};c=f();var h=e.createElement("select");for(var v in h.setAttribute("style",Me.formSelectStyle),r.multiple&&h.setAttribute("multiple","true"),h.currentURI=null,h.refresh=function(){c=f();for(var e=0;e<h.children.length;e++){var t=h.children[e];t.AJAR_uri&&(t.selected=t.AJAR_uri in c)}h.disabled=!1},u){var b=t.sym(v),x=e.createElement("option");r.disambiguate?x.appendChild(e.createTextNode(ft(b,!0))):x.appendChild(e.createTextNode(ue(b,!0)));var g=t.any(b,t.sym("http://www.w3.org/ns/ui#backgroundColor"));g&&x.setAttribute("style","background-color: "+g.value+"; "),x.AJAR_uri=v,v in c&&(x.setAttribute("selected","true"),h.currentURI=v),h.appendChild(x)}if(p&&r.mint){var y=e.createElement("option");y.appendChild(e.createTextNode(r.mint)),y.AJAR_mint=!0,h.insertBefore(y,h.firstChild)}if(null==h.currentURI&&!r.multiple){var w=e.createElement("option");w.appendChild(e.createTextNode(r.nullLabel)),h.insertBefore(w,h.firstChild),w.selected=!0}return p&&h.addEventListener("change",function(i){h.disabled=!0;for(var l,u=[],p=[],d=function(e){t.holds(n,a,e,o)&&u.push(L.st(n,a,e,o))},m=0;m<h.options.length;m++){var v=h.options[m];if(v.selected&&v.AJAR_mint){if(r.mintClass){var b=ti(e,t,n,a,r.mintClass,null,o,function(e,t){e||s(e,t,{change:"new"})});h.parentNode.appendChild(b),l=b.AJAR_subject}else l=ci(o);p.push(L.st(n,a,l,o)),r.mintStatementsFun&&(p=p.concat(r.mintStatementsFun(l)))}v.AJAR_uri&&(v.selected&&!(v.AJAR_uri in c)&&p.push(L.st(n,a,t.sym(v.AJAR_uri),o)),!v.selected&&v.AJAR_uri in c&&d(t.sym(v.AJAR_uri)),v.selected&&(h.currentURI=v.AJAR_uri))}for(var x=h.subSelect;x&&x.currentURI;)d(t.sym(x.currentURI)),x=x.subSelect;for(x=h.superSelect;x&&x.currentURI;)d(t.sym(x.currentURI)),x=x.superSelect;function g(e,t){s(e,{widget:"select",event:"new"})}Y("makeSelectForClassifierOptions: data doc = "+o),t.updater.update(u,p,function(t,n,a){if(c=f(),!n)return h.parentNode.appendChild(kt(e,"Error updating data in select: "+a));h.disabled=!1,l&&Tn(0,r.subForm)(e,h.parentNode,{},l,r.subForm,o,g),s&&s(n,{widget:"select",event:"change"})})},!1),h}function ii(e,t,n,a,i,r,o,s){Z("Select list length now "+i.length);for(var c,l=0,u={},p=t.updater.editable(o.uri),d=0;d<i.length;d++){var m=i[d];m.uri||de.R8("makeSelectForOptions: option does not have an uri: ".concat(m,", with predicate: ").concat(a)),m.uri&&!(m.uri in u)&&(u[m.uri]=!0,l++)}if(0===l)return kt(e,"Can't do selector with no options, subject= "+n+" property = "+a+".");Z("makeSelectForOptions: dataDoc="+o);var f=function(){return c={},a.sameTerm(R.rdf("type"))?c=t.findTypeURIs(n):t.each(n,a,null,o).forEach(function(e){e.uri&&(c[e.uri]=!0)}),c};c=f();var h=e.createElement("select");for(var v in h.setAttribute("style",Me.formSelectStyle),h.currentURI=null,h.refresh=function(){c=f();for(var e=0;e<h.children.length;e++){var t=h.children[e];t.AJAR_uri&&(t.selected=t.AJAR_uri in c)}h.disabled=!1},u){var b=t.sym(v),x=e.createElement("option");r.disambiguate?x.appendChild(e.createTextNode(ft(b,!0))):x.appendChild(e.createTextNode(ue(b,!0)));var g=t.any(b,t.sym("http://www.w3.org/ns/ui#backgroundColor"));g&&x.setAttribute("style","background-color: "+g.value+"; "),x.AJAR_uri=v,v in c&&(x.setAttribute("selected","true"),h.currentURI=v),h.appendChild(x)}if(!h.currentURI){var y=e.createElement("option");y.appendChild(e.createTextNode(r.nullLabel)),h.insertBefore(y,h.firstChild),y.selected=!0}return p&&h.addEventListener("change",function(i){h.disabled=!0;for(var r=[],l=[],u=function(e){t.holds(n,a,e,o)&&r.push(L.st(n,a,e,o))},p=0;p<h.options.length;p++){var d=h.options[p];d.AJAR_uri&&(d.selected&&!(d.AJAR_uri in c)&&l.push(L.st(n,a,t.sym(d.AJAR_uri),o)),!d.selected&&d.AJAR_uri in c&&u(t.sym(d.AJAR_uri)),d.selected&&(h.currentURI=d.AJAR_uri))}for(var m=h.subSelect;m&&m.currentURI;)u(t.sym(m.currentURI)),m=m.subSelect;for(m=h.superSelect;m&&m.currentURI;)u(t.sym(m.currentURI)),m=m.superSelect;Y("selectForOptions: data doc = "+o),t.updater.update(r,l,function(t,n,a){if(c=f(),!n)return h.parentNode.appendChild(kt(e,"Error updating data in select: "+a));h.disabled=!1,s&&s(n,{widget:"select",event:"change"})})},!1),h}function ri(e,t,n,a,i,r){var o,s=t.any(a,R.owl("disjointUnionOf")),c=!1;return s?o=s.elements:(o=t.each(void 0,R.rdfs("subClassOf"),a),c=!0),Z("Select list length "+o.length),0===o.length?kt(e,"Can't do "+(c?"multiple ":"")+"selector with no subclasses of category: "+a):1===o.length?kt(e,"Can't do "+(c?"multiple ":"")+"selector with only 1 subclass of category: "+a+":"+o[1]):ai(e,t,n,R.rdf("type"),o,{multiple:c,nullLabel:"* Select type *"},i,r)}function oi(e,t,n,a,i,r){function o(){c&&(s.removeChild(c),c=null),l.currentURI&&t.any(t.sym(l.currentURI),R.owl("disjointUnionOf"))&&(c=oi(e,t,n,t.sym(l.currentURI),i,r),l.subSelect=c.firstChild,l.subSelect.superSelect=l,s.appendChild(c))}var s=e.createElement("span"),c=null;var l=ri(e,t,n,a,i,function(e,t){e&&o(),r(e,t)});return s.appendChild(l),o(),s}function si(e,t,n,a,i,r,o,s){var c=e.createElement("div"),l=Rn(e,t,c,r,n),u=t.updater.editable(o.uri),p=e.createElement("button"),d=p;function m(e){if(!e)return[];if(e.object)return e.why||(e.why=o),[e];if(e instanceof Array)return e;throw new Error("buildCheckboxForm: bad param "+e)}function f(e){return 0===e.filter(function(e){return!t.holds(e.subject,e.predicate,e.object,e.why)}).length}if(p.style=Me.checkboxInputStyle,l.appendChild(p),i=m(i),a=m(a),function(){var n=f(i),o=n;if(a.length){var l=f(a);if(n&&l)return c.appendChild(kt(e,"Inconsistent data in dataDoc!\n"+i+" and\n"+a)),c;if(!n&&!l){n=null;var u=t.any(r,R.ui("default"));o=u?"1"===u.value:!!s&&null}}p.state=n,p.textContent={true:Ma,false:s?za:" ",null:qa}[o]}(),!u)return c;return p.addEventListener("click",function(n){d.style.color="#bbb";var r=!0===p.state?i:!1===p.state?a:[];p.newState=null===p.state||!0!==p.state&&(!s||null);var o=!0===p.newState?i:!1===p.newState?a:[];de.Rm("  Deleting  ".concat(r)),de.Rm("  Inserting ".concat(o)),t.updater.update(r,o,function(n,a,i){if(a)d.style.color="#000",p.state=p.newState,p.textContent={true:Ma,false:za,null:qa}[p.state];else{if(r.why)t.holds(r.subject,r.predicate,r.object,r.why)&&de.Rm(" @@@@@ weird if 409 - does hold statement");d.style.color="#000",d.style.backgroundColor="#fee",c.appendChild(kt(e,"Checkbox: Error updating dataDoc from ".concat(p.state," to ").concat(p.newState,":\n\n").concat(i)))}})},!1),c}function ci(e){var t=new Date;return L.sym(e.uri+"#id"+t.getTime())}function li(e,t,n,a,i,r,o,s,c,l,u){for(var p={},d=n.updater.editable(l.uri),m=0;m<r.length;m++){var f=r[m];f.uri&&!(f.uri in p)&&(p[f.uri]=!0)}if(0===Object.keys(p).length&&!c.mint)return kt(e,"Can't do selector with no options, subject= "+a+" property = "+i+".");Z("makeSelectForChoice: dataDoc="+l);var h,v,b=e.createElement("select");for(var x in b.setAttribute("style",Me.formSelectStyle),b.setAttribute("id","formSelect"),b.currentURI=null,p)b.appendChild(y(x));if(d&&c.mint){var g=e.createElement("option");g.appendChild(e.createTextNode(c.mint)),g.AJAR_mint=!0,b.insertBefore(g,b.firstChild)}function y(t){var a,i=e.createElement("option"),r=n.sym(t);a=c.disambiguate?ft(r,!0):ue(r,!0),i.appendChild(e.createTextNode(a)),i.setAttribute("value",t);var s=n.any(r,n.sym("http://www.w3.org/ns/ui#backgroundColor"));return s&&i.setAttribute("style","background-color: "+s.value+"; "),i.AJAR_uri=t,ui(r.value,o)&&i.setAttribute("selected","true"),i}return 0===b.children.length&&b.insertBefore(((v=e.createElement("option")).appendChild(e.createTextNode((h="--- choice ---",i&&"BlankNode"!==i.termType&&(h="* Select for property: "+ue(i)+" *"),a&&"BlankNode"!==a.termType&&(h="* Select for "+ue(a,!0)+" *"),h))),v.disabled=!0,v.value=!0,v.hidden=!0,v.selected=!0,v),b.firstChild),b.update=function(t){o=t;var r,c=[],p=[],d=function(e){n.holds(a,i,e,l)&&c.push(L.st(a,i,e,l))},m=function(e){n.holds(a,i,e,l)||p.push(L.st(a,i,e,l)),s&&!n.holds(e,R.rdf("type"),n.sym(s),l)&&p.push(L.st(e,R.rdf("type"),n.sym(s),l))},f=n.each(a,i,null,l).map(function(e){return e.value}),h=Pa(f);try{for(h.s();!(r=h.n()).done;){var v=r.value;ui(v,o)||d(L.sym(v))}}catch(e){h.e(e)}finally{h.f()}var x,g=Pa(o);try{for(g.s();!(x=g.n()).done;){var y=x.value;y in f||m(L.sym(y))}}catch(e){g.e(e)}finally{g.f()}n.updater.update(c,p,function(t,n,a){if(!n)return b.parentNode.appendChild(kt(e,"Error updating data in select: "+a));b.refresh(),u&&u(n,{widget:"select",event:"change"})})},b.refresh=function(){b.disabled=!0;for(var r,p=[],d=0;d<b.options.length;d++){var m=b.options[d];if(m.selected&&m.AJAR_mint){if(c.mintClass){var f=ti(e,n,a,i,s,c.subForm,l,function(e,t){e||u(e,t,{change:"new"})});b.parentNode.appendChild(f),r=f.AJAR_subject}else r=ci(l);p.push(L.st(a,i,n.sym(r),l)),s&&p.push(L.st(r,R.rdf("type"),n.sym(s),l)),c.mintStatementsFun&&(p=p.concat(c.mintStatementsFun(r))),b.currentURI=r}m.AJAR_uri&&(m.selected&&ui(m.AJAR_uri,o)&&(b.currentURI=m.AJAR_uri),ui(m.AJAR_uri,o)||m.removeAttribute("selected"),ui(m.AJAR_uri,o)&&m.setAttribute("selected","true"))}Y("selectForOptions: data doc = "+l),b.currentURI&&c.subForm&&!c.multiSelect&&Wa(e,t,{},L.sym(b.currentURI),c.subForm,l,function(a,i){a?(n.updater.update([],p,function(n,a,i){a||t.appendChild(kt(e,"Error updating select: "+i))}),u&&u(a,{widget:"select",event:"new"})):t.appendChild(kt(e,"Error updating data in field of select: "+i))}),b.disabled=!1},d&&b.addEventListener("change",function(e){t.removeChild(t.lastChild),b.refresh()},!1),b}function ui(e,t){var n;for(n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function pi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return di(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?di(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}_n[R.ui("AutocompleteField").uri]=function(e,t,n,a,i,r,o){var s;function c(){return(c=N(O().mark(function t(n,i){var s,c,l,p,m,f;return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=1;break}throw new Error("autocompleteField:  No name set.");case 1:if(!(s=u.the(a,v,null,r))){t.next=2;break}if(c=u.any(s,b,null,r),!(s.equals(n)&&c&&c.sameTerm(i))){t.next=2;break}return t.abrupt("return");case 2:return l=s?u.statementsMatching(a,v,s,r).concat(u.statementsMatching(s,b,null,r)):[],p=[(0,L.st)(a,v,n,r),(0,L.st)(n,b,i,r)],t.prev=3,t.next=4,null===(m=u.updater)||void 0===m?void 0:m.updateMany(l,p);case 4:t.next=6;break;case 5:return t.prev=5,f=t.catch(3),o(!1,f),d.appendChild(kt(e,"Autocomplete form data update error:"+f,null,f)),t.abrupt("return");case 6:o(!0,"");case 7:case"end":return t.stop()}},t,null,[[3,5]])}))).apply(this,arguments)}function l(){return(l=N(O().mark(function t(n,i){var s,c,l,p,m,f;return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=u.the(a,v,null,r)){t.next=1;break}return o(!1,"NO data to elete"),d.appendChild(kt(e,"Autocomplete delete: no old data!")),t.abrupt("return");case 1:return c=u.statementsMatching(a,v,s,r).concat(u.statementsMatching(s,b,null,r)),l=[],t.prev=2,t.next=3,null===(p=u.updater)||void 0===p?void 0:p.updateMany(c,l);case 3:t.next=5;break;case 4:return t.prev=4,f=t.catch(2),m=new Error("Autocomplete form data delete error:"+f),o(!1,f),d.appendChild(kt(e,m,null,f)),t.abrupt("return");case 5:o(!0,"");case 6:case"end":return t.stop()}},t,null,[[2,4]])}))).apply(this,arguments)}if("NamedNode"!==a.termType)throw new Error("Sorry this field only works on NamedNode subjects (for editable)");var u=f,p=i.doc?i.doc():null,d=e.createElement("div");t&&t.appendChild(d);var m=e.createElement("div");m.setAttribute("class","formFieldName"),m.setAttribute("style",Me.formFieldNameBoxStyle),d.appendChild(m);var h=e.createElement("div");h.setAttribute("class","formFieldValue"),d.appendChild(h);var v=u.any(i,R.ui("property"));if(!v)return d.appendChild(kt(e,"Error: No property given for autocomplete field: "+i));var b=u.any(i,R.ui("labelProperty"))||R.schema("name"),x=u.any(i,R.ui("dataSource"));if(!x)return d.appendChild(kt(e,"Error: No data source given for autocomplete field: "+i));var g={label:u.anyJS(x,R.schema("name"),null,x.doc()),logo:u.any(x,R.schema("logo"),null,x.doc())},y=u.any(i,R.ui("targetClass"),null,i.doc())||u.any(x,R.ui("targetClass"),null,x.doc());y&&(g.targetClass=y),g.objectURIBase=u.any(x,R.ui("objectURIBase"),null,x.doc())||void 0;var w=u.anyJS(x,R.ui("endpoint"),null,x.doc());if(w){if(g.endpoint=w,g.searchByNameQuery=u.anyJS(x,R.ui("searchByNameQuery"),null,x.doc()),!g.searchByNameQuery)return d.appendChild(kt(e,"Error: No searchByNameQuery given for endpoint data Source: "+i));g.insitituteDetailsQuery=u.anyJS(x,R.ui("insitituteDetailsQuery"),null,x.doc())}else{var k=u.anyJS(x,R.ui("searchByNameURI"));if(!k)return d.appendChild(kt(e,"Error: No searchByNameURI OR sparql endpoint given for dataSource: "+x));g.searchByNameURI=k}var C=u.anyJS(i,R.ui("suppressEmptyUneditable"),null,p),E=null===(s=u.updater)||void 0===s?void 0:s.editable(r.uri),A={permanent:!0,targetClass:g.targetClass,queryParams:g};A.size=u.anyJS(i,R.ui("size"),null,p)||void 0;var _=u.any(a,v,void 0,r);if(_)A.currentObject=_,A.currentName=u.any(A.currentObject,b,null,r);else if(_=u.any(i,R.ui("default")))A.currentObject=_,A.currentName=u.any(A.currentObject,b,null,r);else if(C&&!E)return d.style.display="none",d;return m.appendChild(Bn(e,v,i)),Na(e,a,{editable:E,dbLookup:!0},A,function(e,t){return c.apply(this,arguments)},function(e,t){return l.apply(this,arguments)}).then(function(e){h.appendChild(e)},function(t){h.appendChild(kt(e,"Error rendering autocomplete ".concat(i,": ").concat(t),"#fee",t))}),d},_n[R.ui("Form").uri]=_n[R.ui("Group").uri]=function(e,t,n,a,i,r,o){var s=e.createElement("div"),c=R.ui;if(t&&t.appendChild(s),i){var l=a.toNT()+"|"+i.toNT();if(n[l])return s.appendChild(e.createTextNode("Group: see above "+l)),s;var u={};for(var p in n)u[p]=1;u[l]=1;var d=i.doc?i.doc():null,m=Ha.any(i,c("weight"),null,d),f=m?Number(m.value):1;if(f>3||f<0)return s.appendChild(kt(e,"Form Group weight ".concat(f," should be 0-3")));s.setAttribute("style",Me.formGroupStyle[f]),s.style.display="flex",s.style.flexDirection="column",s.class="form-weight-"+f;var h,v=Ha.any(i,c("parts"),null,d);if(v?h=v.elements:(v=Ha.each(i,c("part"),null,d),h=Ya(v)),!v)return s.appendChild(kt(e,"No parts to form! "));for(var b=0;b<h.length;b++){var x=h[b],g=Tn(0,x),y=function(t,i){t&&i&&i.widget&&"select"===i.widget&&Va(e,n,a,r,o,s,h),o(t,{widget:"group",change:i})};s.appendChild(g(e,null,u,a,x,r,y))}return s}},_n[R.ui("Options").uri]=function(e,t,n,a,i,r,o){var s=f,c=e.createElement("div"),l=i.doc?i.doc():null,u=R.ui;t&&t.appendChild(c);var p=s.any(i,u("dependingOn"));p||(p=R.rdf("type"));var d,m=s.each(i,u("case"),null,l);m||c.appendChild(kt(e,"No cases to Options form. ")),d=p.sameTerm(R.rdf("type"))?Object.keys(s.findTypeURIs(a)).map(function(e){return L.sym(e)}):s.each(a,p);for(var h=0;h<m.length;h++){for(var v=m[h],b=s.each(v,u("for"),null,l),x=!1,g=0;g<b.length;g++){var y,w=Pa(d);try{for(w.s();!(y=w.n()).done;){var k=y.value,C=b[g];(k.sameTerm(b)||k.termType===C.termType&&k.value===C.value)&&(x=!0)}}catch(e){w.e(e)}finally{w.f()}}if(x){var E=s.the(v,u("use"));if(!E)return c.appendChild(kt(e,'No "use" part for case in form '+i)),c;$a(e,c,n,a,E,r,o);break}}return c},_n[R.ui("Multiple").uri]=function(e,t,n,a,i,r,o){function s(e){return e.map(function(e){return e.toString().slice(-7)}).join(", ")}function c(){return l.apply(this,arguments)}function l(){return l=N(O().mark(function t(){var n,i,o,s;return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=ci(r),!g){t.next=2;break}return I(),A.elements.push(n),t.next=1,F();case 1:t.next=7;break;case 2:return i=w?[L.st(n,y,a,r)]:[L.st(a,y,n,r)],t.prev=3,t.next=4,d.updater.update([],i);case 4:t.next=6;break;case 5:t.prev=5,s=t.catch(3),o="Error adding to unordered multiple: "+s,h.appendChild(kt(e,o)),de.z3(o);case 6:P();case 7:case"end":return t.stop()}},t,null,[[3,5]])})),l.apply(this,arguments)}function u(t){function i(){return(i=N(O().mark(function n(){var i,o;return O().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!g){n.next=5;break}de.Rm("pre delete: "+s(A.elements)),i=0;case 1:if(!(i<A.elements.length)){n.next=4;break}if(!A.elements[i].sameTerm(t)){n.next=3;break}return A.elements.splice(i,1),n.next=2,F();case 2:return n.abrupt("return");case 3:i++,n.next=1;break;case 4:n.next=6;break;case 5:d.holds(a,y,t,r)&&(o=[L.st(a,y,t,r)],d.updater.update(o,[],function(t,n,a){n?j.removeChild(u):j.appendChild(kt(e,"Multiple: delete failed: "+a))}));case 6:case"end":return n.stop()}},n)}))).apply(this,arguments)}function c(e,t){return l.apply(this,arguments)}function l(){return(l=N(O().mark(function e(n,a){var i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:de.Rm("pre move: "+s(A.elements)),i=0;case 1:if(!(i<A.elements.length)){e.next=3;break}if(!A.elements[i].sameTerm(t)){e.next=2;break}return e.abrupt("continue",3);case 2:i++,e.next=1;break;case 3:if(i===A.elements.length&&alert("list move: not found element for "+t),!a){e.next=5;break}if(0!==i){e.next=4;break}return alert("@@ boop - already at top   -temp message"),e.abrupt("return");case 4:A.elements.splice(i-1,2,A.elements[i],A.elements[i-1]),e.next=7;break;case 5:if(i!==A.elements.length-1){e.next=6;break}return alert("@@ boop - already at bottom   -temp message"),e.abrupt("return");case 6:A.elements.splice(i,2,A.elements[i+1],A.elements[i]);case 7:return e.next=8,F();case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}Z("Multiple: render object: "+t);var u=Tn(0,E)(e,null,n,t,E,r,function(e,n){de.Rm("Item done callback for item ".concat(t.toString())),e||de.z3("  Item done callback: Error: "+n),o(e,n)});if(u.subject=t,d.updater.editable(r.uri)&&(Jt(e,u,k,function(){return i.apply(this,arguments)}),g)){var p=e.createElement("div");p.style.display="grid",p.style.gridTemplateColumns="auto 3em",p.style.gridTemplateRows="50% 50%";var m=$t(e,Ge.Pt.iconBase+"noun_1369237.svg","Move Up",function(){var e=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(t,!0));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),f=$t(e,Ge.Pt.iconBase+"noun_1369241.svg","Move Down",function(){var e=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(t,!1));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),h=e.createElement("div");return h.appendChild(u),p.appendChild(h),p.appendChild(m),p.appendChild(f),m.style.gridColumn=2,f.style.gridColumn=2,m.style.gridRow=1,f.style.padding="0em",m.style.padding="0em",f.style.gridRow=2,h.style.gridColumn=1,h.style.gridRowStart="span 2",p}return u}var p=Ge.Pt.iconBase+"noun_19460_green.svg",d=f,m=i.doc?i.doc():null,h=e.createElement("div"),v=h,b=R.ui;t&&t.appendChild(h);var x=d.any(i,b("ordered")),g=!!x&&L.Node.toJS(x),y=d.any(i,b("property")),w=d.anyJS(i,b("reverse"),null,m);if(!y)return h.appendChild(kt(e,"No property to multiple: "+i)),v;var k=d.any(i,b("label"));k||(k=ue(y));var C=d.any(i,b("min"));C=C?0+C.value:0;var E=d.any(i,b("part"));if(!E)return h.appendChild(kt(e,"No part to multiple: "+i)),v;var A,_,j=h.appendChild(e.createElement("div"));if(j.style.display="flex",j.style.flexDirection="column",_=w?d.any(null,y,a,r):d.any(a,y,null,r),g?(A=w?d.any(null,y,a,r):d.any(a,y,null,r),_=A?A.elements:[]):(_=w?d.each(null,y,a,r):d.each(a,y,null,r),A=null),d.updater.editable(r.uri)){var T=h.appendChild(e.createElement("div"));T.style.padding="0.5em";var S=T.appendChild(e.createElement("img"));S.setAttribute("src",p),S.setAttribute("style","margin: 0.2em; width: 1.5em; height:1.5em"),S.title="Click to add another "+k;var B=e.createElement("span");B.textContent=(0===_.length?"Add another ":"Add ")+k,T.addEventListener("click",function(){var e=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,c();case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),!0),T.appendChild(B)}function I(){A||(A=new L.Collection,w?d.add(A,y,a,r):d.add(a,y,A,r))}function F(){return D.apply(this,arguments)}function D(){return(D=N(O().mark(function t(){var n;return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return de.Rm("save list: "+s(A.elements)),I(),t.prev=1,t.next=2,d.fetcher.putBack(r);case 2:t.next=4;break;case 3:return t.prev=3,n=t.catch(1),h.appendChild(kt(e,"Error trying to put back a list: "+n)),t.abrupt("return");case 4:P();case 5:case"end":return t.stop()}},t,null,[[1,3]])}))).apply(this,arguments)}function P(){var e;if(g){var t=w?d.the(null,y,a,r):d.the(a,y,null,r);e=t?t.elements:[]}else(e=w?d.each(null,y,a,r):d.each(a,y,null,r)).sort();et(j,e,u)}function U(){return(U=N(O().mark(function e(){var t,n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=C-_.length)>0)){e.next=4;break}n=0;case 1:if(!(n<t)){e.next=3;break}return de.Rm("Adding extra: min "+C),e.next=2,c();case 2:n++,e.next=1;break;case 3:return e.next=4,F();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return j.refresh=P,P(),function(){return U.apply(this,arguments)}().then(function(){de.Rm(" Multiple render: async stuff ok")},function(e){de.z3(" Multiple render: async stuff fails. #### ",e)}),v},_n[R.ui("PhoneField").uri]=In,_n[R.ui("EmailField").uri]=In,_n[R.ui("ColorField").uri]=In,_n[R.ui("DateField").uri]=In,_n[R.ui("DateTimeField").uri]=In,_n[R.ui("TimeField").uri]=In,_n[R.ui("NumericField").uri]=In,_n[R.ui("IntegerField").uri]=In,_n[R.ui("DecimalField").uri]=In,_n[R.ui("FloatField").uri]=In,_n[R.ui("TextField").uri]=In,_n[R.ui("SingleLineTextField").uri]=In,_n[R.ui("NamedNodeURIField").uri]=In,_n[R.ui("MultiLineTextField").uri]=function(e,t,n,a,i,r,o){var s=R.ui,c=f,l=i.doc?i.doc():null,u=c.any(i,s("property"));if(!u)return kt(e,"No property to text field: "+i);var p=e.createElement("div");p.style.display="flex",p.style.flexDirection="row";var d=p.appendChild(e.createElement("div"));d.style.width=Ue.formFieldNameBoxWidth;var m=p.appendChild(e.createElement("div"));d.appendChild(Bn(e,u,i)),r=Nn(a,u,r);var h=c.anyJS(a,u,null,r)||"",v=c.updater.editable(r.uri),b=i&&c.anyJS(i,R.ui("suppressEmptyUneditable"),null,l);!v&&b&&""===h&&(p.style.display="none");var x=ni(e,c,a,u,r,o);return m.appendChild(x),t&&t.appendChild(p),p},_n[R.ui("BooleanField").uri]=function(e,t,n,a,i,r,o){return Ga(e,t,0,a,i,r,0,!1)},_n[R.ui("TristateField").uri]=function(e,t,n,a,i,r,o){return Ga(e,t,0,a,i,r,0,!0)},_n[R.ui("Classifier").uri]=function(e,t,n,a,i,r,o){var s=f,c=R.ui,l=s.any(i,c("category"));if(!l)return kt(e,"No category for classifier: "+i);Z("Classifier: dataDoc="+r);var u=oi(e,s,a,l,r,function(e,t){return o(e,t)});return t&&t.appendChild(u),u},_n[R.ui("Choice").uri]=function(e,t,n,a,i,r,o){var s,c=R.ui,l=f,u=i.doc?i.doc():null,p=e.createElement("div");p.setAttribute("class","choiceBox"),t&&t.appendChild(p);var d=e.createElement("div");d.setAttribute("class","formFieldName choiceBox-label"),p.appendChild(d);var m=e.createElement("div");m.setAttribute("class","formFieldValue choiceBox-selectBox"),p.appendChild(m);var h=l.any(i,c("property"));if(!h)return p.appendChild(kt(e,"No property for Choice: "+i));d.appendChild(Bn(e,h,i));var v=l.any(i,c("from"));if(!v)return kt(e,"No 'from' for Choice: "+i);var b=l.any(i,c("use")),x={form:i,subForm:b,disambiguate:!1};l.any(i,c("canMintNew"))&&(x.mint="* Create new *");var g=l.any(i,c("multiselect"));g&&(x.multiSelect=!0);var y,w=l.each(i,c("search-full-store")).length?null:r;return m.refresh=function(){var t=l.each(a,h,null,r).map(function(e){return e.value}),n=function(e){var t,n=[];for(var a in n=l.each(void 0,R.rdf("type"),v,u),function(e,t,n){var a,i,r,o,s,c,l,u,p,d,m,f={};f[t.toNT()]=!0;var h={},v=e.transitiveClosure(f,e.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(var b in v){for(var x=0,g=(s=e.statementsMatching(null,e.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),e.fromNT(b),n)).length;x<g;x++)h[(d=s[x]).subject.toNT()]=d;for(var y=0,w=(c=e.each(null,e.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),e.fromNT(b),n)).length;y<w;y++)for(o=c[y],r=0,a=(l=e.statementsMatching(null,o,null,n)).length;r<a;r++)h[(d=l[r]).subject.toNT()]=d;for(var k=0,C=(u=e.each(null,e.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),e.fromNT(b),n)).length;k<C;k++)for(o=u[k],m=0,i=(p=e.statementsMatching(null,o,null,n)).length;m<i;m++)h[(d=p[m]).object.toNT()]=d}return h}(l,v,e))n.push(l.fromNT(a));if(v.sameTerm(R.rdfs("Class")))for(s in cn())n.push(l.sym(s));else if(v.sameTerm(R.rdf("Property"))){for(s in(t=ln(l)).op)n.push(l.fromNT(s));for(s in t.dp)n.push(l.fromNT(s));x.disambiguate=!0}else if(v.sameTerm(R.owl("ObjectProperty"))){for(s in(t=ln(l)).op)n.push(l.fromNT(s));x.disambiguate=!0}else if(v.sameTerm(R.owl("DatatypeProperty"))){for(s in(t=ln(l)).dp)n.push(l.fromNT(s));x.disambiguate=!0}return n}(w);if(n.push(t),n=Xa(n),y=li(e,m,l,a,h,n,t,v,x,r,o),m.innerHTML="",m.appendChild(y),g){var i=new Da({placeholder:y.selected,select:y,container:m,textField:"textField",valueField:"valueField"});i.init(),i.subscribe(function(n){if("REMOVE_OPTION"===n.action&&(t=t.filter(function(e){return e!==n.value})),"CLEAR_ALL_OPTIONS"===n.action&&(t=[]),"ADD_OPTION"===n.action)if((n.value+"").includes("Create new")){var i=ci(r),s=[];s.push(L.st(a,h,l.sym(i),r)),v&&s.push(L.st(i,R.rdf("type"),l.sym(v),r)),b&&Wa(e,m,{},L.sym(i),b,r,function(n,a){n?(l.updater.update([],s,function(t,n,a){n||m.appendChild(kt(e,"Error updating select: "+a))}),t.push(i),o&&o(n,{widget:"select",event:"new"})):m.appendChild(kt(e,"Error updating data in field of select: "+a))})}else t.push(n.value);y.update(t)})}},m.refresh(),y&&y.refresh&&y.refresh(),p},_n[R.ui("Comment").uri]=_n[R.ui("Heading").uri]=function(e,t,n,a,i,r,o){var s=R.ui,c=f,l=c.any(i,s("contents"));l||(l="Error: No contents in comment field.");var u=i.doc?i.doc():null,p=jn(i),d=En[p]||{},m=e.createElement("div");t&&t.appendChild(m);var h=m.appendChild(e.createElement(d.element));h.textContent=l,function(e,t){var n=jn(t),a=En[n]||{},i=f.any(t,R.ui("style"));i?"Literal"===i.termType?i&&e.setAttribute("style",i.value):f.statementsMatching(i,null,null,t.doc()).forEach(function(t){if(t.predicate.uri&&t.predicate.uri.startsWith(Sn)){var n=t.predicate.uri.slice(26);try{e.style[n]=t.object.value}catch(a){console.warn("setFieldStyle: Error setting element style ".concat(n,' to "').concat(t.object.value,'"')),console.warn('setFieldStyle:   ... Element tagName was "'.concat(e.tagName||"???",'"'))}}}):a.style&&e.setAttribute("style",a.style)}(h,i);var v=c.anyJS(i,R.ui("suppressIfUneditable"),null,u),b=c.updater.editable(r.uri);return v&&!b&&(m.style.display="none"),m};m.store;var mi=m.profile,fi=mi.loadPreferences,hi=mi.loadProfile,vi=m.typeIndex,bi=vi.getScopedAppInstances,xi=vi.getRegistrations,gi=vi.loadAllTypeIndexes,yi=vi.getScopedAppsFromIndex,wi=vi.deleteTypeIndexRegistration;function ki(e){var t=l.currentUser();return t?(l.saveUser(t,e),Promise.resolve(e)):new Promise(function(t){l.checkUser().then(function(n){if(n)return de.Rm("logIn: Already logged in as ".concat(n)),t(e);if(!e.div||!e.dom)return t(e);var a=Fi(e.dom,function(n){l.saveUser(n,e),t(e)});e.div.appendChild(a)})})}function Ci(e){return Ei.apply(this,arguments)}function Ei(){return(Ei=N(O().mark(function e(t){var c,l,u;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.preferencesFile){e.next=1;break}return e.abrupt("return",Promise.resolve(t));case 1:return e.prev=1,e.next=2,Ai(t);case 2:return t=e.sent,e.next=3,fi(t.me);case 3:c=e.sent,t.preferencesFile=c,e.next=11;break;case 4:if(e.prev=4,!((u=e.catch(1))instanceof o)){e.next=5;break}te(l="Oops  you are not authenticated (properly logged in), so SolidOS cannot read your preferences file. Try logging out and then logging back in."),e.next=11;break;case 5:if(!(u instanceof n)){e.next=6;break}return l="Unauthorized: Assuming preference file blocked for origin ".concat(window.location.origin),t.preferencesFileError=l,e.abrupt("return",t);case 6:if(!(u instanceof r)){e.next=7;break}return l="You are not authorized to read your preference file. This may be because you are using an untrusted web app.",de.R8(l),e.abrupt("return",t);case 7:if(!(u instanceof i)){e.next=8;break}return l="You are not authorized to edit your preference file. This may be because you are using an untrusted web app.",de.R8(l),e.abrupt("return",t);case 8:if(!(u instanceof s)){e.next=9;break}l="You are not authorized to edit your preference file. This may be because you are using an untrusted web app.",de.R8(l),e.next=11;break;case 9:if(!(u instanceof a)){e.next=10;break}te(l="Strange: Error ".concat(u.status," trying to read your preference file.").concat(u.message)),e.next=11;break;case 10:throw new Error("(via loadPrefs) ".concat(u));case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}},e,null,[[1,4]])}))).apply(this,arguments)}function Ai(e){return _i.apply(this,arguments)}function _i(){return(_i=N(O().mark(function e(t){var n,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.publicProfile){e.next=1;break}return e.abrupt("return",t);case 1:return e.prev=1,e.next=2,ki(t);case 2:if((n=e.sent).me){e.next=3;break}throw new Error("Could not log in");case 3:return e.next=4,hi(n.me);case 4:t.publicProfile=e.sent,e.next=6;break;case 5:throw e.prev=5,a=e.catch(1),t.div&&t.dom&&t.div.appendChild(kt(t.dom,a.message)),new Error("Can't log in: ".concat(a));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,null,[[1,5]])}))).apply(this,arguments)}function ji(e,t,n){return Ti.apply(this,arguments)}function Ti(){return(Ti=N(O().mark(function e(t,n,a){var i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.me){e.next=2;break}return e.next=1,bi(n,t.me);case 1:r=e.sent,e.next=3;break;case 2:r=[];case 3:return i=r,!0===a?i=i.filter(function(e){return"public"===e.scope.label}):!1===a&&(i=i.filter(function(e){return"private"===e.scope.label})),t.instances=i.map(function(e){return e.instance}),e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Si(e,t){var n=e.me&&e.me.sameTerm(t.agent)?"":ue(t.agent)+" ";return"".concat(n).concat(t.label)}function Li(e,t,n){return Ri.apply(this,arguments)}function Ri(){return Ri=N(O().mark(function e(t,n,a){var i,r,o,s,c,u,p,d,f,h,v,b,x;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e){var n=i(e.index),a=Si(t,e),r="".concat(a," link to this ").concat(t.noun);return si(t.dom,m.store,r,null,n,f,e.index)},i=function(e){var t=xi(n,a),i=t.length?t[0]:ci(e);return[(0,L.st)(i,R.solid("instance"),n,e),(0,L.st)(i,R.solid("forClass"),a,e)]},(o=t.dom)&&t.div){e.next=1;break}throw new Error("registrationControl: need dom and div");case 1:if(s=o.createElement("div"),t.div.appendChild(s),t.me=l.currentUser(),c=t.me){e.next=2;break}return s.innerHTML='<p style="margin:2em;">(Log in to save a link to this)</p>',e.abrupt("return",t);case 2:return e.prev=2,e.next=3,gi(c);case 3:u=e.sent,e.next=5;break;case 4:return e.prev=4,x=e.catch(2),t.div&&t.preferencesFileError?(p="(Lists of stuff not available)",t.div.appendChild(o.createElement("p")).textContent=p):t.div&&(p="registrationControl: Type indexes not available: ".concat(x),t.div.appendChild(kt(t.dom,x))),de.Rm(p),e.abrupt("return",t);case 5:s.innerHTML="<table><tbody></tbody></table>",s.setAttribute("style","font-size: 120%; text-align: right; padding: 1em; border: solid gray 0.05em;"),d=s.children[0].children[0],f=new L.BlankNode,h=pi(u);try{for(h.s();!(v=h.n()).done;)b=v.value,d.appendChild(o.createElement("tr")).appendChild(r(b))}catch(e){h.e(e)}finally{h.f()}return e.abrupt("return",t);case 6:case"end":return e.stop()}},e,null,[[2,4]])})),Ri.apply(this,arguments)}function Bi(e,t,n){var a=e.dom,i=Si(e,n),r=a.createElement("tr"),o=r.appendChild(a.createElement("td"));o.setAttribute("colspan","3"),o.style.backgoundColor={private:"#fee",public:"#efe"}[n.label]||"white";var s=o.appendChild(a.createElement("h3"));return s.textContent=i+" links",s.style.textAlign="left",r}function Ni(e,t){return Ii.apply(this,arguments)}function Ii(){return Ii=N(O().mark(function e(t,n){var a,i,r,o,s,c,u,p,d,m,f,h,v,b,x,g;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.dom,i=t.div,r=a.createElement("div"),i.appendChild(r),t.me=l.currentUser(),t.me){e.next=1;break}return r.innerHTML='<p style="margin:2em;">(Log in list your stuff)</p>',e.abrupt("return",t);case 1:return e.next=2,gi(t.me);case 2:o=e.sent,r.innerHTML="<table><tbody></tbody></table>",r.setAttribute("style","font-size: 120%; text-align: right; padding: 1em; border: solid #eee 0.5em;"),s=r.firstChild,c=s.firstChild,u=pi(o),e.prev=3,u.s();case 4:if((p=u.n()).done){e.next=13;break}return d=p.value,m=Bi(t,0,d),c.appendChild(m),e.next=5,yi(d,n.type||null);case 5:0===(f=e.sent).length&&(m.style.display="none"),h=pi(f),e.prev=6,b=O().mark(function e(){var t,n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=v.value,n=Yt(a,R.solid("instance"),t.instance,{deleteFunction:function(){var e=N(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,wi(t);case 1:c.removeChild(n);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}),n.children[0].style.paddingLeft="3em",c.appendChild(n);case 1:case"end":return e.stop()}},e)}),h.s();case 7:if((v=h.n()).done){e.next=9;break}return e.delegateYield(b(),"t0",8);case 8:e.next=7;break;case 9:e.next=11;break;case 10:e.prev=10,x=e.catch(6),h.e(x);case 11:return e.prev=11,h.f(),e.finish(11);case 12:e.next=4;break;case 13:e.next=15;break;case 14:e.prev=14,g=e.catch(3),u.e(g);case 15:return e.prev=15,u.f(),e.finish(15);case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}},e,null,[[3,14,15,16],[6,10,11,12]])})),Ii.apply(this,arguments)}function Oi(e){var t=e.createElement("div");t.setAttribute("style","position: fixed; top: 0; left: 0; right: 0; bottom: 0; display: flex; justify-content: center; align-items: center;"),e.body.appendChild(t);var n=e.createElement("div");n.setAttribute("style","\n      background-color: white;\n      box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      -webkit-box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      -moz-box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      -o-box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      border-radius: 4px;\n      min-width: 400px;\n      padding: 10px;\n      z-index : 10;\n    "),t.appendChild(n);var a=e.createElement("div");a.setAttribute("style","\n      border-bottom: 1px solid #DDD;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: space-between;\n    "),n.appendChild(a);var i=e.createElement("label");i.setAttribute("style","margin-right: 5px; font-weight: 800"),i.innerText="Select an identity provider";var r=e.createElement("button");r.innerHTML='<img src="https://solidos.github.io/solid-ui/src/icons/noun_1180156.svg" style="width: 2em; height: 2em;" title="Cancel">',r.setAttribute("style","background-color: transparent; border: none;"),r.addEventListener("click",function(){t.remove()}),a.appendChild(i),a.appendChild(r);var o=function(){var e=N(O().mark(function e(t){var n,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m.store.updater.flagAuthorizationMetadata(),(n=new URL(window.location.href).hash)&&window.localStorage.setItem("preLoginRedirectHash",n),window.localStorage.setItem("loginIssuer",t),(a=new URL(window.location.href)).hash="",e.next=1,c.login({redirectUrl:a.href,oidcIssuer:t});case 1:e.next=3;break;case 2:e.prev=2,te(e.catch(0).message);case 3:case"end":return e.stop()}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}(),s=e.createElement("div");s.setAttribute("style","\n      border-bottom: 1px solid #DDD;\n      display: flex;\n      flex-direction: column;\n      padding-top: 10px;\n    ");var l=e.createElement("div");l.setAttribute("style","\n      display: flex;\n      flex-direction: row;\n    ");var u=e.createElement("label");u.innerText="Enter the URL of your identity provider:",u.setAttribute("style","color: #888");var d=e.createElement("input");d.setAttribute("type","text"),d.setAttribute("style","margin-left: 0 !important; flex: 1; margin-right: 5px !important"),d.setAttribute("placeholder","https://example.com"),d.value=localStorage.getItem("loginIssuer")||"";var f=e.createElement("button");f.innerText="Go",f.setAttribute("style","margin-top: 12px; margin-bottom: 12px;"),f.addEventListener("click",function(){o(d.value)}),s.appendChild(u),l.appendChild(d),l.appendChild(f),s.appendChild(l),n.appendChild(s);var h=e.createElement("div");h.setAttribute("style","\n      display: flex;\n      flex-direction: column;\n      padding-top: 10px;\n    ");var v=e.createElement("label");v.innerText="Or pick an identity provider from the list below:",v.setAttribute("style","color: #888"),h.appendChild(v),p().forEach(function(t){var n=e.createElement("button");n.innerText=t.name,n.setAttribute("style","height: 38px; margin-top: 10px"),n.addEventListener("click",function(){o(t.uri)}),h.appendChild(n)}),n.appendChild(h)}function Fi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=d(),i=e.createElement("div");function r(e){e&&(a=l.saveUser(e),i.refresh(),t&&t(a.uri))}function o(e){var n=a;c.logout().then(function(){var e="Your WebID was ".concat(n,". It has been forgotten.");a=null;try{te(e)}catch(t){window.alert(e)}i.refresh(),t&&t(null)},function(e){te("Fail to log out:"+e)})}function s(){a=l.currentUser(),i.refresh()}return i.refresh=function(){var t=c.info;((a=t&&t.webId&&t.isLoggedIn?m.store.sym(t.webId):null)&&i.me!==a.uri||!a&&i.me)&&(Bt(i),a?i.appendChild(function(t,n){var a=n.buttonStyle||Me.signInAndUpButtonStyle,i="WebID logout";if(t){var r=m.store.any(t,R.foaf("nick"))||m.store.any(t,R.foaf("name"));r&&(i="Logout "+r.value)}var s=e.createElement("input");return s.setAttribute("type","button"),s.setAttribute("value",i),s.setAttribute("style","".concat(a)),s.addEventListener("click",o,!1),s}(a,n)):i.appendChild(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(n=n||{}).buttonStyle||Me.signInAndUpButtonStyle,i=e.createElement("div"),r="SolidSignInOrSignUpBox";de.Rm("widgets.signInOrSignUpBox"),i.setUserCallback=t,i.setAttribute("class",r),i.setAttribute("style","display:flex;");var o=e.createElement("input");i.appendChild(o),o.setAttribute("type","button"),o.setAttribute("value","Log in"),o.setAttribute("style","".concat(a).concat(Me.headerBannerLoginInput)+Me.signUpBackground),c.events.on("login",function(){var t=l.currentUser();if(t){var n=t.uri,a=e.getElementsByClassName(r);de.Rm("Logged in, ".concat(a.length," panels to be serviced"));for(var i=0;i<a.length;i++){var o=a[i];if(o.setUserCallback)try{o.setUserCallback(n);var s=o.parentNode;s&&s.removeChild(o)}catch(t){de.Rm("## Error satisfying login box: ".concat(t)),o.appendChild(kt(e,t))}}}}),o.addEventListener("click",function(){var n=d();if(n)return t(n.uri);Oi(e)},!1);var s=e.createElement("input");return i.appendChild(s),s.setAttribute("type","button"),s.setAttribute("value","Sign Up for Solid"),s.setAttribute("style","".concat(a).concat(Me.headerBannerLoginInput)+Me.signInBackground),s.addEventListener("click",function(e){(new kn).signup().then(function(e){de.Rm("signInOrSignUpBox signed up "+e),t(e)})},!1),i}(e,r,n))),i.me=a?a.uri:null},i.refresh(),s(),c.events.on("login",s),c.events.on("logout",s),i.me="99999",i.refresh(),i}function Di(e,t,n){var a=t.noun,i=t.appPathSegment,r=d(),o=e.createElement("div"),s={me:r,dom:e,div:o};function c(t,n){o.appendChild(kt(e,t,n))}function l(e){var t,n=m.store.any(e,R.space("uriPrefix"));"/"!==(t=n?n.value:e.uri.split("#")[0]).slice(-1)&&(de.Rm("".concat(i,": No / at end of uriPrefix ").concat(t)),t="".concat(t,"/"));var a=new Date;return t+="".concat(i,"/id").concat(a.getTime(),"/")}return Ci(s).then(function(t){function i(){return i=N(O().mark(function n(a){var i,r,o,s,c,l;return O().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=f.appendChild(e.createElement("tr")),(r=i.appendChild(e.createElement("td"))).setAttribute("colspan","3"),r.style.padding="0.5em",l=encodeURI,n.next=1,Zt(e,m.store,r,R.solid("URL"),R.space("Workspace"),"Workspace");case 1:if(o=l(n.sent),s=ci(t.preferencesFile),c=[(0,L.st)(t.me,R.space("workspace"),s,t.preferencesFile),(0,L.st)(s,R.space("uriPrefix"),o,t.preferencesFile)],m.store.updater){n.next=2;break}throw new Error("store has no updater");case 2:return n.next=3,m.store.updater.update([],c);case 3:case"end":return n.stop()}},n)})),i.apply(this,arguments)}var r=t.me,s=t.preferencesFile,u=null,p=m.store.each(r,R.space("workspace"),void 0,s),d=m.store.each(r,R.space("storage"));0===p.length&&d&&(c("You don't seem to have any workspaces. You have ".concat(d.length," storage spaces."),"white"),d.map(function(e){return p=p.concat(m.store.each(e,R.ldp("contains")))}).filter(function(e){return e.id?["public","private"].includes(e.id().toLowerCase()):""})),1===p.length&&(c("Workspace used: ".concat(p[0].uri),"white"),u=l(p[0]));var f=e.createElement("table");f.setAttribute("style","border-collapse:separate; border-spacing: 0.5em;"),o.appendChild(f),o.appendChild(e.createElement("hr"));var h=o.appendChild(e.createElement("p"));h.setAttribute("style",Me.commentStyle),h.textContent="Where would you like to store the data for the ".concat(a,"?\n    Give the URL of the folder where you would like the data stored.\n    It can be anywhere in solid world - this URI is just an idea.");var v=o.appendChild(e.createElement("input"));v.setAttribute("type","text"),v.setAttribute("style",Me.textInputStyle),v.size=80,v.label="base URL",v.autocomplete="on",u&&(v.value=u),t.baseField=v,o.appendChild(e.createElement("br"));var b,x,g,y,w,k,C,E=o.appendChild(e.createElement("button"));E.setAttribute("style",Me.buttonStyle),E.textContent="Start new ".concat(a," at this URI"),E.addEventListener("click",function(e){var t=v.value.replace(" ","%20");"/"!==t.slice(-1)&&(t+="/"),n(null,t)}),p=p.filter(function(e){return!m.store.holds(e,R.rdf("type"),R.space("MasterWorkspace"))});for(var A="height: 3em; margin: 1em; padding: 1em white; border-radius: 0.3em;",_="".concat(A,"border: 0px;"),j=0;j<p.length;j++){if(w=p[j],y=e.createElement("tr"),0===j&&((b=e.createElement("td")).setAttribute("rowspan","".concat(p.length)),b.textContent="Choose a workspace for this:",b.setAttribute("style","vertical-align:middle;"),y.appendChild(b)),x=e.createElement("td"),!(k=m.store.anyValue(w,R.ui("style")))){var T="#".concat((16777215&function(e){return e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0)}(w.uri)|12632256).toString(16));k="color: black ; background-color: ".concat(T,";")}x.setAttribute("style",_+k),y.target=w.uri;var S=m.store.any(w,R.rdfs("label"));S||(S=w.uri.split("/").slice(-1)[0]||w.uri.split("/").slice(-2)[0]),x.textContent=S||"???",y.appendChild(x),0===j&&((g=e.createElement("td")).setAttribute("rowspan","".concat(p.length,"1")),g.setAttribute("style","width:50%;"),y.appendChild(g)),f.appendChild(y),C=(C=m.store.any(w,R.rdfs("comment")))?C.value:"Use this workspace",x.addEventListener("click",function(t){g.textContent=C?C.value:"",g.setAttribute("style",_+k);var a=e.createElement("button");a.textContent="Continue";var i=l(w);v.value=i,a.addEventListener("click",function(e){a.disabled=!0,n(w,i),a.textContent="----\x3e"},!0),g.appendChild(a)},!0)}var B=e.createElement("tr");(x=e.createElement("td")).setAttribute("style",A),x.textContent="+ Make a new workspace",x.addEventListener("click",function(e){return i.apply(this,arguments)}),B.appendChild(x),f.appendChild(B)}).catch(function(e){o.appendChild(kt(s.dom,e))}),o}function Pi(e,t,n){var a=function(e,t){n(e,t)},i=e.createElement("div"),r=e.createElement("button");return r.setAttribute("type","button"),i.appendChild(r),r.innerHTML="Make new ".concat(t.noun),r.addEventListener("click",function(n){i.appendChild(Di(e,t,a))},!1),i.appendChild(r),i}function Ui(){return Mi.apply(this,arguments)}function Mi(){return(Mi=N(O().mark(function e(){var t,n,a,i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,Ci({});case 1:if(t=e.sent,n=t.me,a=t.preferencesFile,i=t.preferencesFileError,a&&!i){e.next=2;break}throw new Error(i);case 2:return e.abrupt("return",m.store.each(n,R.rdf("type"),null,a.doc()));case 3:return e.prev=3,r=e.catch(0),de.R8("Unable to fetch your preferences - this was the error: ",r),e.abrupt("return",[]);case 4:case"end":return e.stop()}},e,null,[[0,3]])}))).apply(this,arguments)}function zi(e){return qi.apply(this,arguments)}function qi(){return(qi=N(O().mark(function e(t){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Ui();case 1:return n=e.sent,e.abrupt("return",t.filter(function(e){return Hi(e,n)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Hi(e,t){return(e.audience||[]).reduce(function(e,n){return e&&!!t.find(function(e){return e.equals(n)})},!0)}c.events.on("logout",N(O().mark(function e(){var t,n,a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.localStorage.getItem("loginIssuer"))){e.next=6;break}return e.prev=1,m.store.updater.flagAuthorizationMetadata(),(n=new URL(t)).pathname="/.well-known/openid-configuration",e.next=2,fetch(n.toString());case 2:if(200!==(a=e.sent).status){e.next=4;break}return e.next=3,a.json();case 3:if(!(i=e.sent)||!i.end_session_endpoint){e.next=4;break}return e.next=4,fetch(i.end_session_endpoint,{credentials:"include"});case 4:e.next=6;break;case 5:e.prev=5,e.catch(1);case 6:window.location.reload();case 7:case"end":return e.stop()}},e,null,[[1,5]])})));var Vi=function(){return Ie(function e(t){Le(this,e),yn(this,"isExpanded",!1),this.groupList=t,this.rootElement=t.controller.dom.createElement("div"),this.barElement=t.controller.dom.createElement("div")},[{key:"render",value:function(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.renderAddButton()),this.rootElement.appendChild(this.barElement),this.rootElement}},{key:"renderAddButton",value:function(){var e=this;return $t(this.groupList.controller.dom,"".concat(Ge.Pt.iconBase,"noun_34653_green.svg"),"Add ...",function(){e.toggleBar(),e.renderBar()})}},{key:"renderBar",value:function(){this.barElement.innerHTML="",this.isExpanded&&(this.barElement.appendChild(this.renderPersonButton()),this.barElement.appendChild(this.renderGroupButton()),this.barElement.appendChild(this.renderPublicButton()),this.barElement.appendChild(this.renderAuthenticatedAgentButton()),this.barElement.appendChild(this.renderBotButton()),this.barElement.appendChild(this.renderAppsButton()))}},{key:"renderSimplifiedBar",value:function(e){var t=this;Array.from(this.barElement.children).filter(function(t){return t!==e}).forEach(function(e){return t.barElement.removeChild(e)})}},{key:"renderPersonButton",value:function(){var e=this;return $t(this.groupList.controller.dom,Ge.Pt.iconBase+Mt["vcard:Individual"],"Add Person",function(t){e.renderSimplifiedBar(t.target),e.renderNameForm(R.vcard("Individual"),"person").then(function(t){return e.addPerson(t)}).then(function(){return e.renderCleanup()}).catch(function(t){return e.groupList.controller.renderStatus(t)})})}},{key:"renderGroupButton",value:function(){var e=this;return $t(this.groupList.controller.dom,Ge.Pt.iconBase+Mt["vcard:Group"],"Add Group",function(t){e.renderSimplifiedBar(t.target),e.renderNameForm(R.vcard("Group"),"group").then(function(t){return e.addGroup(t)}).then(function(){return e.renderCleanup()}).catch(function(t){return e.groupList.controller.renderStatus(t)})})}},{key:"renderNameForm",value:function(e,t){return Zt(this.groupList.controller.dom,this.groupList.store,this.barElement,R.vcard("URI"),e,t)}},{key:"renderPublicButton",value:function(){var e=this;return $t(this.groupList.controller.dom,Ge.Pt.iconBase+Mt["foaf:Agent"],"Add Everyone",function(){return e.addAgent(R.foaf("Agent").uri).then(function(){return e.groupList.controller.renderTemporaryStatus("Adding the general public to those who can read. Drag the globe to a different level to give them more access.")}).then(function(){return e.renderCleanup()})})}},{key:"renderAuthenticatedAgentButton",value:function(){var e=this;return $t(this.groupList.controller.dom,"".concat(Ge.Pt.iconBase,"noun_99101.svg"),"Anyone logged In",function(){return e.addAgent(R.acl("AuthenticatedAgent").uri).then(function(){return e.groupList.controller.renderTemporaryStatus("Adding anyone logged in to those who can read. Drag the ID icon to a different level to give them more access.")}).then(function(){return e.renderCleanup()})})}},{key:"renderBotButton",value:function(){var e=this;return $t(this.groupList.controller.dom,Ge.Pt.iconBase+"noun_Robot_849764.svg","A Software Agent (bot)",function(t){e.renderSimplifiedBar(t.target),e.renderNameForm(R.schema("Application"),"bot").then(function(t){return e.addBot(t)}).then(function(){return e.renderCleanup()})})}},{key:"renderAppsButton",value:function(){var e=this;return $t(this.groupList.controller.dom,"".concat(Ge.Pt.iconBase,"noun_15177.svg"),"A Web App (origin)",function(t){e.renderSimplifiedBar(t.target);var n={div:e.barElement,dom:e.groupList.controller.dom},a=e.renderAppsTable(n).catch(function(t){return e.groupList.controller.renderStatus(t)});e.renderAppsView();var i=e.renderNameForm(R.schema("WebApplication"),"webapp domain").then(function(t){return e.getOriginFromName(t)});Promise.race([a,i]).then(function(t){t&&e.groupList.addNewURI(t)}).then(function(){return e.renderCleanup()})})}},{key:"renderAppsView",value:function(){var e=this,t=this.groupList.controller.context.session.paneRegistry.byName("trustedApplications");if(t){var n=t.render(null,this.groupList.controller.context);n.setAttribute("style",Me.trustedAppController);var a=Kt(this.groupList.controller.dom,function(){return e.renderCleanup()});a.setAttribute("style",Me.trustedAppCancelButton),n.insertBefore(a,n.firstChild),this.barElement.appendChild(n)}}},{key:"renderAppsTable",value:(r=N(O().mark(function e(t){var n,a,i=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Ai(t);case 1:return n=this.groupList.store.each(t.me,R.acl("trustedApp")),a=n.flatMap(function(e){return i.groupList.store.each(e,R.acl("origin"))}),this.barElement.appendChild(this.groupList.controller.dom.createElement("p")).textContent="You have ".concat(a.length," selected web apps."),e.abrupt("return",new Promise(function(e,t){var a=i.barElement.appendChild(i.groupList.controller.dom.createElement("table"));a.setAttribute("style",Me.trustedAppAddApplicationsTable),n.forEach(function(n){var r=i.groupList.store.any(n,R.acl("origin"));r||t(new Error("Unable to pick app: ".concat(n.value)));var o=Yt(i.groupList.controller.dom,R.acl("origin"),r,{}),s=i.groupList.controller.dom.createElement("table"),c=s.appendChild(i.groupList.controller.dom.createElement("tr"));c.appendChild(i.groupList.controller.dom.createElement("td")).appendChild(o),c.appendChild(i.groupList.controller.dom.createElement("td")).textContent="Give access to ".concat(i.groupList.controller.noun," ").concat(ue(i.groupList.controller.subject),"?"),c.appendChild(i.groupList.controller.dom.createElement("td")).appendChild(Qt(i.groupList.controller.dom,function(){return e(r.value)})),a.appendChild(s)})}));case 2:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"renderCleanup",value:function(){this.renderBar(),this.groupList.render()}},{key:"addPerson",value:(i=N(O().mark(function e(t){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=1;break}return e.abrupt("return",this.toggleBar());case 1:if(n=/^https?:/i,t.match(n)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Not a http URI")));case 2:return de.Rm("Adding to ACL person: ".concat(t)),e.next=3,this.groupList.addNewURI(t);case 3:this.toggleBar();case 4:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"addGroup",value:(a=N(O().mark(function e(t){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=1;break}return e.abrupt("return",this.toggleBar());case 1:if(n=/^https?:/i,t.match(n)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Not a http URI")));case 2:return de.Rm("Adding to ACL group: "+t),e.next=3,this.groupList.addNewURI(t);case 3:this.toggleBar();case 4:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"addAgent",value:(n=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,this.groupList.addNewURI(t);case 1:this.toggleBar();case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"addBot",value:(t=N(O().mark(function e(t){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=1;break}return e.abrupt("return",this.toggleBar());case 1:if(n=/^https?:/i,t.match(n)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Not a http URI")));case 2:return de.Rm("Adding to ACL bot: "+t),e.next=3,this.groupList.addNewURI(t);case 3:this.toggleBar();case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"getOriginFromName",value:(e=N(O().mark(function e(t){var n,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=1;break}return e.abrupt("return",Promise.resolve());case 1:if(n=/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i,t.match(n)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Not a domain name")));case 2:return a="https://"+t,de.Rm("Adding to ACL origin: "+a),this.toggleBar(),e.abrupt("return",a);case 3:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"toggleBar",value:function(){this.isExpanded=!this.isExpanded}}]);var e,t,n,a,i,r}(),Gi=R.acl,Wi={13:"Owners",9:"Owners (write locked)",5:"Editors",3:"Posters",2:"Submitters",1:"Viewers"},Ji={13:!0,5:!0,3:!0,2:!0,1:!0},$i={13:"can read, write, and control sharing.",9:"can read and control sharing, currently write-locked.",5:"can read and change information",3:"can add new information, and read but not change existing information",2:"can add new information but not read any",1:"can read but not change information"},Ki=function(){return Ie(function e(t,n,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Le(this,e),this.doc=t,this.aclDoc=n,this.controller=a,this._options=r,this.defaults=this._options.defaults||!1,this._store=i,this.aclMap=he(t,n,i,this.defaults),this.byCombo=ge(this.aclMap),this.addAgentButton=new Vi(this),this.rootElement=this.controller.dom.createElement("div"),this.rootElement.setAttribute("style",Me.accessGroupList)},[{key:"store",get:function(){return this._store},set:function(e){this._store=e,this.aclMap=he(this.doc,this.aclDoc,e,this.defaults),this.byCombo=ge(this.aclMap)}},{key:"render",value:function(){var e=this;return this.rootElement.innerHTML="",this.renderGroups().forEach(function(t){return e.rootElement.appendChild(t)}),this.controller.isEditable&&this.rootElement.appendChild(this.addAgentButton.render()),this.rootElement}},{key:"renderGroups",value:function(){for(var e=[],t=15;t>0;t--){var n=Qi(t);(this.controller.isEditable&&Ji[t]||this.byCombo[n])&&e.push(this.renderGroup(t,n))}return e}},{key:"renderGroup",value:function(e,t){var n=this,a=this.controller.dom.createElement("div");return a.setAttribute("style",Me.accessGroupListItem),ze(a,function(e){return n.handleDroppedUris(e,t).then(function(){return n.controller.render()}).catch(function(e){return n.controller.renderStatus(e)})}),this.renderGroupElements(e,t).forEach(function(e){return a.appendChild(e)}),a}},{key:"renderGroupElements",value:function(e,t){var n=this,a=this.controller.dom.createElement("div");if(a.setAttribute("style",Me.group),this.controller.isEditable)switch(e){case 1:a.setAttribute("style",Me.group1);break;case 2:a.setAttribute("style",Me.group2);break;case 3:a.setAttribute("style",Me.group3);break;case 5:a.setAttribute("style",Me.group5);break;case 9:a.setAttribute("style",Me.group9);break;case 13:a.setAttribute("style",Me.group13);break;default:a.setAttribute("style",Me.group)}a.innerText=Wi[e]||function(e){for(var t="",n=["Read","Append","Write","Control"],a=0;a<4;a++)e&1<<a&&(t+=n[a]);return t}(e);var i=this.controller.dom.createElement("div");if(i.setAttribute("style",Me.group),this.controller.isEditable)switch(e){case 1:i.setAttribute("style",Me.group1);break;case 2:i.setAttribute("style",Me.group2);break;case 3:i.setAttribute("style",Me.group3);break;case 5:i.setAttribute("style",Me.group5);break;case 9:i.setAttribute("style",Me.group9);break;case 13:i.setAttribute("style",Me.group13);break;default:i.setAttribute("style",Me.group)}var r=i.appendChild(this.controller.dom.createElement("table"));(this.byCombo[t]||[]).map(function(e){var a=De(e,2),i=a[0],o=a[1];return n.renderAgent(r,t,i,o)}).forEach(function(e){return r.appendChild(e)});var o=this.controller.dom.createElement("div");if(o.setAttribute("style",Me.group),this.controller.isEditable)switch(e){case 1:o.setAttribute("style",Me.group1);break;case 2:o.setAttribute("style",Me.group2);break;case 3:o.setAttribute("style",Me.group3);break;case 5:o.setAttribute("style",Me.group5);break;case 9:o.setAttribute("style",Me.group9);break;case 13:o.setAttribute("style",Me.group13);break;default:o.setAttribute("style",Me.group)}return o.innerText=$i[e]||"Unusual combination",[a,i,o]}},{key:"renderAgent",value:function(e,t,n,a){var i=this,r=Yt(this.controller.dom,Gi(n),(0,L.sym)(a),this.controller.isEditable?{deleteFunction:function(){return i.deleteAgent(t,n,a).then(function(){return e.removeChild(r)}).catch(function(e){return i.controller.renderStatus(e)})}}:{});return r}},{key:"deleteAgent",value:(a=N(O().mark(function e(t,n,a){var i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.byCombo[t]||[],(r=i.find(function(e){var t=De(e,2),i=t[0],r=t[1];return i===n&&r===a}))&&i.splice(i.indexOf(r),1),e.next=1,this.controller.save();case 1:case"end":return e.stop()}},e,this)})),function(e,t,n){return a.apply(this,arguments)})},{key:"addNewURI",value:(n=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,this.handleDroppedUri(t,Qi(1));case 1:return e.next=2,this.controller.save();case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"handleDroppedUris",value:(t=N(O().mark(function e(t,n){var a,i=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,Promise.all(t.map(function(e){return i.handleDroppedUri(e,n)}));case 1:return e.next=2,this.controller.save();case 2:e.next=4;break;case 3:return e.prev=3,a=e.catch(0),e.abrupt("return",Promise.reject(a));case 4:case"end":return e.stop()}},e,this,[[0,3]])})),function(e,n){return t.apply(this,arguments)})},{key:"handleDroppedUri",value:(e=N(O().mark(function e(t,n){var a,i,r,o,s,c,l,u=arguments;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>2&&void 0!==u[2]&&u[2],i=Zi(t,this.store),r=(0,L.sym)(t),i||a){e.next=5;break}return de.Rm("   Not obvious: looking up dropped thing ".concat(r)),e.prev=1,e.next=2,null===(o=this._store)||void 0===o||null===(o=o.fetcher)||void 0===o?void 0:o.load(r.doc());case 2:e.next=4;break;case 3:return e.prev=3,l=e.catch(1),s="Ignore error looking up dropped thing: ".concat(l),de.z3(s),e.abrupt("return",Promise.reject(new Error(s)));case 4:return e.abrupt("return",this.handleDroppedUri(t,n,!0));case 5:if(i){e.next=6;break}return c="   Error: Drop fails to drop appropriate thing! ".concat(t),de.z3(c),e.abrupt("return",Promise.reject(new Error(c)));case 6:this.setACLCombo(n,t,i,this.controller.subject);case 7:case"end":return e.stop()}},e,this,[[1,3]])})),function(t,n){return e.apply(this,arguments)})},{key:"setACLCombo",value:function(e,t,n,a){e in this.byCombo||(this.byCombo[e]=[]),this.removeAgentFromCombos(t),this.byCombo[e].push([n.pred,n.obj.uri]),de.Rm("ACL: setting access to ".concat(a," by ").concat(n.pred,": ").concat(n.obj))}},{key:"removeAgentFromCombos",value:function(e){for(var t=0;t<16;t++){var n=this.byCombo[Qi(t)];if(n)for(var a=0;a<n.length;a++)for(;a<n.length&&n[a][1]===e;)n.splice(a,1)}}}]);var e,t,n,a}();function Qi(e){for(var t=["Read","Append","Write","Control"],n=[],a=0;a<4;a++)e&1<<a&&n.push("http://www.w3.org/ns/auth/acl#"+t[a]);return n.sort(),n.join("\n")}function Zi(e,t){var n=(0,L.sym)(e),a=t.findTypeURIs(n);for(var i in a)de.Rm("    drop object type includes: "+i);if(e.startsWith("http")&&3===e.split("/").length)return{pred:"origin",obj:n};if(e.startsWith("http")&&4===e.split("/").length&&e.endsWith("/"))return de.Rm("Assuming final slash on dragged origin URI was unintended!"),{pred:"origin",obj:(0,L.sym)(e.slice(0,-1))};if(R.vcard("WebID").uri in a)return{pred:"agent",obj:n};if(R.vcard("Group").uri in a)return{pred:"agentGroup",obj:n};if(n.sameTerm(R.foaf("Agent"))||n.sameTerm(R.acl("AuthenticatedAgent"))||n.sameTerm(R.rdf("Resource"))||n.sameTerm(R.owl("Thing")))return{pred:"agentClass",obj:n};if(R.vcard("Individual").uri in a||R.foaf("Person").uri in a||R.foaf("Agent").uri in a){var r=t.any(n,R.foaf("preferredURI"));return r?{pred:"agent",obj:(0,L.sym)(r)}:{pred:"agent",obj:n}}return R.solid("AppProvider").uri in a?{pred:"origin",obj:n}:R.solid("AppProviderClass").uri in a?{pred:"originClass",obj:n}:(de.Rm("    Triage fails for "+e),null)}var Yi=function(){return Ie(function e(t,n,a,i,r,o,s,c,l,u,p,d){if(Le(this,e),this.subject=t,this.noun=n,this.context=a,this.statusElement=i,this.targetIsProtected=r,this.targetDoc=o,this.targetACLDoc=s,this.defaultHolder=c,this.defaultACLDoc=l,this.prospectiveDefaultHolder=u,this.store=p,this.dom=d,this.rootElement=d.createElement("div"),this.rootElement.setAttribute("style",Me.aclGroupContent),this.isContainer="/"===o.uri.slice(-1),c&&l){this.isUsingDefaults=!0;var m=fe(this.targetDoc,s,c,l);this.mainCombo=new Ki(o,s,this,m,{defaults:this.isContainer}),this.defaultsCombo=null,this.defaultsDiffer=!1}else this.isUsingDefaults=!1,this.mainCombo=new Ki(o,s,this,p),this.defaultsCombo=new Ki(o,s,this,p,{defaults:this.isContainer}),this.defaultsDiffer=!ve(this.mainCombo.aclMap,this.defaultsCombo.aclMap)},[{key:"isEditable",get:function(){return!this.isUsingDefaults}},{key:"render",value:function(){if(this.rootElement.innerHTML="",this.isUsingDefaults){if(this.renderStatus("The sharing for this ".concat(this.noun," is the default for folder ")),this.defaultHolder){var e=this.statusElement.appendChild(this.dom.createElement("a"));e.href=this.defaultHolder.uri,e.innerText=ar(this.defaultHolder)}}else!this.defaultsDiffer&&this.isContainer?this.renderStatus("This is also the default for things in this folder."):this.renderStatus("");return this.rootElement.appendChild(this.mainCombo.render()),this.defaultsCombo&&this.defaultsDiffer?(this.rootElement.appendChild(this.renderRemoveDefaultsController()),this.rootElement.appendChild(this.defaultsCombo.render())):this.isEditable&&this.isContainer&&this.rootElement.appendChild(this.renderAddDefaultsController()),!this.targetIsProtected&&this.isUsingDefaults?this.rootElement.appendChild(this.renderAddAclsController()):this.targetIsProtected||this.rootElement.appendChild(this.renderRemoveAclsController()),this.rootElement}},{key:"renderRemoveAclsController",value:function(){var e=this,t=this.dom.createElement("button");return t.innerText="Remove custom sharing settings for this ".concat(this.noun," -- just use default").concat(this.prospectiveDefaultHolder?" for ".concat(ue(this.prospectiveDefaultHolder)):""),t.setAttribute("style",Me.bigButton),t.addEventListener("click",function(){return e.removeAcls().then(function(){return e.render()}).catch(function(t){return e.renderStatus(t)})}),t}},{key:"renderAddAclsController",value:function(){var e=this,t=this.dom.createElement("button");return t.innerText="Set specific sharing for this ".concat(this.noun),t.setAttribute("style",Me.bigButton),t.addEventListener("click",function(){return e.addAcls().then(function(){return e.render()}).catch(function(t){return e.renderStatus(t)})}),t}},{key:"renderAddDefaultsController",value:function(){var e=this,t=this.dom.createElement("div");t.setAttribute("style",Me.defaultsController);var n=t.appendChild(this.dom.createElement("div"));n.innerText="Sharing for things within the folder currently tracks sharing for the folder.",n.setAttribute("style",Me.defaultsControllerNotice);var a=t.appendChild(this.dom.createElement("button"));return a.innerText="Set the sharing of folder contents separately from the sharing for the folder",a.setAttribute("style",Me.bigButton),a.addEventListener("click",function(){return e.addDefaults().then(function(){return e.render()})}),t}},{key:"renderRemoveDefaultsController",value:function(){var e=this,t=this.dom.createElement("div");t.setAttribute("style",Me.defaultsController);var n=t.appendChild(this.dom.createElement("div"));n.innerText="Access to things within this folder:",n.setAttribute("style",Me.defaultsControllerNotice);var a=t.appendChild(this.dom.createElement("button"));return a.innerText="Set default for folder contents to just track the sharing for the folder",a.setAttribute("style",Me.bigButton),a.addEventListener("click",function(){return e.removeDefaults().then(function(){return e.render()}).catch(function(t){return e.renderStatus(t)})}),t}},{key:"renderTemporaryStatus",value:function(e){var t=this;this.statusElement.setAttribute("style",Me.aclControlBoxStatusRevealed),this.statusElement.innerText=e,this.statusElement.setAttribute("style",Me.temporaryStatusInit),setTimeout(function(){t.statusElement.setAttribute("style",Me.temporaryStatusEnd)}),setTimeout(function(){t.statusElement.innerText=""},5e3)}},{key:"renderStatus",value:function(e){e||this.statusElement.setAttribute("style",Me.aclControlBoxStatusRevealed),this.statusElement.innerText=e}},{key:"addAcls",value:(a=N(O().mark(function e(){var t,n,a,i=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.defaultHolder&&this.defaultACLDoc){e.next=1;break}return t="Unable to find defaults to copy",de.z3(t),e.abrupt("return",Promise.reject(t));case 1:return fe(this.targetDoc,this.targetACLDoc,this.defaultHolder,this.defaultACLDoc).statements.forEach(function(e){return i.store.add(e.subject,e.predicate,e.object,i.targetACLDoc)}),e.prev=2,e.next=3,this.store.fetcher.putBack(this.targetACLDoc);case 3:return this.isUsingDefaults=!1,e.abrupt("return",Promise.resolve());case 4:return e.prev=4,a=e.catch(2),n=" Error writing back access control file! ".concat(a),de.z3(n),e.abrupt("return",Promise.reject(n));case 5:case"end":return e.stop()}},e,this,[[2,4]])})),function(){return a.apply(this,arguments)})},{key:"addDefaults",value:(n=N(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.defaultsCombo=new Ki(this.targetDoc,this.targetACLDoc,this,this.store,{defaults:!0}),this.defaultsDiffer=!0;case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"removeAcls",value:(t=N(O().mark(function e(){var t,n,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,this.store.fetcher.delete(this.targetACLDoc.uri,{});case 1:return this.isUsingDefaults=!0,e.prev=2,e.next=3,Te(this.targetDoc.uri);case 3:this.prospectiveDefaultHolder=e.sent,e.next=5;break;case 4:e.prev=4,n=e.catch(2),de.R8(n);case 5:e.next=7;break;case 6:return e.prev=6,a=e.catch(0),t="Error deleting access control file: ".concat(this.targetACLDoc,": ").concat(a),de.z3(t),e.abrupt("return",Promise.reject(t));case 7:case"end":return e.stop()}},e,this,[[0,6],[2,4]])})),function(){return t.apply(this,arguments)})},{key:"removeDefaults",value:(e=N(O().mark(function e(){var t,n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.defaultsCombo,e.prev=1,this.defaultsCombo=null,this.defaultsDiffer=!1,e.next=2,this.save();case 2:e.next=4;break;case 3:return e.prev=3,n=e.catch(1),this.defaultsCombo=t,this.defaultsDiffer=!0,de.z3(n),e.abrupt("return",Promise.reject(n));case 4:case"end":return e.stop()}},e,this,[[1,3]])})),function(){return e.apply(this,arguments)})},{key:"save",value:function(){var e=this,t=(0,L.graph)();this.isContainer?this.defaultsCombo&&this.defaultsDiffer?(we(t,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0),we(t,this.targetDoc,this.defaultsCombo.byCombo,this.targetACLDoc,!1,!0)):we(t,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0,!0):we(t,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0),t.fetcher=(0,L.fetcher)(t,{fetch:this.store.fetcher._fetch});var n=t.updater||new L.UpdateManager(t);return new Promise(function(a,i){n.put(e.targetACLDoc,t.statementsMatching(void 0,void 0,void 0,e.targetACLDoc),"text/turtle",function(n,r,o){if(!r)return i(new Error("ACL file save failed: ".concat(o)));e.store.fetcher.unload(e.targetACLDoc),e.store.add(t.statements),e.store.fetcher.requested[e.targetACLDoc.uri]="done",e.mainCombo.store=e.store,e.defaultsCombo&&(e.defaultsCombo.store=e.store),e.defaultsDiffer=!!e.defaultsCombo&&!ve(e.mainCombo.aclMap,e.defaultsCombo.aclMap),de.Rm("ACL modification: success!"),a()})})}}]);var e,t,n,a}(),Xi=window,er=Symbol("prevent double triggering of drop event");function tr(e){e.stopPropagation(),e.preventDefault()}function nr(e){e.dataTransfer.files.length>0&&(Xi.confirm("Are you sure you want to drop this file here? (Cancel opens it in a new tab)")||(e.stopPropagation(),e.preventDefault(),(0,de.Rm)("@@@@ document-level DROP suppressed: "+e.dataTransfer.dropEffect)))}function ar(e){var t=e.uri;"/"===t.slice(-1)&&(t=t.slice(0,-1));var n=t.lastIndexOf("/");return n>=0&&(t=t.slice(n+1)),t||"/"}function ir(){return ir=N(O().mark(function e(t,n,a,i,r,o,s){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,c){return _e(t,function(){var t=N(O().mark(function t(l,u,p,d,m,f){var h,v,b,x,g;return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(x=function(e){return new Yi(a,i,r,s,v,p,d,m,f,e,n,o)},l){t.next=1;break}return t.abrupt("return",c(new Error("Error reading ".concat(u?"":" default ","ACL. status ").concat(p,": ").concat(d))));case 1:if(h=rr(p),(v=or(p,d,n)||sr(p))||!h){t.next=5;break}return t.prev=2,t.next=3,Te(h);case 3:return b=t.sent,t.abrupt("return",e(x(b)));case 4:t.prev=4,g=t.catch(2),(0,de.R8)(g);case 5:return t.abrupt("return",e(x()));case 6:case"end":return t.stop()}},t,null,[[2,4]])}));return function(e,n,a,i,r,o){return t.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}},e)})),ir.apply(this,arguments)}function rr(e){var t=e.uri.split("#")[0],n=t.slice(0,-1).lastIndexOf("/"),a=t.indexOf("//");return a>=0&&n<a+2||n<0?null:t.slice(0,n+1)}function or(e,t,n){return n.holds(e,R.rdf("type"),R.space("Storage"),t)}function sr(e){return e.uri===e.site().uri}var cr={adoptACLDefault:fe,readACL:he,sameACL:ve,ACLunion:be,loadUnionACL:xe,ACLbyCombination:ge,makeACLGraph:ye,makeACLGraphbyCombo:we,ACLToString:function(e){return ke(ge(e))},comboToString:ke,makeACLString:function(e,t,n){var a=(0,L.graph)();return ye(a,e,t,n),(0,L.serialize)(n,a,n.uri,"text/turtle")||""},putACLObject:Ce,putACLbyCombo:Ee,fixIndividualCardACL:function(e,t,n){var a=me.each(void 0,R.vcard("hasMember"),e);a?Ae(e,a,t,n):(t("This card is in no groups"),n(!0))},fixIndividualACL:Ae,setACL:function(e,n,a){var i=me.any(e,t);if(!me.fetcher)throw new Error("Store has no fetcher");i?me.fetcher.webOperation("PUT",i.value,{data:n,contentType:"text/turtle"}).then(function(e){a(e.ok,e.error||"")}):me.fetcher.nowOrWhenFetched(e,void 0,function(i,r){if(!i)return a(i,"Gettting headers for ACL: "+r);var o=me.any(e,t);if(o){if(!me.fetcher)throw new Error("Store has no fetcher");me.fetcher.webOperation("PUT",o.value,{data:n,contentType:"text/turtle"}).then(function(e){a(e.ok,e.error||"")})}else a(!1,"No Link rel=ACL header for "+e)})},getACLorDefault:_e,getACL:je},lr={preventBrowserDropEvents:function(e){if((0,de.Rm)("preventBrowserDropEvents called."),void 0!==Xi){if(Xi[er])return;Xi[er]=!0}e.addEventListener("drop",nr,!1),e.addEventListener("dragenter",tr,!1),e.addEventListener("dragover",tr,!1)},shortNameForFolder:ar,ACLControlBox5:function(e,t,n,a){var i=t.dom,r=e.doc(),o=i.createElement("div");o.setAttribute("style",Me.aclControlBoxContainer);var s=o.appendChild(i.createElement("h1"));s.textContent="Sharing for ".concat(n," ").concat(ue(e)),s.setAttribute("style",Me.aclControlBoxHeader);var c=o.appendChild(i.createElement("div"));c.setAttribute("style",Me.aclControlBoxStatus);try{(function(e,t,n,a,i,r,o){return ir.apply(this,arguments)})(r,a,e,n,t,i,c).then(function(e){return o.appendChild(e.render())})}catch(e){c.innerText=e}return o}},ur=m.store;var pr={newThingUI:function(e,t,n){var a=e.dom,i=e.div;if(e.me&&!e.me.uri)throw new Error("newThingUI:  Invalid userid: "+e.me);var r="padding: 0.7em; width: 2em; height: 2em;",o=i.appendChild(a.createElement("img")),s=!1;o.setAttribute("src",Ge.Pt.iconBase+"noun_34653_green.svg"),o.setAttribute("style",r),o.setAttribute("title","Add another tool");var c=function(e){var t=i.appendChild(a.createElement("pre"));t.setAttribute("style","background-color: pink"),t.appendChild(a.createTextNode(e))};function l(e){for(var t=0;t<p.length;t++){var n=r+e;p[t].disabled&&(n+="opacity: 0.3;"),p[t].setAttribute("style",n)}}function u(e){s=!s,o.setAttribute("style",r+(s?"background-color: yellow;":"")),l(s?"":"display: none;")}o.addEventListener("click",u);var p=[],d=Object.values(n).filter(function(e){return e.mintNew}),m=d.reduce(function(e,t){return t.mintClass&&(e[t.mintClass.uri]=(e[t.mintClass.uri]||0)+1),e},{});d.forEach(function(n){var i=e.div.appendChild(a.createElement("img"));i.setAttribute("src",n.icon);var o=n.mintClass?m[n.mintClass.uri]>1?"".concat(ue(n.mintClass)," (using ").concat(n.name," pane)"):ue(n.mintClass):n.name+" @@";i.setAttribute("title","Make new "+o),i.setAttribute("style",r+"display: none;"),p.push(i),i.disabled||i.addEventListener("click",function(s){var p;!function(e){l("display: none;"),e.setAttribute("style",r+"background-color: yellow;")}(i),p={event:s,folder:e.folder||null,iconEle:i,pane:n,noun:o,noIndexHTML:!0,div:e.div,me:e.me,dom:e.dom,refreshTarget:e.refreshTarget},new Promise(function(n,i){var r;function o(n,r){Ai(e).then(function(e){var o=Object.assign({newBase:r,folder:p.folder||void 0,workspace:n},p);for(var s in p)o[s]=p[s];de.Rm("newThingUI: Minting new ".concat(o.pane.name," at ").concat(o.newBase)),p.pane.mintNew(t,o).then(function(e){if(!e||!e.newInstance)throw new Error("Cannot mint new - missing newInstance");if(e.folder){var t=e.newInstance.uri.slice(e.folder.uri.length).includes("/");de.Rm("  new thing is packge? "+t),t?ur.add(e.folder,R.ldp("contains"),ur.sym(e.newBase),e.folder.doc()):ur.add(e.folder,R.ldp("contains"),e.newInstance,e.folder.doc()),e.refreshTarget&&e.refreshTarget.refresh&&e.refreshTarget.refresh()}else{var n=p.div.appendChild(a.createElement("p"));n.setAttribute("style","font-size: 120%;"),n.innerHTML="Your <a target='_blank' href='"+e.newInstance.uri+"'><b>new "+p.noun+"</b></a> is ready to be set up. <br/><br/><a target='_blank' href='"+e.newInstance.uri+"'>Go to your new "+p.noun+".</a>"}u()}).catch(function(e){c(e),i(e)})},function(e){c("Error logging on: "+e)})}var s=p.pane;p.noun=s.mintClass?ue(s.mintClass):s.name,p.appPathSegment=p.noun.slice(0,1).toUpperCase()+p.noun.slice(1),p.folder?Zt(a,0,p.div,R.foaf("name"),null,p.noun).then(function(e){if(e){var t=p.folder.uri;t.endsWith("/")||(t+="/"),o(null,t=t+encodeURIComponent(e)+"/")}else u()}):(r=Di(a,{noun:p.noun,appPathSegment:p.appPathSegment},o),p.div.appendChild(r))})})})}},dr=m.store;var mr={matrixForQuery:function(e,t,n,a,i,r,o){var s=e.createElement("table"),c=e.createElement("tr");c.appendChild(e.createElement("td")).setAttribute("class","MatrixCorner"),s.appendChild(c),s.lastHeader=c;var l=[],u=[],p=function(e,t,n,a){for(;e.firstChild;)e.removeChild(e.firstChild);e.setAttribute("style",""),e.style.textAlign="center",r.cellFunction?r.cellFunction(e,t,n,a):(e.textContent=ue(a),e.setAttribute("style","padding: 0.3em")),delete e.old},d=function(t){var n=t.toNT();if(u[n])return u[n];var a=e.createElement("tr"),i=a.appendChild(e.createElement("td"));i.setAttribute("style","padding: 0.3em;"),i.textContent=ue(t),"NamedNode"===t.termType&&dr.fetcher.nowOrWhenFetched(t.uri.split("#")[0],void 0,function(e,n,a){e&&(i.textContent=ue(t))});for(var o=0;o<l.length;o++)p(a.appendChild(e.createElement("td")),L.fromNT(l[o]),t,null);a.dataValueNT=n,u[n]=a;for(var c=s.lastHeader.nextSibling;c;c=c.nextSibling)if(n>c.dataValueNT&&r&&r.yDecreasing||n<c.dataValueNT&&(!r||!r.yDecreasing))return s.insertBefore(a,c);return s.appendChild(a)},m=function(t){for(var n=t.toNT(),a=null,i=0;i<l.length;i++){if(l[i]===n)return i;if(n>l[i]&&r.xDecreasing||n<l[i]&&!r.xDecreasing){l=l.slice(0,i).concat([n]).concat(l.slice(i)),a=i;break}}null===a&&(a=l.length,l.push(n));for(var o=s.firstChild;o;o=o.nextSibling){var c=o.dataValueNT,u=e.createElement("td");if(u.style.textAlign="center",o===s.firstChild?u.textContent=ue(t):p(u,t,L.fromNT(c),null),a===l.length-1)o.appendChild(u);else{for(var d=o.firstChild,m=0;m<a+1;m++)d=d.nextSibling;o.insertBefore(u,d)}}return a},f=function(){var e,t,n=[],a=[];if(r.set_y)for(var i=0;i<r.set_y.length;i++)a[r.set_y[i]]=!0;if(r.set_x)for(var o=0;o<r.set_x.length;o++)n[m(r.set_x[o])+1]=!0;for(var c=1;c<s.children.length;c++){e=s.children[c];for(var d=1;d<e.children.length;d++)if((t=e.children[d]).old){var f=L.fromNT(e.dataValueNT),h=L.fromNT(l[d-1]);p(t,h,f,null)}else a[e.dataValueNT]=!0,n[d]=!0}for(var v=0;v<s.children.length;v++)if(e=s.children[v],v>0&&!a[e.dataValueNT])delete u[e.dataValueNT],s.removeChild(e);else for(var b=e.children.length-1;b>0;b--){var x=e.children[b];n[b]||e.removeChild(x)}for(var g=[],y=0;y<l.length;y++)n[y+1]&&g.push(l[y]);l=g};s.refresh=function(){!function(){for(var e=1;e<s.children.length;e++)for(var t=s.children[e],n=1;n<t.children.length;n++)t.children[n].old=!0}(),dr.query(t,h,void 0,f)};var h=function(e){var t=e[n.toString()],r=e[a.toString()],o=e[i.toString()],s=d(r),c=m(t),l=s.children[c+1];p(l,t,r,o)};if(r.set_y)for(var v=0;v<r.set_y.length;v++)d(r.set_y[v]);if(r.set_x)for(var b=0;b<r.set_x.length;b++)m(r.set_x[b]);return dr.query(t,h,void 0,o),s}},fr=Ge.Pt.iconBase+"noun_Camera_1618446_000000.svg",hr=Ge.Pt.iconBase+"noun_479395.svg";function vr(e,t,n,a){var i,r,o,s,c=e.createElement("div"),l=c.appendChild(e.createElement("table")),u=l.appendChild(e.createElement("tr")).appendChild(e.createElement("td"));u.setAttribute("colspan","4");var p=l.appendChild(e.createElement("tr"));p.appendChild(e.createElement("td")).appendChild(Kt(e)).addEventListener("click",function(e){b(),a(null)});var d=p.appendChild(e.createElement("td")).appendChild($t(e,hr,"Retake"));d.addEventListener("click",function(e){u.removeChild(s),h()}),d.style.visibility="collapse";var m=p.appendChild(e.createElement("td")).appendChild($t(e,Ge.Pt.iconBase+"noun_10636.svg","Snap"));m.addEventListener("click",function(){(s=e.createElement("canvas")).setAttribute("width",Me.canvasWidth),s.setAttribute("height",Me.canvasHeight),s.setAttribute("style",Me.controlStyle),u.appendChild(s),s.getContext("2d").drawImage(o,0,0,s.width,s.height),o.parentNode.removeChild(o),s.toBlob(function(e){var t="got blob type ".concat(e.type," size ").concat(e.size);de.Rm(t),i=n(),r=e,f.style.visibility="visible",d.style.visibility="visible",m.style.visibility="collapse"},"image/png")}),m.style.visibility="collapse";var f=p.appendChild(e.createElement("td")).appendChild(Qt(e));function h(){if((o=u.appendChild(e.createElement("video"))).setAttribute("controls","1"),o.setAttribute("autoplay","1"),o.setAttribute("style",Me.controlStyle),!navigator.mediaDevices)throw new Error("navigator.mediaDevices not available");navigator.mediaDevices.getUserMedia(v).then(function(e){o.srcObject=e,m.style.visibility="visible",f.style.visibility="collapse",d.style.visibility="collapse"})}f.addEventListener("click",function(e){!function(e,n){var i=e.type;de.Rm("Putting "+e.size+" bytes of "+i+" to "+n),t.fetcher.webOperation("PUT",n.uri,{data:e,contentType:i}).then(function(e){de.Rm("ok saved "+n),b(),a(n)},function(e){b(),alert(e)})}(r,i)}),f.style.visibility="collapse";var v={video:!0};function b(){o&&o.srcObject&&o.srcObject.getVideoTracks().forEach(function(e){return e.stop()})}return h(),c}var br={cameraCaptureControl:vr,cameraButton:function(e,t,n,a){var i,r=e.createElement("div"),o=$t(e,fr,"Take picture");function s(e){return c.apply(this,arguments)}function c(){return(c=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.removeChild(i),r.appendChild(o),a(t);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.appendChild(o),o.addEventListener("click",function(a){r.removeChild(o),i=vr(e,t,n,s),r.appendChild(i)}),r}};var xr=b(580),gr=b.n(xr);const yr={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let wr;const kr=new Uint8Array(16);const Cr=[];for(let e=0;e<256;++e)Cr.push((e+256).toString(16).slice(1));function Er(e,t=0){return(Cr[e[t+0]]+Cr[e[t+1]]+Cr[e[t+2]]+Cr[e[t+3]]+"-"+Cr[e[t+4]]+Cr[e[t+5]]+"-"+Cr[e[t+6]]+Cr[e[t+7]]+"-"+Cr[e[t+8]]+Cr[e[t+9]]+"-"+Cr[e[t+10]]+Cr[e[t+11]]+Cr[e[t+12]]+Cr[e[t+13]]+Cr[e[t+14]]+Cr[e[t+15]]).toLowerCase()}const Ar=function(e,t,n){if(yr.randomUUID&&!t&&!e)return yr.randomUUID();const a=(e=e||{}).random??e.rng?.()??function(){if(!wr){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");wr=crypto.getRandomValues.bind(crypto)}return wr(kr)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=a[e];return t}return Er(a)};var _r,jr=m.store,Tr=function(){return Ie(function e(t,n,a,i){Le(this,e),this.options=i||{},this.element=t,this.typeIndex=n,this.groupPickedCb=a,this.selectedgroup=this.options.selectedgroup,this.onSelectGroup=this.onSelectGroup.bind(this)},[{key:"render",value:function(){var e=this,t=document.createElement("div");if(t.style.maxWidth="350px",t.style.minHeight="200px",t.style.outline="1px solid black",t.style.display="flex",this.selectedgroup){t.style.flexDirection="column";var n=document.createElement("div");new Lr(n,this.selectedgroup).render();var a=document.createElement("button");a.textContent=gr()("Change group"),a.addEventListener("click",function(t){e.selectedgroup=null,e.render()}),t.appendChild(n),t.appendChild(a)}else this.findAddressBook(this.typeIndex).then(function(n){var a=n.book,i=document.createElement("button");i.textContent=gr()("Pick an existing group"),i.style.margin="auto",i.addEventListener("click",function(n){new Sr(t,a,e.onSelectGroup).render()});var r=document.createElement("button");r.textContent=gr()("Create a new group"),r.style.margin="auto",r.addEventListener("click",function(t){e.createNewGroup(a,e.options.defaultNewGroupName).then(function(t){var n=t.group;new Rr(e.element,a,n,e.onSelectGroup).render()}).catch(function(t){e.element.appendChild(kt(document,gr()("Error creating a new group. (".concat(t,")"))))})}),t.appendChild(i),t.appendChild(r),e.element.innerHTML="",e.element.appendChild(t)}).catch(function(t){e.element.appendChild(kt(document,gr()("Could find your groups. (".concat(t,")"))))});return this.element.innerHTML="",this.element.appendChild(t),this}},{key:"findAddressBook",value:function(e){return new Promise(function(t,n){jr.fetcher.nowOrWhenFetched(e,function(a,i){if(!a)return n(i);var r=jr.any(null,R.solid("forClass"),R.vcard("AddressBook"));if(!r)return n(new Error("no address book registered in the solid type index "+e));var o=jr.any(r,R.solid("instance"));if(!o)return n(new Error("incomplete address book registration"));jr.fetcher.load(o).then(function(e){return t({book:o})}).catch(function(e){return n(new Error("Could not load address book "+e))})})})}},{key:"createNewGroup",value:function(e,t){var n=Or(e),a=n.groupIndex,i=n.groupContainer,r=L.sym("".concat(i.uri).concat(Ar().slice(0,8),".ttl#this")),o=t||"Untitled Group",s=[r.doc(),a].map(function(t){var n=L.st(r,R.rdf("type"),R.vcard("Group"),t),i=L.st(r,R.vcard("fn"),o,r.doc(),t),s=L.st(e,R.vcard("includesGroup"),r,t),c=t.equals(a)?[n,i,s]:[n,i];return Ir(t.uri,{toIns:c}).then(function(){c.forEach(function(e){jr.add(e)})})});return Promise.all(s).then(function(){return{group:r}}).catch(function(e){throw de.Rm("Could not create new group.  PATCH failed "+e),new Error("Couldn't create new group.  PATCH failed for (".concat(e.xhr?e.xhr.responseURL:""," )"))})}},{key:"onSelectGroup",value:function(e){this.selectedgroup=e,this.groupPickedCb(e),this.render()}}])}(),Sr=function(){return Ie(function e(t,n,a){Le(this,e),this.element=t,this.book=n,this.onSelectGroup=a},[{key:"render",value:function(){var e=this;return this.loadGroups().then(function(t){var n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",t.forEach(function(t){var a=document.createElement("button");a.addEventListener("click",e.handleClickGroup(t)),new Lr(a,t).render(),n.appendChild(a)}),e.element.innerHTML="",e.element.appendChild(n)}).catch(function(t){e.element.appendChild(kt(document,gr()("There was an error loading your groups. (".concat(t,")"))))}),this}},{key:"loadGroups",value:function(){var e=this;return new Promise(function(t,n){var a=Or(e.book).groupIndex;jr.fetcher.nowOrWhenFetched(a,function(a,i){if(!a)return n(i);var r=jr.each(e.book,R.vcard("includesGroup"));return t(r)})})}},{key:"handleClickGroup",value:function(e){var t=this;return function(n){t.onSelectGroup(e)}}}])}(),Lr=function(){return Ie(function e(t,n){Le(this,e),this.element=t,this.group=n},[{key:"render",value:function(){var e=document.createElement("div");return e.textContent=gr()(Nr(this.group,R.vcard("fn"),"[".concat(this.group.value,"]"))),this.element.innerHTML="",this.element.appendChild(e),this}}])}(),Rr=function(){return Ie(function e(t,n,a,i,r){Le(this,e),this.element=t,this.book=n,this.group=a,this.onGroupChanged=function(e,t,n){r&&r(e,t,n)},this.groupChangedCb=r,this.doneBuildingCb=i},[{key:"refresh",value:function(){}},{key:"render",value:function(){var e=this,t=document.createElement("div");t.style.maxWidth="350px",t.style.minHeight="200px",t.style.outline="1px solid black",t.style.display="flex",t.style.flexDirection="column",ze(t,function(t){t.forEach(function(t){e.add(t).catch(function(t){e.element.appendChild(kt(document,gr()("Could not add the given WebId. (".concat(t,")"))))})})});var n=document.createElement("input");n.type="text",n.value=Nr(this.group,R.vcard("fn"),"Untitled Group"),n.addEventListener("change",function(t){e.setGroupName(t.target.value).catch(function(t){e.element.appendChild(kt(document,"Error changing group name. (".concat(t,")")))})});var a,i,r=document.createElement("label");if(r.textContent=gr()("Group Name:"),r.appendChild(n),t.appendChild(r),jr.any(this.group,R.vcard("hasMember")))jr.match(this.group,R.vcard("hasMember")).forEach(function(n){var a=n.object,i=document.createElement("div");new Br(i,a,e.handleRemove(a)).render(),t.appendChild(i)});else{var o=document.createElement("p");o.textContent=gr()(_r||(a=["\n        To add someone to this group, drag and drop their WebID URL onto the box.\n      "],i||(i=a.slice(0)),_r=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}})))),t.appendChild(o)}var s=document.createElement("button");return s.textContent=gr()("Done"),s.addEventListener("click",function(t){e.doneBuildingCb(e.group)}),t.appendChild(s),this.element.innerHTML="",this.element.appendChild(t),this}},{key:"add",value:function(e){var t=this;return new Promise(function(n,a){jr.fetcher.nowOrWhenFetched(e,function(i,r){if(!i)return t.onGroupChanged(r),a(r);var o=L.namedNode(e),s=jr.any(o,R.rdf("type"));return s&&s.equals(R.foaf("Person"))?n(o):a(new Error("Only people supported right now. (tried to add something of type ".concat(s.value,")")))})}).then(function(e){var n=L.st(t.group,R.vcard("hasMember"),e);return jr.holdsStatement(n)?e:Ir(t.group.doc().uri,{toIns:[n]}).then(function(){n.why=t.group.doc(),jr.add(n),t.onGroupChanged(null,"added",e),t.render()})})}},{key:"handleRemove",value:function(e){var t=this;return function(n){var a=L.st(t.group,R.vcard("hasMember"),e);return Ir(t.group.doc().uri,{toDel:[a]}).then(function(){return jr.remove(a),t.onGroupChanged(null,"removed",e),t.render(),!0}).catch(function(t){var n=jr.any(e,R.foaf("name")),a=n&&n.value?"Could not remove ".concat(n.value,". (").concat(t,")"):"Could not remove ".concat(e.value,". (").concat(t,")");throw new Error(a)})}}},{key:"setGroupName",value:function(e){var t=this,n=Or(this.book).groupIndex,a=[this.group.doc(),n].map(function(n){var a=jr.match(t.group,R.vcard("fn"),null,n),i=L.st(t.group,R.vcard("fn"),L.literal(e));return Ir(n.value,{toDel:a,toIns:[i]}).then(function(e){jr.removeStatements(a),i.why=n,jr.add(i)})});return Promise.all(a)}}])}(),Br=function(){return Ie(function e(t,n,a){Le(this,e),this.webIdNode=n,this.element=t,this.handleRemove=a},[{key:"render",value:function(){var e=this,t=document.createElement("div");t.style.display="flex";var n=Nr(this.webIdNode,R.foaf("img"),Ge.LN+"noun_15059.svg"),a=document.createElement("img");a.src=gr()(n),a.width="50",a.height="50",a.style.margin="5px";var i=Nr(this.webIdNode,R.foaf("name"),"[".concat(this.webIdNode,"]")),r=document.createElement("span");r.innerHTML=gr()(i),r.style.flexGrow="1",r.style.margin="auto 0";var o=document.createElement("button");return o.textContent="Remove",o.addEventListener("click",function(t){return e.handleRemove().catch(function(t){e.element.appendChild(kt(document,gr()("".concat(t))))})}),o.style.margin="5px",t.appendChild(a),t.appendChild(r),t.appendChild(o),this.element.innerHTML="",this.element.appendChild(t),this}}])}();function Nr(e,t,n){var a=jr.any(e,t);return a?a.value:n}function Ir(e,t){var n=t.toDel,a=t.toIns;return new Promise(function(e,t){jr.updater.update(n,a,function(n,a,i){if(!a)return t(new Error("PATCH failed for resource <".concat(n,">: ").concat(i)));e()})})}function Or(e){return{groupIndex:jr.any(e,R.vcard("groupIndex")),groupContainer:jr.sym(e.dir().uri+"Group/")}}var Fr={icons:Ge.Pt,ns:R,rdf:L,style:Me,widgets:C};function Dr(e,t,n,a,i){t=t||m.store,a=a.doc();var r,o,s=Fr.ns,c=L.Namespace("http://www.w3.org/2005/01/wf/flow#"),l=L.Namespace("http://purl.org/dc/terms/"),u=!!(i=i||{}).newestFirst,p="white-space: pre-wrap; width: 90%; font-size:100%; border: 0.07em solid #eee; padding: .2em 0.5em; margin: 0.1em 1em 0.1em 1em;",d=e.createElement("div"),f=m.store.updater,h=function(t,n){var a=e.createElement("a");return n&&n.uri&&(a.setAttribute("href",n.uri),a.addEventListener("click",Fr.widgets.openHrefInOutlineMode,!0),a.setAttribute("style","color: #3B5998; text-decoration: none; ")),a.textContent=t,a},v=function(t,n){var a=e.createElement("pre");return a.setAttribute("style",n||"color: grey"),d.appendChild(a),a.appendChild(e.createTextNode(t)),a},b=function(e){v(e,"color: #800;")};function x(e){var t=m.store.any(e,Fr.ns.foaf("nick"));return t?""+t.value:""+ue(e)}function g(t,n,a,i){var r=t.appendChild(h(x(n),n));n.uri&&m.store.fetcher.nowOrWhenFetched(n.doc(),void 0,function(e,t){r.textContent=x(n)}),t.appendChild(e.createElement("br")),t.appendChild(h(a,i))}function y(e,n){var a,i,r={};for(a=n.firstChild;a;a=a.nextSibling)a.AJAR_subject&&(r[a.AJAR_subject.uri]=!0);var o=t.each(e,s.wf("message")),c={};for(o.forEach(function(e){c[e.uri]=!0,r[e.uri]||w(e)}),a=n.firstChild;a;)i=a.nextSibling,a.AJAR_subject&&!c[a.AJAR_subject.uri]&&n.removeChild(a),a=i}var w=function(e){var n={"?msg":e,"?creator":t.any(e,s.foaf("maker")),"?date":t.any(e,l("created")),"?content":t.any(e,s.sioc("content"))};k(n,!0)},k=function(a,i){var o=a["?creator"],s=a["?msg"],c=a["?date"],l=a["?content"],d=c.value,m=e.createElement("tr");m.AJAR_date=d,m.AJAR_subject=s;for(var h=!1,v=r.firstChild;v;v=v.nextSibling)if(d>v.AJAR_date&&u||d<v.AJAR_date&&!u){r.insertBefore(m,v),h=!0;break}h||r.appendChild(m);var x=e.createElement("td");m.appendChild(x),g(x,o,Fr.widgets.shortDate(d),s);var w=e.createElement("td");m.appendChild(w);var k=e.createElement("p");k.setAttribute("style",p+(i?"background-color: #e8ffe8;":"background-color: #white;")),w.appendChild(k),k.textContent=l.value;var C=e.createElement("td");m.appendChild(C);var E=e.createElement("button");C.appendChild(E),E.textContent="-",m.setAttribute("class","hoverControl"),E.setAttribute("class","hoverControlHide"),E.setAttribute("style","color: red;"),E.addEventListener("click",function(a){C.removeChild(E);var i=e.createElement("button");i.textContent="cancel",C.appendChild(i).addEventListener("click",function(e){C.removeChild(o),C.removeChild(i),C.appendChild(E)},!1);var o=e.createElement("button");o.textContent="Delete message",C.appendChild(o).addEventListener("click",function(e){C.removeChild(o),C.removeChild(i),function(e){var a=t.statementsMatching(e).concat(t.statementsMatching(void 0,void 0,e));f.update(a,[],function(e,t,a){t?y(n,r):b("Cant delete messages:"+a)})}(s)},!1)},!1)};(r=e.createElement("table")).fresh=!1,d.appendChild(r),r.setAttribute("style","width: 100%;");var C,E=function(){var i=e.createElement("tr"),r=e.createElement("td"),c=e.createElement("td"),u=e.createElement("td");i.appendChild(r),i.appendChild(c),i.appendChild(u),i.AJAR_date="9999-01-01T00:00:00Z";var d,m,h=function(){d.setAttribute("class","pendingedit"),d.disabled=!0;var r=[],c=new Date,u=""+c.getTime(),p=L.term(c),m=t.sym(a.uri+"#Msg"+u);r.push(new L.Statement(n,s.wf("message"),m,a)),r.push(new L.Statement(m,s.sioc("content"),t.literal(d.value),a)),r.push(new L.Statement(m,l("created"),p,a)),o&&r.push(new L.Statement(m,s.foaf("maker"),o,a));f.update([],r,function(n,a,r){if(a){var s={"?msg":m,"?content":t.literal(d.value),"?date":p,"?creator":o};k(s,!1),d.value="",d.setAttribute("class",""),d.disabled=!1}else i.appendChild(Fr.widgets.errorMessageBlock(e,"Error writing message: "+r))})};i.appendChild(e.createElement("br"));return ki({div:c,dom:e}).then(function(t){o=t.me,g(r,o,"",null),d=e.createElement("textarea"),c.innerHTML="",c.appendChild(d),d.rows=3,d.setAttribute("style",p+"background-color: #eef;"),d.addEventListener("keyup",function(e){13===e.keyCode&&(e.altKey||h())},!1),u.innerHTML="",(m=Fr.widgets.button(e,Fr.icons.iconBase+"noun_383448.svg","Send")).setAttribute("style",Fr.style.buttonStyle+"float: right;"),m.addEventListener("click",h,!1),u.appendChild(m)}),i}();if(u?r.insertBefore(E,r.firstChild):r.appendChild(E),i.query)C=i.query;else{C=new L.Query("Messages");var A={};["msg","date","creator","content"].forEach(function(e){C.vars.push(A[e]=L.variable(e))}),C.pat.add(n,c("message"),A.msg),C.pat.add(A.msg,s.dct("created"),A.date),C.pat.add(A.msg,s.foaf("maker"),A.creator),C.pat.add(A.msg,s.sioc("content"),A.content)}return t.query(C,k,void 0,function(){r.fresh=!0}),d.refresh=function(){y(n,r)},d}function Pr(e){return Ur.apply(this,arguments)}function Ur(){return(Ur=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,f.fetcher.load(t);case 1:return e.abrupt("return",!(f.statementsMatching(null,R.dct("created"),null,t).length>0));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Mr=function(){return Ie(function e(t,n,a){Le(this,e),this.root=t,this.rootFolder=t.dir(),this.leafFileName=n||"index.ttl",this.membershipProperty=a||R.wf("leafObject")},[{key:"leafDocumentFromDate",value:function(e){var t=e.toISOString().split("T")[0].replace(/-/g,"/");return t=this.root.dir().uri+t+"/"+this.leafFileName,f.sym(t)}},{key:"dateFromLeafDocument",value:function(e){var t=this.rootFolder.uri.length,n=e.uri.slice(t,t+10).replace(/\//g,"-");return new Date(n)}},{key:"loadPrevious",value:(t=N(O().mark(function e(t,n){var a,i,r,o,s,c;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=function(){return(i=N(O().mark(function e(t,i){var r,o,s,c,l,u,p,d,m,h;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){return(e=e.filter(o)).sort(),n||e.reverse(),e.pop()},o=function(e){var t=e.uri.slice(0,-1).split("/").slice(-1)[0];return!!"0123456789".includes(t[0])},r=function(e){return!(n?e.uri>=t.uri:e.uri<=t.uri)},c=t.dir(),e.prev=1,e.next=2,f.fetcher.load(c);case 2:if(l=(l=f.each(c,R.ldp("contains"))).filter(r),!(u=s(l))){e.next=3;break}return e.abrupt("return",u);case 3:e.next=6;break;case 4:if(e.prev=4,!(h=e.catch(1)).response||!h.response.status||404!==h.response.status){e.next=5;break}de.Rm("Error 404 for chat parent file "+c),e.next=6;break;case 5:throw de.Rm("*** Error NON 404 for chat parent file "+c),new Error("*** ".concat(h.message," for chat folder ").concat(c));case 6:if(0!==i){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=8,a(c,i-1);case 8:if(p=e.sent){e.next=9;break}return e.abrupt("return",null);case 9:return e.next=10,f.fetcher.load(p);case 10:return d=f.each(p,R.ldp("contains")),m=s(d),e.abrupt("return",m);case 11:case"end":return e.stop()}},e,null,[[1,4]])}))).apply(this,arguments)},a=function(e,t){return i.apply(this,arguments)},r=this.leafDocumentFromDate(t).dir();case 1:return e.next=2,a(r,3);case 2:if(!(o=e.sent)){e.next=6;break}return s=f.sym(o.uri+this.leafFileName),c=this.dateFromLeafDocument(s),e.next=3,Pr(s);case 3:if(e.sent){e.next=4;break}return e.abrupt("return",c);case 4:t=c,r=this.leafDocumentFromDate(t).dir();case 5:e.next=7;break;case 6:return e.abrupt("return",null);case 7:e.next=1;break;case 8:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"firstLeaf",value:(e=N(O().mark(function e(t){var n,a,i,r,o,s,c,l,u,p,d;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){return(r=N(O().mark(function e(i){var r,o;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){var t=e.uri.slice(0,-1).split("/").slice(-1)[0];return!!"0123456789".includes(t[0])},delete a.requested[i.uri],e.next=1,a.load(i,{force:!0});case 1:if(0!==(o=(o=n.each(i,R.ldp("contains"))).filter(r)).length){e.next=2;break}throw new Error(" @@@  No children to         parent2 "+i);case 2:return o.sort(),t&&o.reverse(),e.abrupt("return",o[0]);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)},i=function(e){return r.apply(this,arguments)},n=L.graph(),a=new L.Fetcher(n),e.next=1,i(this.root.dir());case 1:return o=e.sent,e.next=2,i(o);case 2:return s=e.sent,e.next=3,i(s);case 3:return c=e.sent,l=L.sym(c.uri+"chat.ttl"),e.next=4,a.load(l);case 4:if(0!==(u=n.each(this.root,this.membershipProperty,null,l)).length){e.next=5;break}throw p="  INCONSISTENCY -- no chat leafObject in file "+l,de.uP(p),new Error(p);case 5:return(d=u.map(function(e){return[n.any(e,R.dct("created")),e]})).sort(),t&&d.reverse(),e.abrupt("return",d[0][1]);case 6:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})}]);var e,t}();const zr="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function qr(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Hr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Vr(e,...t){if(!qr(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Gr(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");Hr(e.outputLen),Hr(e.blockLen)}function Wr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Jr(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function $r(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Kr(e,t){return e<<32-t|e>>>t}const Qr=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),Zr=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Yr(e){if(Vr(e),Qr)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Zr[e[n]];return t}const Xr=48,eo=57,to=65,no=70,ao=97,io=102;function ro(e){return e>=Xr&&e<=eo?e-Xr:e>=to&&e<=no?e-(to-10):e>=ao&&e<=io?e-(ao-10):void 0}function oo(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(Qr)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const a=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=ro(e.charCodeAt(i)),r=ro(e.charCodeAt(i+1));if(void 0===n||void 0===r){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}a[t]=16*n+r}return a}function so(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function co(e){return"string"==typeof e&&(e=so(e)),Vr(e),e}function lo(...e){let t=0;for(let n=0;n<e.length;n++){const a=e[n];Vr(a),t+=a.length}const n=new Uint8Array(t);for(let t=0,a=0;t<e.length;t++){const i=e[t];n.set(i,a),a+=i.length}return n}class uo{}function po(e){const t=t=>e().update(co(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function mo(e=32){if(zr&&"function"==typeof zr.getRandomValues)return zr.getRandomValues(new Uint8Array(e));if(zr&&"function"==typeof zr.randomBytes)return Uint8Array.from(zr.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function fo(e,t,n){return e&t^~e&n}function ho(e,t,n){return e&t^e&n^t&n}class vo extends uo{constructor(e,t,n,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=a,this.buffer=new Uint8Array(e),this.view=$r(this.buffer)}update(e){Wr(this),Vr(e=co(e));const{view:t,buffer:n,blockLen:a}=this,i=e.length;for(let r=0;r<i;){const o=Math.min(a-this.pos,i-r);if(o===a){const t=$r(e);for(;a<=i-r;r+=a)this.process(t,r);continue}n.set(e.subarray(r,r+o),this.pos),this.pos+=o,r+=o,this.pos===a&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Wr(this),function(e,t){Vr(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:a,isLE:i}=this;let{pos:r}=this;t[r++]=128,Jr(this.buffer.subarray(r)),this.padOffset>a-r&&(this.process(n,0),r=0);for(let e=r;e<a;e++)t[e]=0;!function(e,t,n,a){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,a);const i=BigInt(32),r=BigInt(4294967295),o=Number(n>>i&r),s=Number(n&r),c=a?4:0,l=a?0:4;e.setUint32(t+c,o,a),e.setUint32(t+l,s,a)}(n,a-8,BigInt(8*this.length),i),this.process(n,0);const o=$r(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=s/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:a,finished:i,destroyed:r,pos:o}=this;return e.destroyed=r,e.finished=i,e.length=a,e.pos=o,a%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const bo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);const xo=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),go=new Uint32Array(64);class yo extends vo{constructor(e=32){super(64,e,8,!1),this.A=0|bo[0],this.B=0|bo[1],this.C=0|bo[2],this.D=0|bo[3],this.E=0|bo[4],this.F=0|bo[5],this.G=0|bo[6],this.H=0|bo[7]}get(){const{A:e,B:t,C:n,D:a,E:i,F:r,G:o,H:s}=this;return[e,t,n,a,i,r,o,s]}set(e,t,n,a,i,r,o,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|a,this.E=0|i,this.F=0|r,this.G=0|o,this.H=0|s}process(e,t){for(let n=0;n<16;n++,t+=4)go[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=go[e-15],n=go[e-2],a=Kr(t,7)^Kr(t,18)^t>>>3,i=Kr(n,17)^Kr(n,19)^n>>>10;go[e]=i+go[e-7]+a+go[e-16]|0}let{A:n,B:a,C:i,D:r,E:o,F:s,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(Kr(o,6)^Kr(o,11)^Kr(o,25))+fo(o,s,c)+xo[e]+go[e]|0,u=(Kr(n,2)^Kr(n,13)^Kr(n,22))+ho(n,a,i)|0;l=c,c=s,s=o,o=r+t|0,r=i,i=a,a=n,n=t+u|0}n=n+this.A|0,a=a+this.B|0,i=i+this.C|0,r=r+this.D|0,o=o+this.E|0,s=s+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,a,i,r,o,s,c,l)}roundClean(){Jr(go)}destroy(){this.set(0,0,0,0,0,0,0,0),Jr(this.buffer)}}const wo=po(()=>new yo);class ko extends uo{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Gr(e);const n=co(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,i=new Uint8Array(a);i.set(n.length>a?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),Jr(i)}update(e){return Wr(this),this.iHash.update(e),this}digestInto(e){Wr(this),Vr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:a,destroyed:i,blockLen:r,outputLen:o}=this;return e.finished=a,e.destroyed=i,e.blockLen=r,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Co=(e,t,n)=>new ko(e,t).update(n).digest();Co.create=(e,t)=>new ko(e,t);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Eo=BigInt(0),Ao=BigInt(1);function _o(e,t=""){if("boolean"!=typeof e){throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e)}return e}function jo(e,t,n=""){const a=qr(e),i=e?.length,r=void 0!==t;if(!a||r&&i!==t){throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(r?` of length ${t}`:"")+", got "+(a?`length=${i}`:"type="+typeof e))}return e}function To(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function So(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Eo:BigInt("0x"+e)}function Lo(e){return So(Yr(e))}function Ro(e){return Vr(e),So(Yr(Uint8Array.from(e).reverse()))}function Bo(e,t){return oo(e.toString(16).padStart(2*t,"0"))}function No(e,t){return Bo(e,t).reverse()}function Io(e,t,n){let a;if("string"==typeof t)try{a=oo(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!qr(t))throw new Error(e+" must be hex string or Uint8Array");a=Uint8Array.from(t)}const i=a.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return a}const Oo=e=>"bigint"==typeof e&&Eo<=e;function Fo(e,t,n){return Oo(e)&&Oo(t)&&Oo(n)&&t<=e&&e<n}function Do(e){let t;for(t=0;e>Eo;e>>=Ao,t+=1);return t}const Po=e=>(Ao<<BigInt(e))-Ao;function Uo(e,t,n={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function a(t,n,a){const i=e[t];if(a&&void 0===i)return;const r=typeof i;if(r!==n||null===i)throw new Error(`param "${t}" is invalid: expected ${n}, got ${r}`)}Object.entries(t).forEach(([e,t])=>a(e,t,!1)),Object.entries(n).forEach(([e,t])=>a(e,t,!0))}function Mo(e){const t=new WeakMap;return(n,...a)=>{const i=t.get(n);if(void 0!==i)return i;const r=e(n,...a);return t.set(n,r),r}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const zo=BigInt(0),qo=BigInt(1),Ho=BigInt(2),Vo=BigInt(3),Go=BigInt(4),Wo=BigInt(5),Jo=BigInt(7),$o=BigInt(8),Ko=BigInt(9),Qo=BigInt(16);function Zo(e,t){const n=e%t;return n>=zo?n:t+n}function Yo(e,t,n){let a=e;for(;t-- >zo;)a*=a,a%=n;return a}function Xo(e,t){if(e===zo)throw new Error("invert: expected non-zero number");if(t<=zo)throw new Error("invert: expected positive modulus, got "+t);let n=Zo(e,t),a=t,i=zo,r=qo,o=qo,s=zo;for(;n!==zo;){const e=a/n,t=a%n,c=i-o*e,l=r-s*e;a=n,n=t,i=o,r=s,o=c,s=l}if(a!==qo)throw new Error("invert: does not exist");return Zo(i,t)}function es(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function ts(e,t){const n=(e.ORDER+qo)/Go,a=e.pow(t,n);return es(e,a,t),a}function ns(e,t){const n=(e.ORDER-Wo)/$o,a=e.mul(t,Ho),i=e.pow(a,n),r=e.mul(t,i),o=e.mul(e.mul(r,Ho),i),s=e.mul(r,e.sub(o,e.ONE));return es(e,s,t),s}function as(e){if(e<Vo)throw new Error("sqrt is not defined for small field");let t=e-qo,n=0;for(;t%Ho===zo;)t/=Ho,n++;let a=Ho;const i=us(e);for(;1===cs(i,a);)if(a++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return ts;let r=i.pow(a,t);const o=(t+qo)/Ho;return function(e,a){if(e.is0(a))return a;if(1!==cs(e,a))throw new Error("Cannot find square root");let i=n,s=e.mul(e.ONE,r),c=e.pow(a,t),l=e.pow(a,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const a=qo<<BigInt(i-t-1),r=e.pow(s,a);i=t,s=e.sqr(r),c=e.mul(c,s),l=e.mul(l,r)}return l}}function is(e){return e%Go===Vo?ts:e%$o===Wo?ns:e%Qo===Ko?function(e){const t=us(e),n=as(e),a=n(t,t.neg(t.ONE)),i=n(t,a),r=n(t,t.neg(a)),o=(e+Jo)/Qo;return(e,t)=>{let n=e.pow(t,o),s=e.mul(n,a);const c=e.mul(n,i),l=e.mul(n,r),u=e.eql(e.sqr(s),t),p=e.eql(e.sqr(c),t);n=e.cmov(n,s,u),s=e.cmov(l,c,p);const d=e.eql(e.sqr(s),t),m=e.cmov(n,s,d);return es(e,m,t),m}}(e):as(e)}const rs=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function os(e,t,n){if(n<zo)throw new Error("invalid exponent, negatives unsupported");if(n===zo)return e.ONE;if(n===qo)return t;let a=e.ONE,i=t;for(;n>zo;)n&qo&&(a=e.mul(a,i)),i=e.sqr(i),n>>=qo;return a}function ss(e,t,n=!1){const a=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(a[i]=t,e.mul(t,n)),e.ONE),r=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(a[i]=e.mul(t,a[i]),e.mul(t,n)),r),a}function cs(e,t){const n=(e.ORDER-qo)/Ho,a=e.pow(t,n),i=e.eql(a,e.ONE),r=e.eql(a,e.ZERO),o=e.eql(a,e.neg(e.ONE));if(!i&&!r&&!o)throw new Error("invalid Legendre symbol result");return i?1:r?0:-1}function ls(e,t){void 0!==t&&Hr(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function us(e,t,n=!1,a={}){if(e<=zo)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,r,o,s=!1;if("object"==typeof t&&null!=t){if(a.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(r=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(s=e.modFromBytes),o=e.allowedLengths}else"number"==typeof t&&(i=t),a.sqrt&&(r=a.sqrt);const{nBitLength:c,nByteLength:l}=ls(e,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const p=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:Po(c),ZERO:zo,ONE:qo,allowedLengths:o,create:t=>Zo(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return zo<=t&&t<e},is0:e=>e===zo,isValidNot0:e=>!p.is0(e)&&p.isValid(e),isOdd:e=>(e&qo)===qo,neg:t=>Zo(-t,e),eql:(e,t)=>e===t,sqr:t=>Zo(t*t,e),add:(t,n)=>Zo(t+n,e),sub:(t,n)=>Zo(t-n,e),mul:(t,n)=>Zo(t*n,e),pow:(e,t)=>os(p,e,t),div:(t,n)=>Zo(t*Xo(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Xo(t,e),sqrt:r||(t=>(u||(u=is(e)),u(p,t))),toBytes:e=>n?No(e,l):Bo(e,l),fromBytes:(t,a=!0)=>{if(o){if(!o.includes(t.length)||t.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);const e=new Uint8Array(l);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let i=n?Ro(t):Lo(t);if(s&&(i=Zo(i,e)),!a&&!p.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>ss(p,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(p)}function ps(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ds(e){const t=ps(e);return t+Math.ceil(t/2)}function ms(e,t,n=!1){const a=e.length,i=ps(t),r=ds(t);if(a<16||a<r||a>1024)throw new Error("expected "+r+"-1024 bytes of input, got "+a);const o=Zo(n?Ro(e):Lo(e),t-qo)+qo;return n?No(o,i):Bo(o,i)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const fs=BigInt(0),hs=BigInt(1);function vs(e,t){const n=t.negate();return e?n:t}function bs(e,t){const n=ss(e.Fp,t.map(e=>e.Z));return t.map((t,a)=>e.fromAffine(t.toAffine(n[a])))}function xs(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function gs(e,t){xs(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:Po(e),maxNumber:n,shiftBy:BigInt(e)}}function ys(e,t,n){const{windowSize:a,mask:i,maxNumber:r,shiftBy:o}=n;let s=Number(e&i),c=e>>o;s>a&&(s-=r,c+=hs);const l=t*a;return{nextN:c,offset:l+Math.abs(s)-1,isZero:0===s,isNeg:s<0,isNegF:t%2!=0,offsetF:l}}function ws(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}function ks(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}const Cs=new WeakMap,Es=new WeakMap;function As(e){return Es.get(e)||1}function _s(e){if(e!==fs)throw new Error("invalid wNAF")}class js{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let a=e;for(;t>fs;)t&hs&&(n=n.add(a)),a=a.double(),t>>=hs;return n}precomputeWindow(e,t){const{windows:n,windowSize:a}=gs(t,this.bits),i=[];let r=e,o=r;for(let e=0;e<n;e++){o=r,i.push(o);for(let e=1;e<a;e++)o=o.add(r),i.push(o);r=o.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let a=this.ZERO,i=this.BASE;const r=gs(e,this.bits);for(let e=0;e<r.windows;e++){const{nextN:o,offset:s,isZero:c,isNeg:l,isNegF:u,offsetF:p}=ys(n,e,r);n=o,c?i=i.add(vs(u,t[p])):a=a.add(vs(l,t[s]))}return _s(n),{p:a,f:i}}wNAFUnsafe(e,t,n,a=this.ZERO){const i=gs(e,this.bits);for(let e=0;e<i.windows&&n!==fs;e++){const{nextN:r,offset:o,isZero:s,isNeg:c}=ys(n,e,i);if(n=r,!s){const e=t[o];a=a.add(c?e.negate():e)}}return _s(n),a}getPrecomputes(e,t,n){let a=Cs.get(t);return a||(a=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(a=n(a)),Cs.set(t,a))),a}cached(e,t,n){const a=As(e);return this.wNAF(a,this.getPrecomputes(a,e,n),t)}unsafe(e,t,n,a){const i=As(e);return 1===i?this._unsafeLadder(e,t,a):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,a)}createCache(e,t){xs(t,this.bits),Es.set(e,t),Cs.delete(e)}hasCache(e){return 1!==As(e)}}function Ts(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){Uo(e,rs.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return us(e,{isLE:n})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Ss=(e,t)=>(e+(e>=0?t:-t)/Fs)/t;function Ls(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function Rs(e,t){const n={};for(let a of Object.keys(t))n[a]=void 0===e[a]?t[a]:e[a];return _o(n.lowS,"lowS"),_o(n.prehash,"prehash"),void 0!==n.format&&Ls(n.format),n}class Bs extends Error{constructor(e=""){super(e)}}const Ns={Err:Bs,_tlv:{encode:(e,t)=>{const{Err:n}=Ns;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const a=t.length/2,i=To(a);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const r=a>127?To(i.length/2|128):"";return To(e)+r+i+t},decode(e,t){const{Err:n}=Ns;let a=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[a++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[a++];let r=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(a,a+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of o)r=r<<8|e;if(a+=e,r<128)throw new n("tlv.decode(long): not minimal encoding")}else r=i;const o=t.subarray(a,a+r);if(o.length!==r)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(a+r)}}},_int:{encode(e){const{Err:t}=Ns;if(e<Is)throw new t("integer: negative integers are not allowed");let n=To(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ns;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Lo(e)}},toSig(e){const{Err:t,_int:n,_tlv:a}=Ns,i=Io("signature",e),{v:r,l:o}=a.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:s,l:c}=a.decode(2,r),{v:l,l:u}=a.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(s),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Ns,a=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,a)}},Is=BigInt(0),Os=BigInt(1),Fs=BigInt(2),Ds=BigInt(3),Ps=BigInt(4);function Us(e,t){const{BYTES:n}=e;let a;if("bigint"==typeof t)a=t;else{let i=Io("private key",t);try{a=e.fromBytes(i)}catch(e){throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(a))throw new Error("invalid private key: out of range [1..N-1]");return a}function Ms(e,t={}){const n=function(e,t,n={},a){if(void 0===a&&(a="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const n=t[e];if(!("bigint"==typeof n&&n>fs))throw new Error(`CURVE.${e} must be positive bigint`)}const i=Ts(t.p,n.Fp,a),r=Ts(t.n,n.Fn,a),o=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of o)if(!i.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:r}}("weierstrass",e,t),{Fp:a,Fn:i}=n;let r=n.CURVE;const{h:o,n:s}=r;Uo(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!a.is0(r.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=qs(a,i);function u(){if(!a.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const p=t.toBytes||function(e,t,n){const{x:i,y:r}=t.toAffine(),o=a.toBytes(i);if(_o(n,"isCompressed"),n){u();return lo(zs(!a.isOdd(r)),o)}return lo(Uint8Array.of(4),o,a.toBytes(r))},d=t.fromBytes||function(e){jo(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:n}=l,i=e.length,r=e[0],o=e.subarray(1);if(i!==t||2!==r&&3!==r){if(i===n&&4===r){const e=a.BYTES,t=a.fromBytes(o.subarray(0,e)),n=a.fromBytes(o.subarray(e,2*e));if(!f(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${n}`)}{const e=a.fromBytes(o);if(!a.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=m(e);let n;try{n=a.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}u();return!(1&~r)!==a.isOdd(n)&&(n=a.neg(n)),{x:e,y:n}}};function m(e){const t=a.sqr(e),n=a.mul(t,e);return a.add(a.add(n,a.mul(e,r.a)),r.b)}function f(e,t){const n=a.sqr(t),i=m(e);return a.eql(n,i)}if(!f(r.Gx,r.Gy))throw new Error("bad curve params: generator point");const h=a.mul(a.pow(r.a,Ds),Ps),v=a.mul(a.sqr(r.b),BigInt(27));if(a.is0(a.add(h,v)))throw new Error("bad curve params: a or b");function b(e,t,n=!1){if(!a.isValid(t)||n&&a.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function x(e){if(!(e instanceof C))throw new Error("ProjectivePoint expected")}function g(e){if(!c||!c.basises)throw new Error("no endo");return function(e,t,n){const[[a,i],[r,o]]=t,s=Ss(o*e,n),c=Ss(-i*e,n);let l=e-s*a-c*r,u=-s*i-c*o;const p=l<Is,d=u<Is;p&&(l=-l),d&&(u=-u);const m=Po(Math.ceil(Do(n)/2))+Os;if(l<Is||l>=m||u<Is||u>=m)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:p,k1:l,k2neg:d,k2:u}}(e,c.basises,i.ORDER)}const y=Mo((e,t)=>{const{X:n,Y:i,Z:r}=e;if(a.eql(r,a.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?a.ONE:a.inv(r));const s=a.mul(n,t),c=a.mul(i,t),l=a.mul(r,t);if(o)return{x:a.ZERO,y:a.ZERO};if(!a.eql(l,a.ONE))throw new Error("invZ was invalid");return{x:s,y:c}}),w=Mo(e=>{if(e.is0()){if(t.allowInfinityPoint&&!a.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!a.isValid(n)||!a.isValid(i))throw new Error("bad point: x or y not field elements");if(!f(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function k(e,t,n,i,r){return n=new C(a.mul(n.X,e),n.Y,n.Z),t=vs(i,t),n=vs(r,n),t.add(n)}class C{constructor(e,t,n){this.X=b("x",e),this.Y=b("y",t,!0),this.Z=b("z",n),Object.freeze(this)}static CURVE(){return r}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!a.isValid(t)||!a.isValid(n))throw new Error("invalid affine point");if(e instanceof C)throw new Error("projective point not allowed");return a.is0(t)&&a.is0(n)?C.ZERO:new C(t,n,a.ONE)}static fromBytes(e){const t=C.fromAffine(d(jo(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return C.fromBytes(Io("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return A.createCache(this,e),t||this.multiply(Ds),this}assertValidity(){w(this)}hasEvenY(){const{y:e}=this.toAffine();if(!a.isOdd)throw new Error("Field doesn't support isOdd");return!a.isOdd(e)}equals(e){x(e);const{X:t,Y:n,Z:i}=this,{X:r,Y:o,Z:s}=e,c=a.eql(a.mul(t,s),a.mul(r,i)),l=a.eql(a.mul(n,s),a.mul(o,i));return c&&l}negate(){return new C(this.X,a.neg(this.Y),this.Z)}double(){const{a:e,b:t}=r,n=a.mul(t,Ds),{X:i,Y:o,Z:s}=this;let c=a.ZERO,l=a.ZERO,u=a.ZERO,p=a.mul(i,i),d=a.mul(o,o),m=a.mul(s,s),f=a.mul(i,o);return f=a.add(f,f),u=a.mul(i,s),u=a.add(u,u),c=a.mul(e,u),l=a.mul(n,m),l=a.add(c,l),c=a.sub(d,l),l=a.add(d,l),l=a.mul(c,l),c=a.mul(f,c),u=a.mul(n,u),m=a.mul(e,m),f=a.sub(p,m),f=a.mul(e,f),f=a.add(f,u),u=a.add(p,p),p=a.add(u,p),p=a.add(p,m),p=a.mul(p,f),l=a.add(l,p),m=a.mul(o,s),m=a.add(m,m),p=a.mul(m,f),c=a.sub(c,p),u=a.mul(m,d),u=a.add(u,u),u=a.add(u,u),new C(c,l,u)}add(e){x(e);const{X:t,Y:n,Z:i}=this,{X:o,Y:s,Z:c}=e;let l=a.ZERO,u=a.ZERO,p=a.ZERO;const d=r.a,m=a.mul(r.b,Ds);let f=a.mul(t,o),h=a.mul(n,s),v=a.mul(i,c),b=a.add(t,n),g=a.add(o,s);b=a.mul(b,g),g=a.add(f,h),b=a.sub(b,g),g=a.add(t,i);let y=a.add(o,c);return g=a.mul(g,y),y=a.add(f,v),g=a.sub(g,y),y=a.add(n,i),l=a.add(s,c),y=a.mul(y,l),l=a.add(h,v),y=a.sub(y,l),p=a.mul(d,g),l=a.mul(m,v),p=a.add(l,p),l=a.sub(h,p),p=a.add(h,p),u=a.mul(l,p),h=a.add(f,f),h=a.add(h,f),v=a.mul(d,v),g=a.mul(m,g),h=a.add(h,v),v=a.sub(f,v),v=a.mul(d,v),g=a.add(g,v),f=a.mul(h,g),u=a.add(u,f),f=a.mul(y,g),l=a.mul(b,l),l=a.sub(l,f),f=a.mul(b,h),p=a.mul(y,p),p=a.add(p,f),new C(l,u,p)}subtract(e){return this.add(e.negate())}is0(){return this.equals(C.ZERO)}multiply(e){const{endo:n}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let a,r;const o=e=>A.cached(this,e,e=>bs(C,e));if(n){const{k1neg:t,k1:i,k2neg:s,k2:c}=g(e),{p:l,f:u}=o(i),{p,f:d}=o(c);r=u.add(d),a=k(n.beta,l,p,t,s)}else{const{p:t,f:n}=o(e);a=t,r=n}return bs(C,[a,r])[0]}multiplyUnsafe(e){const{endo:n}=t,a=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===Is||a.is0())return C.ZERO;if(e===Os)return a;if(A.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:i,k2neg:r,k2:o}=g(e),{p1:s,p2:c}=function(e,t,n,a){let i=t,r=e.ZERO,o=e.ZERO;for(;n>fs||a>fs;)n&hs&&(r=r.add(i)),a&hs&&(o=o.add(i)),i=i.double(),n>>=hs,a>>=hs;return{p1:r,p2:o}}(C,a,i,o);return k(n.beta,s,c,t,r)}return A.unsafe(a,e)}multiplyAndAddUnsafe(e,t,n){const a=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return a.is0()?void 0:a}toAffine(e){return y(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return o===Os||(e?e(C,this):A.unsafe(this,s).is0())}clearCofactor(){const{clearCofactor:e}=t;return o===Os?this:e?e(C,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(e=!0){return _o(e,"isCompressed"),this.assertValidity(),p(C,this,e)}toHex(e=!0){return Yr(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return bs(C,e)}static msm(e,t){return function(e,t,n,a){ws(n,e),ks(a,t);const i=n.length,r=a.length;if(i!==r)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,s=Do(BigInt(i));let c=1;s>12?c=s-3:s>4?c=s-2:s>0&&(c=2);const l=Po(c),u=new Array(Number(l)+1).fill(o);let p=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){u.fill(o);for(let t=0;t<r;t++){const i=a[t],r=Number(i>>BigInt(e)&l);u[r]=u[r].add(n[t])}let t=o;for(let e=u.length-1,n=o;e>0;e--)n=n.add(u[e]),t=t.add(n);if(p=p.add(t),0!==e)for(let e=0;e<c;e++)p=p.double()}return p}(C,i,e,t)}static fromPrivateKey(e){return C.BASE.multiply(Us(i,e))}}C.BASE=new C(r.Gx,r.Gy,a.ONE),C.ZERO=new C(a.ZERO,a.ONE,a.ZERO),C.Fp=a,C.Fn=i;const E=i.BITS,A=new js(C,t.endo?Math.ceil(E/2):E);return C.BASE.precompute(8),C}function zs(e){return Uint8Array.of(e?2:3)}function qs(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function Hs(e,t,n={}){Gr(t),Uo(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const a=n.randomBytes||mo,i=n.hmac||((e,...n)=>Co(t,e,lo(...n))),{Fp:r,Fn:o}=e,{ORDER:s,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:p,utils:d,lengths:m}=function(e,t={}){const{Fn:n}=e,a=t.randomBytes||mo,i=Object.assign(qs(e.Fp,n),{seed:ds(n.ORDER)});function r(e){try{return!!Us(n,e)}catch(e){return!1}}function o(e=a(i.seed)){return ms(jo(e,i.seed,"seed"),n.ORDER)}function s(t,a=!0){return e.BASE.multiply(Us(n,t)).toBytes(a)}function c(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:a,publicKey:r,publicKeyUncompressed:o}=i;if(n.allowedLengths||a===r)return;const s=Io("key",t).length;return s===r||s===o}const l={isValidSecretKey:r,isValidPublicKey:function(t,n){const{publicKey:a,publicKeyUncompressed:r}=i;try{const i=t.length;return!(!0===n&&i!==a||!1===n&&i!==r||!e.fromBytes(t))}catch(e){return!1}},randomSecretKey:o,isValidPrivateKey:r,randomPrivateKey:o,normPrivateKeyToScalar:e=>Us(n,e),precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({getPublicKey:s,getSharedSecret:function(t,a,i=!0){if(!0===c(t))throw new Error("first arg must be private key");if(!1===c(a))throw new Error("second arg must be public key");const r=Us(n,t);return e.fromHex(a).multiply(r).toBytes(i)},keygen:function(e){const t=o(e);return{secretKey:t,publicKey:s(t)}},Point:e,utils:l,lengths:i})}(e,n),f={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},h="compact";function v(e){return e>s>>Os}function b(e,t){if(!o.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class x{constructor(e,t,n){this.r=b("r",e),this.s=b("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e,t=h){let n;if(function(e,t){Ls(t);const n=m.signature;jo(e,"compact"===t?n:"recovered"===t?n+1:void 0,`${t} signature`)}(e,t),"der"===t){const{r:t,s:n}=Ns.toSig(jo(e));return new x(t,n)}"recovered"===t&&(n=e[0],t="compact",e=e.subarray(1));const a=o.BYTES,i=e.subarray(0,a),r=e.subarray(a,2*a);return new x(o.fromBytes(i),o.fromBytes(r),n)}static fromHex(e,t){return this.fromBytes(oo(e),t)}addRecoveryBit(e){return new x(this.r,this.s,e)}recoverPublicKey(t){const n=r.ORDER,{r:a,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw new Error("recovery id invalid");if(s*Fs<n&&c>1)throw new Error("recovery id is ambiguous for h>1 curve");const l=2===c||3===c?a+s:a;if(!r.isValid(l))throw new Error("recovery id 2 or 3 invalid");const u=r.toBytes(l),p=e.fromBytes(lo(zs(!(1&c)),u)),d=o.inv(l),m=y(Io("msgHash",t)),f=o.create(-m*d),h=o.create(i*d),v=e.BASE.multiplyUnsafe(f).add(p.multiplyUnsafe(h));if(v.is0())throw new Error("point at infinify");return v.assertValidity(),v}hasHighS(){return v(this.s)}toBytes(e=h){if(Ls(e),"der"===e)return oo(Ns.hexFromSig(this));const t=o.toBytes(this.r),n=o.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return lo(Uint8Array.of(this.recovery),t,n)}return lo(t,n)}toHex(e){return Yr(this.toBytes(e))}assertValidity(){}static fromCompact(e){return x.fromBytes(Io("sig",e),"compact")}static fromDER(e){return x.fromBytes(Io("sig",e),"der")}normalizeS(){return this.hasHighS()?new x(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Yr(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Yr(this.toBytes("compact"))}}const g=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=Lo(e),n=8*e.length-c;return n>0?t>>BigInt(n):t},y=n.bits2int_modN||function(e){return o.create(g(e))},w=Po(c);function k(e){return function(e,t,n,a){if(!Fo(t,n,a))throw new Error("expected valid "+e+": "+n+" <= n < "+a+", got "+t)}("num < 2^"+c,e,Is,w),o.toBytes(e)}function C(e,n){return jo(e,void 0,"message"),n?jo(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:p,utils:d,lengths:m,Point:e,sign:function(n,r,s={}){n=Io("message",n);const{seed:c,k2sig:l}=function(t,n,i){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{lowS:r,prehash:s,extraEntropy:c}=Rs(i,f);t=C(t,s);const l=y(t),u=Us(o,n),p=[k(u),k(l)];if(null!=c&&!1!==c){const e=!0===c?a(m.secretKey):c;p.push(Io("extraEntropy",e))}const d=lo(...p),h=l;return{seed:d,k2sig:function(t){const n=g(t);if(!o.isValidNot0(n))return;const a=o.inv(n),i=e.BASE.multiply(n).toAffine(),s=o.create(i.x);if(s===Is)return;const c=o.create(a*o.create(h+s*u));if(c===Is)return;let l=(i.x===s?0:2)|Number(i.y&Os),p=c;return r&&v(c)&&(p=o.neg(c),l^=1),new x(s,p,l)}}}(n,r,s);return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const a=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let r=a(e),o=a(e),s=0;const c=()=>{r.fill(1),o.fill(0),s=0},l=(...e)=>n(o,r,...e),u=(e=a(0))=>{o=l(i(0),e),r=l(),0!==e.length&&(o=l(i(1),e),r=l())},p=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=l();const t=r.slice();n.push(t),e+=r.length}return lo(...n)};return(e,t)=>{let n;for(c(),u(e);!(n=t(p()));)u();return c(),n}}(t.outputLen,o.BYTES,i)(c,l)},verify:function(t,n,a,i={}){const{lowS:r,prehash:s,format:c}=Rs(i,f);if(a=Io("publicKey",a),n=C(Io("message",n),s),"strict"in i)throw new Error("options.strict was renamed to lowS");const l=void 0===c?function(e){let t;const n="string"==typeof e||qr(e),a=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!a)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(a)t=new x(e.r,e.s);else if(n){try{t=x.fromBytes(Io("sig",e),"der")}catch(e){if(!(e instanceof Ns.Err))throw e}if(!t)try{t=x.fromBytes(Io("sig",e),"compact")}catch(e){return!1}}return t||!1}(t):x.fromBytes(Io("sig",t),c);if(!1===l)return!1;try{const t=e.fromBytes(a);if(r&&l.hasHighS())return!1;const{r:i,s}=l,c=y(n),u=o.inv(s),p=o.create(c*u),d=o.create(i*u),m=e.BASE.multiplyUnsafe(p).add(t.multiplyUnsafe(d));if(m.is0())return!1;return o.create(m.x)===i}catch(e){return!1}},recoverPublicKey:function(e,t,n={}){const{prehash:a}=Rs(n,f);return t=C(t,a),x.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:x,hash:t})}function Vs(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let a=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:n,Fn:us(t.n,{BITS:e.nBitLength,allowedLengths:a,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}function Gs(e){const{CURVE:t,curveOpts:n,hash:a,ecdsaOpts:i}=function(e){const{CURVE:t,curveOpts:n}=Vs(e),a={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:a}}(e);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,ls(n.Fn.ORDER,n.Fn.BITS))})}(e,Hs(Ms(t,n),a,i))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Ws={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},Js={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},$s=BigInt(0),Ks=BigInt(1),Qs=BigInt(2);const Zs=us(Ws.p,{sqrt:function(e){const t=Ws.p,n=BigInt(3),a=BigInt(6),i=BigInt(11),r=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,p=Yo(u,n,t)*u%t,d=Yo(p,n,t)*u%t,m=Yo(d,Qs,t)*l%t,f=Yo(m,i,t)*m%t,h=Yo(f,r,t)*f%t,v=Yo(h,s,t)*h%t,b=Yo(v,c,t)*v%t,x=Yo(b,s,t)*h%t,g=Yo(x,n,t)*u%t,y=Yo(g,o,t)*f%t,w=Yo(y,a,t)*l%t,k=Yo(w,Qs,t);if(!Zs.eql(Zs.sqr(k),e))throw new Error("Cannot find square root");return k}}),Ys=function(e,t){const n=t=>Gs({...e,hash:t});return{...n(t),create:n}}({...Ws,Fp:Zs,lowS:!0,endo:Js},wo),Xs={};function ec(e,...t){let n=Xs[e];if(void 0===n){const t=wo(so(e));n=lo(t,t),Xs[e]=n}return wo(lo(n,...t))}const tc=e=>e.toBytes(!0).slice(1),nc=(()=>Ys.Point)(),ac=e=>e%Qs===$s;function ic(e){const{Fn:t,BASE:n}=nc,a=Us(t,e),i=n.multiply(a);return{scalar:ac(i.y)?a:t.neg(a),bytes:tc(i)}}function rc(e){const t=Zs;if(!t.isValidNot0(e))throw new Error("invalid x: Fail if x  p");const n=t.create(e*e),a=t.create(n*e+BigInt(7));let i=t.sqrt(a);ac(i)||(i=t.neg(i));const r=nc.fromAffine({x:e,y:i});return r.assertValidity(),r}const oc=Lo;function sc(...e){return nc.Fn.create(oc(ec("BIP0340/challenge",...e)))}function cc(e){return ic(e).bytes}function lc(e,t,n=mo(32)){const{Fn:a}=nc,i=Io("message",e),{bytes:r,scalar:o}=ic(t),s=Io("auxRand",n,32),c=a.toBytes(o^oc(ec("BIP0340/aux",s))),l=ec("BIP0340/nonce",c,r,i),{bytes:u,scalar:p}=ic(l),d=sc(u,r,i),m=new Uint8Array(64);if(m.set(u,0),m.set(a.toBytes(a.create(p+d*o)),32),!uc(m,i,r))throw new Error("sign: Invalid signature produced");return m}function uc(e,t,n){const{Fn:a,BASE:i}=nc,r=Io("signature",e,64),o=Io("message",t),s=Io("publicKey",n,32);try{const e=rc(oc(s)),t=oc(r.subarray(0,32));if(!Fo(t,Ks,Ws.p))return!1;const n=oc(r.subarray(32,64));if(!Fo(n,Ks,Ws.n))return!1;const c=sc(a.toBytes(t),tc(e),o),l=i.multiplyUnsafe(n).add(e.multiplyUnsafe(a.neg(c))),{x:u,y:p}=l.toAffine();return!(l.is0()||!ac(p)||u!==t)}catch(e){return!1}}const pc=(()=>{const e=(e=mo(48))=>ms(e,Ws.n);return Ys.utils.randomSecretKey,{keygen:function(t){const n=e(t);return{secretKey:n,publicKey:cc(n)}},getPublicKey:cc,sign:lc,verify:uc,Point:nc,utils:{randomSecretKey:e,randomPrivateKey:e,taggedHash:ec,lift_x:rc,pointToBytes:tc,numberToBytesBE:Bo,bytesToNumberBE:Lo,mod:Zo},lengths:{secretKey:32,publicKey:32,publicKeyHasPrefix:!1,signature:64,seed:48}}})(),dc=wo;new TextDecoder("utf-8");var mc=new TextEncoder,fc="https://w3id.org/security#";function hc(){return{id:"",created:"",dateDeleted:"",content:"",maker:"",sig:""}}function vc(e){var t=dc(mc.encode(function(e){return JSON.stringify(e)}(e)));return Yr(t)}function bc(e,t,n){return pc.verify(e,vc(t),n)}function xc(e,t){return Yr(pc.sign(vc(e),t))}var gc=function(e){var t,n,a=null===(t=f.any(e,R.space("preferencesFile"),null,e.doc()))||void 0===t?void 0:t.value;if(!(a=null===(n=a)||void 0===n?void 0:n.split("/").slice(0,-2).join("/")))throw new Error("prefererencesFile is expected to exist in ".concat(e));return a},yc=function(e){var t;try{var n=gc(e);t="".concat(n,"/profile/keys/publicKey.ttl")}catch(e){de.z3(e)}return t},wc=function(e){var t;try{var n=gc(e);t="".concat(n,"/settings/keys/privateKey.ttl")}catch(e){de.z3(e)}return t};function kc(e,t){return Cc.apply(this,arguments)}function Cc(){return(Cc=N(O().mark(function e(t,n){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,_c(t,n,"publicKey");case 1:return e.abrupt("return",e.sent);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ec(e,t){return Ac.apply(this,arguments)}function Ac(){return(Ac=N(O().mark(function e(t,n){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,_c(t,n,"privateKey");case 1:return e.abrupt("return",e.sent);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _c(e,t,n){return jc.apply(this,arguments)}function jc(){return(jc=N(O().mark(function e(t,n,a){var i,r,o;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,f.fetcher.load(n);case 1:return i=f.any(t,R.solid(a)),e.abrupt("return",null==i?void 0:i.value);case 2:if(e.prev=2,404!==(r=e.catch(0)).response.status){e.next=7;break}return de.Rm("createIfNotExists: doc does NOT exist, will create... "+n),e.prev=3,e.next=4,f.fetcher.webOperation("PUT",n,{data:"",contentType:"text/turtle"});case 4:e.next=6;break;case 5:throw e.prev=5,o=e.catch(3),de.Rm("createIfNotExists doc FAILED: "+n+": "+o),o;case 6:return delete f.fetcher.requested[n],e.abrupt("return",void 0);case 7:throw de.Rm("createIfNotExists doc FAILED: "+n+": "+r),r;case 8:case"end":return e.stop()}},e,null,[[0,2],[3,5]])}))).apply(this,arguments)}function Tc(e,t){return Sc.apply(this,arguments)}function Sc(){return(Sc=N(O().mark(function e(t,n){var a,i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,f.fetcher.load(t);case 1:if(a=f.any(f.sym(t),f.sym("http://www.iana.org/assignments/link-relations/acl"))){e.next=2;break}throw new Error("Key ACL doc not found!");case 2:return e.prev=2,e.next=3,f.fetcher.webOperation("PUT",a.value,{data:n,contentType:"text/turtle"});case 3:e.next=6;break;case 4:if(e.prev=4,404===(null==(r=e.catch(2))||null===(i=r.response)||void 0===i?void 0:i.status)){e.next=5;break}throw new Error(r);case 5:de.Rm("delete "+a.value+" "+r.response.status);case 6:case"end":return e.stop()}},e,null,[[2,4]])}))).apply(this,arguments)}var Lc=function(e){return"\n@prefix : <#>.\n@prefix acl: <http://www.w3.org/ns/auth/acl#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix key: <./>.\n\n:ReadWrite\n    a acl:Authorization;\n    acl:accessTo key:;\n    acl:default key:;\n    acl:agent <".concat(e,">;\n    acl:mode acl:Read, acl:Write.\n")},Rc=function(e,t){var n="acl:agentClass foaf:Agent";return null!=t&&t.length&&(n="acl:agent <".concat(t,">")),"\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix acl: <http://www.w3.org/ns/auth/acl#>.\n<#Read>\n    a acl:Authorization;\n    ".concat(n,";\n    acl:accessTo <").concat(e.split("/").pop(),">;\n    acl:mode acl:Read.\n")};function Bc(){return Yr(pc.utils.randomPrivateKey())}function Nc(e){return Yr(pc.getPublicKey(e))}function Ic(e){return Oc.apply(this,arguments)}function Oc(){return(Oc=N(O().mark(function e(t){var n,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,f.fetcher.load(t);case 1:return e.next=2,yc(t);case 2:return n=e.sent,e.prev=3,e.next=4,f.fetcher.load(n);case 4:return a=f.any(t,R.solid("publicKey")),e.abrupt("return",null==a?void 0:a.value);case 5:return e.prev=5,e.catch(3),e.abrupt("return",void 0);case 6:case"end":return e.stop()}},e,null,[[3,5]])}))).apply(this,arguments)}function Fc(e){return Dc.apply(this,arguments)}function Dc(){return Dc=N(O().mark(function e(t){var n,a,i,r,o,s,c,l,u;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,f.fetcher.load(t);case 1:return e.next=2,yc(t);case 2:return n=e.sent,e.next=3,wc(t);case 3:return a=e.sent,e.next=4,kc(t,n);case 4:return i=e.sent,e.next=5,Ec(t,a);case 5:if(r=e.sent,o=!0,r&&i!==Nc(r)&&confirm("This is strange the publicKey is not valid for\n"+(null==t?void 0:t.uri)+"'shall we repair keeping the private key ?")&&(o=!1),r&&i&&o){e.next=8;break}if(s=[],c=[],r){e.next=6;break}return r=Bc(),c=[L.st(t,R.solid("privateKey"),L.literal(r),f.sym(a))],e.next=6,Uc(a,[],c,t.uri);case 6:if(i&&o){e.next=7;break}return s=[],i&&(s=[L.st(t,R.solid("publicKey"),L.lit(i),f.sym(n))],de.Rm("delete invalid publicKey "+s)),l=Nc(r),c=[L.st(t,R.solid("publicKey"),L.literal(l),f.sym(n))],e.next=7,Uc(n,s,c);case 7:return u=a.substring(0,a.lastIndexOf("/")+1),e.next=8,Tc(u,Lc(t.uri));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e)})),Dc.apply(this,arguments)}var Pc=function(){var e=N(O().mark(function e(t){var n,a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,f.fetcher.load(t);case 1:if(!(n=f.any(f.sym(t),f.sym("http://www.iana.org/assignments/link-relations/acl")))){e.next=6;break}return e.prev=2,e.next=3,f.fetcher.webOperation("DELETE",n.value);case 3:a=e.sent,de.Rm("delete keyAcl"+n.value+" "+a.status),e.next=6;break;case 4:if(e.prev=4,404===(i=e.catch(2)).response.status){e.next=5;break}throw new Error(i);case 5:de.Rm("delete keyAcl"+n.value+" "+i.response.status);case 6:case"end":return e.stop()}},e,null,[[2,4]])}));return function(t){return e.apply(this,arguments)}}();function Uc(e,t,n){return Mc.apply(this,arguments)}function Mc(){return Mc=N(O().mark(function e(t,n,a){var i,r,o=arguments;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>3&&void 0!==o[3]?o[3]:"",e.next=1,Pc(t);case 1:return e.next=2,f.updater.updateMany(n,a);case 2:return r=Rc(t,i),e.next=3,Tc(t,r);case 3:case"end":return e.stop()}},e)})),Mc.apply(this,arguments)}var zc=function(){return Ie(function e(t,n){Le(this,e),this.channel=t,this.channelRoot=t.doc(),this.options=n,this.dateFolder=new Mr(this.channelRoot,"chat.ttl"),this.div=null},[{key:"createMessage",value:(a=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateMessage(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"updateMessage",value:(n=N(O().mark(function e(t){var n,a,i,r,o,s,c,u,p,d,m,h,v,b,x,g,y,w,k,C=arguments;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=C.length>1&&void 0!==C[1]?C[1]:null,a=C.length>2?C[2]:void 0,i=C.length>3&&void 0!==C[3]?C[3]:null,r=[],o=new Date,s=""+o.getTime(),c=L.term(o),u=n?n.doc():this.dateFolder.leafDocumentFromDate(o),p=f.sym(u.uri+"#Msg"+s),d=l.currentUser(),(m=hc()).id=p.uri,!n){e.next=4;break}if((h=f.any(n,R.foaf("maker"))).uri!==d.uri){e.next=2;break}return e.next=1,Wc(n);case 1:v=e.sent,r.push(L.st(v,R.dct("isReplacedBy"),p,u)),(b=f.any(v,R.sioc("has_reply")))&&r.push(L.st(p,R.sioc("has_reply"),b,u)),a&&r.push(L.st(p,R.schema("dateDeleted"),c,u)),e.next=3;break;case 2:throw x="Error you cannot delete/edit a message from someone else : \n"+h.uri,de.R8(x),alert(x),new Error(x);case 3:e.next=5;break;case 4:r.push(L.st(this.channel,R.wf("message"),p,u));case 5:if(r.push(L.st(p,R.sioc("content"),f.literal(t),u)),m.content=t,r.push(L.st(p,R.dct("created"),c,u)),m.created=c.value,!d){e.next=7;break}return r.push(L.st(p,R.foaf("maker"),d,u)),m.maker=d.uri,e.next=6,Fc(d);case 6:g=e.sent,y=xc(m,g),r.push(L.st(p,L.sym("".concat(fc,"proofValue")),L.lit(y),u));case 7:return i&&(r.push(L.st(i,R.sioc("has_member"),p,u)),i.doc().sameTerm(p.doc())||r.push(L.st(i,R.sioc("has_member"),p,i.doc()))),e.prev=8,e.next=9,f.updater.updateMany([],r);case 9:e.next=11;break;case 10:throw e.prev=10,k=e.catch(8),w="Error saving chat message: "+k,de.R8(w),alert(w),new Error(w);case 11:return e.abrupt("return",p);case 12:case"end":return e.stop()}},e,this,[[8,10]])})),function(e){return n.apply(this,arguments)})},{key:"deleteMessage",value:(t=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateMessage("(message deleted)",t,!0));case 1:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"createThread",value:(e=N(O().mark(function e(t){var n,a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.each(t,R.sioc("has_reply"),null,t.doc()).filter(function(e){return f.holds(e,R.rdf("type"),R.sioc("Thread"),e.doc())}),!(n.length>0)){e.next=1;break}return e.abrupt("return",n[0]);case 1:return a=L.sym(t.uri+"-thread"),i=[L.st(a,R.rdf("type"),R.sioc("Thread"),a.doc()),L.st(t,R.sioc("has_reply"),a,a.doc())],e.next=2,f.updater.update([],i);case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})}]);var e,t,n,a}();function qc(e){return Hc.apply(this,arguments)}function Hc(){return(Hc=N(O().mark(function e(t){var n,a,i,r,o;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[t],(a={})[t.uri]=!0,i=t;case 1:if((r=f.any(null,R.dct("isReplacedBy"),i,i.doc()))&&!a[r.uri]){e.next=2;break}return e.abrupt("continue",4);case 2:return e.next=3,f.fetcher.load(r);case 3:n.unshift(r),a[r.uri]=!0,i=r,e.next=1;break;case 4:i=t;case 5:if((o=f.any(i,R.dct("isReplacedBy"),null,i.doc()))&&!a[o.uri]){e.next=6;break}return e.abrupt("continue",7);case 6:n.push(o),a[o.uri]=!0,i=o,e.next=5;break;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vc(e){return Gc.apply(this,arguments)}function Gc(){return Gc=N(O().mark(function e(t){var n,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,a={};case 1:if(!n){e.next=4;break}if(!a[n.uri]){e.next=2;break}return de.z3("originalVersion: verion loop"+t),e.abrupt("return",t);case 2:return a[n.uri]=!0,t=n,e.next=3,f.fetcher.load(t);case 3:n=f.any(null,R.dct("isReplacedBy"),t,t.doc()),e.next=1;break;case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),Gc.apply(this,arguments)}function Wc(e){return Jc.apply(this,arguments)}function Jc(){return Jc=N(O().mark(function e(t){var n,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,a={};case 1:if(!n){e.next=4;break}if(!a[n.uri]){e.next=2;break}return de.z3("mostRecentVersion: verion loop"+t),e.abrupt("return",t);case 2:return a[n.uri]=!0,t=n,e.next=3,f.fetcher.load(t);case 3:n=f.any(t,R.dct("isReplacedBy"),null,t.doc()),e.next=1;break;case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),Jc.apply(this,arguments)}function $c(e){return f.holds(e,R.schema("dateDeleted"),null,e.doc())}function Kc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Qc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function Qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var Zc=m.store;function Yc(e,t,n,a,i,r){t.setAttribute("style",Me.participantsStyle);var o=function(n){var a,i=Zc.any(n,R.wf("participant"));if(!i)return(a=e.createElement("tr")).textContent="???",a;var o=Zc.anyValue(n,R.ui("backgroundColor"))||Ue.participationDefaultBackground,s=e.createElement("div");s.setAttribute("style",Me.participantsBlock),s.style.backgroundColor=o,a=Yt(e,null,i,r),t.appendChild(a);var c=e.createElement("td");return c.setAttribute("style",Me.personTableTD),c.appendChild(s),a.insertBefore(c,a.firstChild),a},s=function(){var e=Zc.each(a,R.wf("participation")).map(function(e){return(0,de.Rm)("in participants"),[Zc.anyValue(e,R.cal("dtstart"))||"9999-12-31",e]});e.sort();var n=e.map(function(e){return e[1]});Xe(t,n,o)};return t.refresh=s,s(),t}function Xc(e,t,n){return new Promise(function(a,i){if(!n)throw new Error("No user id");var r=Zc.each(e,R.wf("participation")).filter(function(e){return Zc.holds(e,R.wf("participant"),n)});if(r.length>1){var o,s=[],c=Kc(r);try{for(c.s();!(o=c.n()).done;){var l=o.value,u=Zc.anyValue(l,R.cal("dtstart"));u&&s.push([u,l])}}catch(e){c.e(e)}finally{c.f()}s.sort(),de.R8("Multiple participation objects, picking earliest, in "+t),a(s[0][1])}if(r.length)a(r[0]);else{var p=ci(t),d=[(0,L.st)(e,R.wf("participation"),p,t),(0,L.st)(p,R.wf("participant"),n,t),(0,L.st)(p,R.cal("dtstart"),new Date,t),(0,L.st)(p,R.ui("backgroundColor"),il(n),t)];Zc.updater.update([],d,function(e,t,n){t?a(p):i(new Error("Error recording your participation: "+n))}),a(p)}})}function el(e,t,n){var a=l.currentUser();if(a){var i=Zc.each(e,R.wf("participation")).filter(function(e){return Zc.holds(e,R.wf("participant"),a)});if(i.length>1)throw new Error("Multiple records of your participation");if(i.length)return i[0];if(!Zc.updater.editable(t))return de.Rm("Not recording participation, as no write access as "+a+" to "+t),null;var r=ci(t),o=[(0,L.st)(e,R.wf("participation"),r,t),(0,L.st)(r,R.wf("participant"),a,t),(0,L.st)(r,R.cal("dtstart"),new Date,t),(0,L.st)(r,R.ui("backgroundColor"),il(a),t)];return Zc.updater.update([],o,function(e,t,a){if(!t)throw new Error("Error recording your participation: "+a);n&&n.refresh&&n.refresh()}),r}}function tl(e,t,n,a,i,r){var o=e.createElement("table");t.appendChild(o),Yc(e,o,0,a,0,r);try{el(a,n,o)}catch(n){t.appendChild(kt(e,"Error recording your participation: "+n))}return o}var nl=m.store,al=(0,L.Namespace)("http://www.w3.org/ns/pim/pad#");function il(e){var t;return e&&e.uri?"#"+(16777215&(t=e.uri,t.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0))|12632256).toString(16):"#ffffff"}function rl(e,t,n,a,i){var r=(i=i||{}).exists,o=e.createElement("table"),s=nl;if(a&&!a.uri)throw new Error("UI.pad.notepad:  Invalid userid");var c=nl.updater,l=(0,L.Namespace)("http://www.w3.org/ns/pim/pad#");o.setAttribute("style",Me.notepadStyle);var u=null,p=null;if(i.statusArea){var d=i.statusArea.appendChild(e.createElement("table")).appendChild(e.createElement("tr"));u=d.appendChild(e.createElement("td")),p=d.appendChild(e.createElement("td")),u&&u.setAttribute("style",Me.upstreamStatus),p&&p.setAttribute("style",Me.downstreamStatus)}var m=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,de.Rm)(t),i.statusArea&&(n?u:p).appendChild(kt(e,t,"pink"))},f=function(e){i.statusArea&&(i.statusArea.innerHTML="")},h=function(e,t,n){var a=e.subject;t=t||"";var i=Me.baseStyle,r=Me.headingCore,o=Me.headingStyle,c=s.any(a,R.dc("author"));!t&&c&&(t="color: "+(n?"#888":"black")+"; background-color: "+il(c)+";");var u=s.any(a,l("indent")),p=(u=u?u.value:0)>=0?i+"text-indent: "+3*u+"em;":r+o[-1-u];e.setAttribute("style",p+t)},v=function(e){var a=e.subject;if(!a)throw new Error("No chunk for line to be deleted!");var i=s.any(void 0,l("next"),a),r=s.any(a,l("next"));if(i.sameTerm(n)&&r.sameTerm(n))(0,de.Rm)("You can't delete the only line.");else{var o=s.statementsMatching(a,void 0,void 0,t).concat(s.statementsMatching(void 0,void 0,a,t)),u=[(0,L.st)(i,l("next"),r,t)];if(a instanceof L.NamedNode){var p=a.uri.slice(-4);(0,de.Rm)("Deleting line "+p)}if(!c)throw new Error("have no updater");c.update(o,u,function(t,n,i,r){if(n){var s=e.parentNode;if(s){var c=s.previousSibling;s.parentNode&&s.parentNode.removeChild(s),c&&c.firstChild&&c.firstChild.focus()}}else if(r&&409===r.status)h(e,"color: black;  background-color: #ffd;"),e.state=0,Qe(),setTimeout(function(){E()},1e3);else{(0,de.Rm)("    removePart FAILED "+a+": "+i),(0,de.Rm)("    removePart was deleteing :'"+o),h(e,"color: black;  background-color: #fdd;");var l=r?r.status:" [no response field] ";m("Error "+l+" saving changes: "+i.true)}})}},b=function(e,n){e.addEventListener("keydown",function(a){if(!c)throw new Error("no updater");var i,r;switch(a.keyCode){case 13:var o=a.shiftKey;if((0,de.Rm)("enter"),o?(r=s.any(void 0,l("next"),n),i="newlinesAfter"):(r=s.any(n,l("next")),i="newlinesBefore"),r[i]=r[i]||0,r[i]+=1,r[i]>1)return void(0,de.Rm)("    queueing newline queue = "+r[i]);(0,de.Rm)("    go ahead line before "+r[i]),g(e,o);break;case 8:if(0===e.value.length)switch((0,de.Rm)("Delete key line "+n.uri.slice(-4)+" state "+e.state),e.state){case 1:case 2:return void(e.state=4);case 3:case 4:return;case void 0:case 0:e.state=3,v(e),a.preventDefault();break;default:throw new Error("pad: Unexpected state "+e)}break;case 9:var u=a.shiftKey?-1:1;!function(e,n,a){var i=s.statementsMatching(n,l("indent")),r=i.length?Number(i[0].object.value):0;if(!(r+a<-3)){var o=r+a,u=(0,L.st)(n,l("indent"),o,t);if(!c)throw new Error("no updater");c.update(i,u,function(n,a,i){a?h(e):((0,de.Rm)("Indent change FAILED '"+o+"' for "+t+": "+i),h(e,"color: black;  background-color: #fdd;"),c.requestDownstreamAction(t,E))})}}(e,n,u),a.preventDefault();break;case 27:(0,de.Rm)("escape"),c.requestDownstreamAction(t,E),a.preventDefault();break;case 38:e.parentNode.previousSibling&&(e.parentNode.previousSibling.firstChild.focus(),a.preventDefault());break;case 40:e.parentNode.nextSibling&&(e.parentNode.nextSibling.firstChild.focus(),a.preventDefault())}});var a=function(e){var n=e.subject;h(e,void 0,!0);var i,r=s.any(n,R.sioc("content")).value,o=[(0,L.st)(n,R.sioc("content"),r,t)];e.value&&(i=[(0,L.st)(n,R.sioc("content"),e.value,t)]);var l=e.value;if(e.lastSent&&r!==e.lastSent)throw new Error("Out of order, last sent expected '"+r+"' but found '"+e.lastSent+"'");if(e.lastSent=l,!c)throw new Error("no updater");c.update(o,i,function(n,i,o,s){i?(f(),h(e),(0,de.Rm)("    Patch ok '"+r+"' -> '"+l+"' "),4===e.state?(e.state=3,v(e)):3===e.state||(2===e.state?(e.state=1,a(e)):e.state=0)):((0,de.Rm)("    patch FAILED "+s.status+" for '"+r+"' -> '"+l+"': "+o),409===s.status?(h(e,"color: black;  background-color: #fdd;"),e.state=0,Qe(),setTimeout(function(){c.requestDownstreamAction(t,E)},1e3)):(h(e,"color: black;  background-color: #fdd;"),e.state=0,m("    Error "+s.status+" sending data: "+o,!0),Qe()))})};e.addEventListener("input",function(t){switch(h(e,void 0,!0),(0,de.Rm)("Input event state "+e.state+" value '"+e.value+"'"),e.state){case 3:case 4:case 2:return;case 1:return void(e.state=2);case 0:case void 0:e.state=1,a(e)}})},x=function(t,n,i){var r=s.any(n,R.sioc("content"));r=r?r.value:"";var c=e.createElement("tr");i?o.insertBefore(c,t):t&&t.nextSibling?o.insertBefore(c,t.nextSibling):o.appendChild(c);var l=c.appendChild(e.createElement("input"));return l.subject=n,l.setAttribute("type","text"),l.value=r,a?(h(l,""),b(l,n)):(h(l,"color: #222; background-color: #fff"),(0,de.Rm)("Note can't add listeners - not logged in")),l},g=function(e,i){var r,o,s,u,p,d=nl,m=0,f=null;e?("input"!==e.tagName.toLowerCase()&&(0,de.Rm)("return pressed when current document is: "+e.tagName),r=e.subject,m=(m=d.any(r,l("indent")))?Number(m.value):0,i?(o=d.any(void 0,l("next"),r),s=r,u=o,f="newlinesAfter"):(o=r,s=d.any(r,l("next")),u=s,f="newlinesBefore"),p=e.parentNode):(o=n,s=n,p=void 0);var v=ci(t),b=v.uri.slice(-4),y=[(0,L.st)(o,l("next"),s,t)],w=[(0,L.st)(o,l("next"),v,t),(0,L.st)(v,l("next"),s,t),(0,L.st)(v,R.dc("author"),a,t),(0,L.st)(v,R.sioc("content"),"",t)];if(m>0&&w.push((0,L.st)(v,l("indent"),m,t)),(0,de.Rm)("    Fresh chunk "+b+" proposed"),!c)throw new Error("no updater");c.update(y,w,function(e,t,n,a){if(t){var r=x(p,v,i);h(r),r.focus(),f&&((0,de.Rm)("    Fresh chunk "+b+" updated, queue = "+u[f]),u[f]-=1,u[f]>0&&((0,de.Rm)("    Implementing queued newlines = "+s.newLinesBefore),g(r,i)))}else(0,de.Rm)("    ERROR writing new line "+b+": "+n)})},y=function(){var e={},t=0;function a(e){m(e),t++}if(!s.the(n,l("next")))return a("No initial next pointer"),!1;for(var i,r=n;(i=s.the(r,l("next")))||a("No next pointer from "+r),!i.sameTerm(n);){r=i;var o=i.uri.split("#")[1];if(e[i.uri])return a("Loop!"),!1;e[i.uri]=!0;var c=s.each(i,l("next")).length;1!==c&&a("Should be 1 not "+c+" next pointer for "+o),(c=s.each(i,l("indent")).length)>1&&a("Should be 0 or 1 not "+c+" indent for "+o),1!==(c=s.each(i,R.sioc("content")).length)&&a("Should be 1 not "+c+" contents for "+o),1!==(c=s.each(i,R.dc("author")).length)&&a("Should be 1 not "+c+" author for "+o),s.statementsMatching(void 0,R.sioc("contents")).forEach(function(t){e[t.subject.value]||a("Loose chunk! "+t.subject.value)})}return!t},w=function(){if(1!==s.each(n,l("next")).length){var e="Pad: Inconsistent data - NEXT pointers: "+s.each(n,l("next")).length;return(0,de.Rm)(e),void(i.statusArea&&(i.statusArea.textContent+=e))}for(var t,a=[],r=s.the(n,l("next"));!r.sameTerm(n);r=s.the(r,l("next")))for(var c=0;c<o.children.length;c++){var u=o.children[c];u.firstChild&&u.firstChild.subject.sameTerm(r)&&(a[r.uri]=u.firstChild)}for(var p=o.children.length-1;p>=0;p--)a[(t=o.children[p]).firstChild.subject.uri]||o.removeChild(t);t=o.firstChild;for(var d=s.the(n,l("next"));!d.sameTerm(n);d=s.the(d,l("next"))){var m=s.any(d,R.sioc("content")).value;if(t&&a[d.uri]){var f=t.firstChild;m!==f.value&&(f.value=m),h(f),f.state=0,delete f.lastSent,t=t.nextSibling}else x(t,d,!0)}},k=function(e){if(e.refresh)e.refresh();else for(var t=0;t<e.children.length;t++)k(e.children[t])},C=!1,E=function(){if(C)(0,de.Rm)("   Already reloading - stop");else{C=!0;var e=1e3,n=function(){if((0,de.Rm)("try reload - timeout = "+e),!c)throw new Error("no updater");c.reload(c.store,t,function(a,i,r){C=!1,a?((0,de.Rm)("    reloaded OK"),f(),y()?k(o):m("CONSISTENCY CHECK FAILED")):0===r.status?(m("Network error refreshing the pad. Retrying in "+e/1e3),C=!0,e*=2,setTimeout(n,e)):m("Error "+r.status+"refreshing the pad:"+i+". Stopped. "+t)})};n()}};if(o.refresh=w,o.reloadAndSync=E,a||(0,de.Rm)("Warning: must be logged in for pad to be edited"),r)(0,de.Rm)("Existing pad."),y()?(w(),s.holds(n,l("next"),n)&&g()):(0,de.Rm)(o.textContent="Inconsistent data. Abort");else{(0,de.Rm)("No pad exists - making new one.");var A=[(0,L.st)(n,R.rdf("type"),l("Notepad"),t),(0,L.st)(n,R.dc("author"),a,t),(0,L.st)(n,R.dc("created"),new Date,t),(0,L.st)(n,l("next"),n,t)];if(!c)throw new Error("no updater");c.update([],A,function(e,t,n){t?((0,de.Rm)("Initial pad created"),g()):m(n||"")})}return o}function ol(e,t){for(var n=[],a=t.the(e,al("next"));!a.sameTerm(e);a=t.the(a,al("next")))n.push(a);return n}function sl(e){return e.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;")}function cl(e,t){var n=ol(e,t),a="<html>\n  <head>\n",i=t.anyValue(e,R.dct("title"));i&&(a+="    <title>".concat(sl(i),"</title>\n")),a+="  </head>\n  <body>\n";var r=0;function o(e){for(;r>e;r--)a+="</ul>\n"}return n.forEach(function(e){var n=t.anyJS(e,al("indent")),i=t.anyJS(e,R.sioc("content"));if(i){var s=sl(i);if(n<0){o(0);var c=n>=-3?4+n:1;a+="\n<h".concat(c,">").concat(s,"</h").concat(c,">\n")}else n>0?(o(n),function(e){for(;r<e;r++)a+="<ul>\n"}(n),a+="<li>".concat(s,"</li>\n")):(o(n),a+="<p>".concat(s,"</p>\n"))}}),o(0),a+="  </body>\n</html>\n"}var ll={icons:Ge.Pt,ns:R,media:br,pad:A,style:Me,utils:g,widgets:C},ul=L.Namespace("http://www.w3.org/2002/01/bookmark#"),pl=ue,dl=window.document||null;function ml(e,t){return new Promise(function(n,a){f.updater.update(e,t,function(e,t,i){t?n():a(new Error(i))})})}function fl(){return(fl=N(O().mark(function e(t){var n,a,i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ul("Bookmark"),a="bookmarks.ttl",e.next=1,ji(t,n,true);case 1:if(!(t.instances&&t.instances.length>0)){e.next=2;break}t.bookmarkDocument=t.instances[0],t.instances.length>1&&de.R8("More than one bookmark file! "+t.instances),e.next=9;break;case 2:if(!t.publicProfile){e.next=8;break}return i=L.sym(t.publicProfile.dir().uri+a),e.prev=3,de.Rm("Creating new bookmark file "+i),e.next=4,f.fetcher.createIfNotExists(i);case 4:e.next=6;break;case 5:return e.prev=5,r=e.catch(3),de.R8("Can't make fresh bookmark file:"+r),e.abrupt("return",t);case 6:return e.next=7,u.registerInTypeIndex(i,t.index,n);case 7:t.bookmarkDocument=i,e.next=9;break;case 8:de.R8("You seem to have no bookmark file, nor even a profile file!");case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}},e,null,[[3,5]])}))).apply(this,arguments)}function hl(e,t){return vl.apply(this,arguments)}function vl(){return vl=N(O().mark(function e(t,n){var a,i,r,o,s,c,u,p;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",i=l.currentUser()){e.next=1;break}throw new Error("Must be logged on to add Bookmark");case 1:return r=f.any(n,R.foaf("maker")),a=pl(r)+": "+f.anyValue(n,R.sioc("content")).slice(0,80),o=t.bookmarkDocument,s=ll.widgets.newThing(o,a),c=[L.st(o,ll.ns.dct("references"),s,o),L.st(s,ll.ns.rdf("type"),ul("Bookmark"),o),L.st(s,ll.ns.dct("created"),new Date,o),L.st(s,ul("recalls"),n,o),L.st(s,ll.ns.foaf("maker"),i,o),L.st(s,ll.ns.dct("title"),a,o)],e.prev=2,e.next=3,ml([],c);case 3:e.next=5;break;case 4:return e.prev=4,p=e.catch(2),u="Making bookmark: "+p,de.R8(u),e.abrupt("return",null);case 5:return e.abrupt("return",s);case 6:case"end":return e.stop()}},e,null,[[2,4]])})),vl.apply(this,arguments)}function bl(e,t,n){return xl.apply(this,arguments)}function xl(){return(xl=N(O().mark(function e(t,n,a){var i,r,o,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,f.fetcher.load(t.bookmarkDocument);case 1:if(!(i=f.each(null,ul("recalls"),n,t.bookmarkDocument)).length){e.next=9;break}if(confirm("Delete bookmark on this?"+i.length)){e.next=2;break}return e.abrupt("return");case 2:r=0;case 3:if(!(r<i.length)){e.next=8;break}return e.prev=4,e.next=5,ml(f.connectedStatements(i[r]),[]);case 5:a.style.backgroundColor="white",de.Rm("Bookmark deleted: "+i[r]),e.next=7;break;case 6:e.prev=6,s=e.catch(4),de.z3("Cant delete bookmark:"+s),de.R8("Cannot delete bookmark:"+s);case 7:r++,e.next=3;break;case 8:e.next=11;break;case 9:return e.next=10,hl(t,n);case 10:o=e.sent,a.style.backgroundColor="yellow",de.Rm("Bookmark added: "+o);case 11:case"end":return e.stop()}},e,null,[[4,6]])}))).apply(this,arguments)}function gl(e,t){return yl.apply(this,arguments)}function yl(){return yl=N(O().mark(function e(t,n){var a,i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return i=N(O().mark(function e(n){var a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,f.fetcher.load(t.bookmarkDocument);case 1:a=f.any(null,ul("recalls"),n.target,t.bookmarkDocument),n.style=ll.style.buttonStyle,a&&(n.style.backgroundColor="yellow");case 2:case"end":return e.stop()}},e)})),i.apply(this,arguments)},a=function(e){return i.apply(this,arguments)},!t.bookmarkDocument){e.next=2;break}return(r=ll.widgets.button(dl,ll.icons.iconBase+"noun_45961.svg",pl(ul("Bookmark")),function(){bl(t,n,r)})).target=n,e.next=1,a(r);case 1:return e.abrupt("return",r);case 2:case"end":return e.stop()}},e)})),yl.apply(this,arguments)}var wl=window.document,kl={};function Cl(e,t){return El.apply(this,arguments)}function El(){return El=N(O().mark(function e(t,n){var a,i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){return(r=N(O().mark(function e(){var i,r,o;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.innerHTML="",!$c(t)){e.next=1;break}return e.abrupt("return",a);case 1:return e.next=2,qc(t);case 2:if(i=e.sent,0!==(r=i.map(function(e){return f.each(null,R.schema("target"),e,n)}).flat()).length){e.next=3;break}return e.abrupt("return",a);case 3:(o=r.map(function(e){return[f.any(e,R.rdf("type"),null,n),f.any(e,R.sioc("content"),null,n),f.any(e,R.schema("agent"),null,n)]})).sort(),o.forEach(function(e){var t,n=De(e,3),i=n[0],r=n[1],o=n[2];o?(t=wl.createElement("a")).setAttribute("href",o.uri):t=wl.createTextNode(""),t.textContent=r||kl[i]||"",a.appendChild(t)});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)},i=function(){return r.apply(this,arguments)},a=wl.createElement("span"),i().then(de.Rm("sentimentStripLinked: sentimentStripLinked async refreshed")),a.refresh=i,e.abrupt("return",a);case 1:case"end":return e.stop()}},e)})),El.apply(this,arguments)}function Al(e,t,n,a){return _l.apply(this,arguments)}function _l(){return _l=N(O().mark(function e(t,n,a,i){var r,o,s,c,u,p,d,m,h,v,b,x,g,y,w,k,C,E,A;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x=function(e,t,a,i,r,o){function s(){l.style.backgroundColor=c?"yellow":"white"}var c,l=$t(wl,a,ue(i),function(){var a=N(O().mark(function a(l){var p,d,m,v;return O().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!c){a.next=2;break}return a.next=1,h(c);case 1:c=null,s(),a.next=8;break;case 2:return c=ci(r),p=[L.st(c,R.schema("agent"),e.me,r),L.st(c,R.rdf("type"),i,r),L.st(c,R.schema("target"),t,r)],a.next=3,f.updater.update([],p);case 3:if(s(),!o){a.next=8;break}d=!1,m=0;case 4:if(!(m<o.length)){a.next=7;break}if(!(v=u(o[m]))){a.next=6;break}return a.next=5,h(v);case 5:d=!0;case 6:m++,a.next=4;break;case 7:d&&an(n);case 8:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}());function u(n){var a=f.each(null,R.schema("agent"),e.me,r).filter(function(e){return f.holds(e,R.rdf("type"),n,r)}).filter(function(e){return f.holds(e,R.schema("target"),t,r)});return a.length?a[0]:null}function p(){c=u(i),s()}return l.refresh=p,p(),l},v=function(){return(v=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,f.updater.update(f.connectedStatements(t),[]);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},h=function(e){return v.apply(this,arguments)},m=function(){d.parentElement.parentElement.removeChild(d.parentElement)},p=function(){return(p=N(O().mark(function e(){var n,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,i.createThread(t);case 1:if(n=e.sent,r=a.chatOptions){e.next=2;break}throw new Error("replyInThread: missing options");case 2:r.showThread(n,r),m();case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)},u=function(){return p.apply(this,arguments)},c=function(){return c=N(O().mark(function e(n){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b.value!==f.any(t,R.foaf("maker")).value){e.next=1;break}return m(),e.next=1,zl(n,t,i,a);case 1:case"end":return e.stop()}},e)})),c.apply(this,arguments)},s=function(e){return c.apply(this,arguments)},o=function(){return o=N(O().mark(function e(){var r,o,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.any(t,R.foaf("maker")),b){e.next=1;break}alert("You can't delete the message, you are not logged in."),e.next=7;break;case 1:if(!b.sameTerm(r)){e.next=6;break}return e.prev=2,e.next=3,i.deleteMessage(t);case 3:e.next=5;break;case 4:e.prev=4,s=e.catch(2),o="Error deleting messaage "+s,de.R8(o),alert(o),(a.statusArea||n.parentNode).appendChild(kt(wl,o));case 5:n.parentNode.removeChild(n),e.next=7;break;case 6:alert("You can't delete the message, you are not logged in as the author, "+r);case 7:m();case 8:case"end":return e.stop()}},e,null,[[2,4]])})),o.apply(this,arguments)},r=function(){return o.apply(this,arguments)},d=wl.createElement("div"),e.next=1,Wc(t).value;case 1:if(w=e.sent,k=R.schema("dateDeleted").value,w!==k){e.next=2;break}return e.abrupt("return",d);case 2:if((b=l.currentUser())&&f.holds(t,R.foaf("maker"),b)&&(d.appendChild(Jt(wl,d,"message",r)),d.appendChild($t(wl,Ge.Pt.iconBase+"noun_253504.svg","edit",function(){return s(n)}))),gl(a).then(function(e){e&&d.appendChild(e)}),b=l.currentUser(),!(C=b)){e.next=4;break}return e.next=3,Wc(t).value;case 3:E=e.sent,A=R.schema("dateDeleted").value,C=E!==A;case 4:if(!C){e.next=5;break}g={me:b,dom:wl,div:d},d.appendChild(x(g,t,Ge.Pt.iconBase+"noun_1384132.svg",R.schema("AgreeAction"),t.doc(),[R.schema("DisagreeAction")])),d.appendChild(x(g,t,Ge.Pt.iconBase+"noun_1384135.svg",R.schema("DisagreeAction"),t.doc(),[R.schema("AgreeAction")]));case 5:return f.any(t,R.dct("created"))&&d.appendChild($t(wl,Ge.Pt.iconBase+"noun-reply-5506924.svg","Reply in thread",N(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,u();case 1:case"end":return e.stop()}},e)})))),(y=d.appendChild(Kt(wl))).style.float="right",y.firstChild.style.opacity="0.3",y.addEventListener("click",m),e.abrupt("return",d);case 6:case"end":return e.stop()}},e)})),_l.apply(this,arguments)}function jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(n),!0).forEach(function(t){yn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ll(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ll(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}kl[R.schema("AgreeAction")]="",kl[R.schema("DisagreeAction")]="",kl[R.schema("EndorseAction")]="",kl[R.schema("LikeAction")]="";var Rl=window.document,Bl=Me.messageBodyStyle,Nl=ue;function Il(e,t){var n=Rl.createElement("img"),a="10";t.inlineImageHeightEms&&(a=(""+t.inlineImageHeightEms).trim()),n.setAttribute("style","max-height: "+a+"em; border-radius: 1em; margin: 0.7em;"),e&&n.setAttribute("src",e);var i=Rl.createElement("a");return i.setAttribute("href",e),i.setAttribute("target","images"),i.appendChild(n),qe(n,$rdf.sym(e)),i}var Ol=function(e,t){var n=Rl.createElement("a");return t&&t.uri&&(n.setAttribute("href",t.uri),n.addEventListener("click",on,!0),n.setAttribute("style","color: #3B5998; text-decoration: none; ")),n.textContent=e,n};function Fl(e){var t=f.any(e,R.foaf("nick"));return t?""+t.value:""+Nl(e)}function Dl(e,t,n,a){var i=e.appendChild(Ol(Fl(t),t));t.uri&&f.fetcher.nowOrWhenFetched(t.doc(),void 0,function(e,n){i.textContent=Fl(t)}),e.appendChild(Rl.createElement("br")),e.appendChild(Ol(n,a))}function Pl(e,t,n,a){var i=e.appendChild(Ol(Nl(t),t));t.uri&&f.fetcher.nowOrWhenFetched(t.doc(),void 0,function(e,n){i.textContent=Fl(t)});var r=e.appendChild(Ol(n,a));r.style.fontSize="80%",r.style.marginLeft="1em",e.appendChild(Rl.createElement("br"))}function Ul(e,t,n,a,i){return Ml.apply(this,arguments)}function Ml(){return Ml=N(O().mark(function e(t,n,a,i,r){var o,s,c,l,u,p,d,m,h,v,b,x,g,y,w,k,C,E,A,_,j,T,S,L,B,I,F,D,P,U,M,z,q,H,V;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return z=function(e){return e?"#e8ffe8":"white"},o=!1,s="1"===i.colorizeByAuthor||!0===i.colorizeByAuthor,c=f.any(n,R.foaf("maker")),l=f.any(n,R.dct("created")),e.next=1,Wc(n);case 1:return u=e.sent,p=f.any(u,R.foaf("maker")),d=c.uri===(null==p?void 0:p.uri)?u:n,m=f.any(d,R.sioc("content")),e.next=2,qc(d);case 2:(h=e.sent).length>1&&de.Rm("renderMessageRow versions: ",h.join(",  ")),v=h.map(function(e){return f.each(e,R.sioc("has_reply"))}).flat(),b=null,x=[],g=Sl(v);try{for(g.s();!(y=g.n()).done;)w=y.value,f.holds(w,R.rdf("type"),R.sioc("Thread"))?(b=w,de.Rm("renderMessageRow: found thread: "+b)):x.push(w)}catch(e){g.e(e)}finally{g.f()}return x.length>1&&de.Rm("renderMessageRow: found normal replies: ",x),b||(b=f.any(null,R.sioc("has_member"),n)),k=f.any(d,$rdf.sym("".concat(fc,"proofValue"))),(C=hc()).id=d.uri,C.created=f.any(d,R.dct("created")).value,C.content=m.value,C.maker=c.uri,null!=k&&k.value?Ic(c).then(function(e){e||de.R8("message is signed but "+c.uri+" is missing publicKey");null!=e&&e.match(/[0-9A-Fa-f]{6}/g)?null!=k&&k.value&&!bc(null==k?void 0:k.value,C,e)&&de.R8("invalid signature\n"+C.id):de.R8("invalid publicKey hex string\n"+c.uri+"\n"+e)}):(o=!0,de.R8(d.uri+" is unsigned")),e.next=3,Vc(n);case 3:return E=e.sent,A=!n.sameTerm(E),_=f.the(E,R.dct("created"),null,E.doc())||f.the(n,R.dct("created"),null,n.doc()),j=Rl.createElement("tr"),o&&j.setAttribute("style","background-color: red"),j.AJAR_date=_.value,j.AJAR_subject=n,T=Rl.createElement("td"),j.appendChild(T),i.authorDateOnLeft?Dl(T,c,It(_.value),n):((S=Rl.createElement("img")).setAttribute("style","max-height: 2.5em; max-width: 2.5em; border-radius: 0.5em; margin: auto;"),Gt(S,c),T.appendChild(S)),L=It(_.value),A&&(L+=" ... "+It(l.value)),B=j.appendChild(Rl.createElement("td")),i.authorDateOnLeft||Pl(B,c,L,n),I=m?m.value.trim():"??? no content?",F=/^https?:\/[^ <>]*$/i.test(I),D=null,F?/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test(I)&&i.expandImagesInline?(P=Il(I,i),B.appendChild(P)):(U=B.appendChild(Rl.createElement("a")),D=U.appendChild(Rl.createElement("p")),U.href=I,D.textContent=I,B.appendChild(U)):(D=Rl.createElement("p"),B.appendChild(D),D.textContent=I),D&&(M=s?il(c):z(a),D.setAttribute("style",Bl+"background-color: "+M+";")),e.next=4,Cl(n,n.doc());case 4:return(q=e.sent).children.length&&(B.appendChild(Rl.createElement("br")),B.appendChild(q)),H=Rl.createElement("td"),j.appendChild(H),V=$t(Rl,Ge.Pt.iconBase+"noun_243787.svg","..."),H.appendChild(V),V.addEventListener("click",function(){var e=N(O().mark(function e(a){var o,s,c;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.toolTR){e.next=1;break}return j.parentNode.removeChild(j.toolTR),delete j.toolTR,e.abrupt("return");case 1:return o=Rl.createElement("tr"),e.next=2,Al(n,j,Tl(Tl({},r),{},{chatOptions:i}),t);case 2:(s=e.sent).style="border: 0.05em solid #888; border-radius: 0 0 0.7em 0.7em;  border-top: 0; height:3.5em; background-color: #fff;",j.nextSibling?j.parentElement.insertBefore(o,j.nextSibling):j.parentElement.appendChild(o),j.toolTR=o,o.appendChild(Rl.createElement("td")),c=o.appendChild(Rl.createElement("td")),o.appendChild(Rl.createElement("td")),c.appendChild(s);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),b&&i.showThread&&H.appendChild($t(Rl,Ge.Pt.iconBase+"noun_1180164.svg","see thread",function(e){i.showThread(b,i)})),e.abrupt("return",j);case 5:case"end":return e.stop()}},e)})),Ml.apply(this,arguments)}function zl(e,t,n,a){return ql.apply(this,arguments)}function ql(){return(ql=N(O().mark(function e(t,n,a,i){var r,o,s,c,l,u,p;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.parentNode,s=Hl,c=a,l=r,u=i,p=a.options,e.next=1,Wc(n);case 1:o=s(c,l,u,p,e.sent),r.insertBefore(o,t),o.originalRow=t,t.style.visibility="hidden";case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Hl(e,t,n,a,i){function r(e){return o.apply(this,arguments)}function o(){return(o=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,s(h.value,!0);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(e,t){return c.apply(this,arguments)}function c(){return c=N(O().mark(function r(o,s){var c,l,u,p;return O().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l=function(){return l=N(O().mark(function r(o,c){var l;return O().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=1,Jl(e,t,o,!1,a,n);case 1:i?((l=b.originalRow).parentNode?l.parentNode.removeChild(l):(de.R8("No parentNode on old message "+l.textContent),l.style.backgroundColor="#fee",l.style.visibility="hidden"),b.parentNode.removeChild(b)):s&&(h.value="",h.setAttribute("style",Bl),h.disabled=!1,h.scrollIntoView(a.newestFirst),h.focus(),h.select());case 2:case"end":return r.stop()}},r)})),l.apply(this,arguments)},c=function(e,t){return l.apply(this,arguments)},s&&(h.setAttribute("style",Bl+"color: #bbb;"),h.disabled=!0),r.prev=1,r.next=2,e.updateMessage(o,i,null,a.thread);case 2:u=r.sent,r.next=4;break;case 3:return r.prev=3,p=r.catch(1),(n.statusArea||b).appendChild(kt(Rl,"Error writing message: "+p)),r.abrupt("return");case 4:return r.next=5,c(u,o);case 5:case"end":return r.stop()}},r,null,[[1,3]])})),c.apply(this,arguments)}function u(e){var n=t.chatDocument.dir().uri;He(f.fetcher,e,n+"Files",n+"Pictures",function(){var e=N(O().mark(function e(t,n){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,s(n);case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}var p,d,m=function(){var e=N(O().mark(function e(t){var n,a,i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Sl(t),e.prev=1,n.s();case 2:if((a=n.n()).done){e.next=4;break}return i=a.value,e.next=3,s(i);case 3:e.next=2;break;case 4:e.next=6;break;case 5:e.prev=5,r=e.catch(1),n.e(r);case 6:return e.prev=6,n.f(),e.finish(6);case 7:case"end":return e.stop()}},e,null,[[1,5,6,7]])}));return function(t){return e.apply(this,arguments)}}();i?(p=f.anyValue(i,R.dct("created"),null,i.doc()),d=Ge.Pt.iconBase+"noun_1180158.svg"):(d=Ge.Pt.iconBase+"noun_383448.svg",p="9999-01-01T00:00:00Z");var h,v,b=Rl.createElement("tr"),x=Rl.createElement("td"),g=Rl.createElement("td"),y=Rl.createElement("td");return b.appendChild(x),b.appendChild(g),b.appendChild(y),b.AJAR_date=p,ki({div:g,dom:Rl}).then(function(t){!function(){function t(){return(t=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=1;break}return e.next=1,s(t.uri);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}if(a.menuHandler){var n=$t(Rl,Ge.Pt.iconBase+"noun_243787.svg","More");n.setAttribute("style",Me.buttonStyle+"float: right;"),y.appendChild(n)}a.menuHandler;var o=l.currentUser();if(Dl(x,o,"",null),h=Rl.createElement("textarea"),g.innerHTML="",g.appendChild(h),h.rows=3,i&&(h.value=f.anyValue(i,R.sioc("content"),null,i.doc())),h.setAttribute("style",Bl+"background-color: #eef;"),h.addEventListener("keydown",function(){var e=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.code){e.next=1;break}if(!(!t.shiftKey&&!a.shiftEnterSendsMessage||t.shiftKey&&a.shiftEnterSendsMessage)){e.next=1;break}return e.next=1,r(t);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),!1),ze(h,m,u),y.innerHTML="",(v=$t(Rl,d,"Send")).style.float="right",v.addEventListener("click",function(e){return r()},!1),y.appendChild(v),i){var c=y.appendChild(Kt(Rl));c.style.float="left",c.addEventListener("click",function(e){return function(e){e.originalRow.style.visibility="visible",e.parentNode.removeChild(e)}(b)},!1),y.appendChild(c)}var p=e.dateFolder.leafDocumentFromDate(new Date);g.appendChild(br.cameraButton(Rl,f,function(){return $rdf.sym(p.dir().uri+"Image_"+Date.now()+".png")},function(e){return t.apply(this,arguments)})),el(e.channel,e.channel.doc())}(),Object.assign(t,n),function(e){return fl.apply(this,arguments)}(t).then(function(e){})}),b}function Vl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Gl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gl(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function Gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function Wl(e){"Notification"in window?"granted"===Notification.permission?new Notification(e):"denied"!==Notification.permission&&Notification.requestPermission().then(function(t){"granted"===t&&new Notification(e)}):de.R8("This browser does no t support desktop notification")}function Jl(e,t,n,a,i,r){return $l.apply(this,arguments)}function $l(){return($l=N(O().mark(function e(t,n,a,i,r,o){var s,c,l,u,p;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Ul(t,a,i,r,o);case 1:s=e.sent,r.selectedMessage&&r.selectedMessage.sameTerm(a)&&(s.style.backgroundColor="yellow",r.selectedElement=s,n.selectedElement=s),c=!1,l=n.firstChild;case 2:if(l){e.next=3;break}return e.abrupt("continue",5);case 3:if(u=!0===r.newestfirst,!((p=s.AJAR_date)>l.AJAR_date&&u||p<l.AJAR_date&&!u)){e.next=4;break}return n.insertBefore(s,l),c=!0,e.abrupt("continue",5);case 4:l=l.nextSibling,e.next=2;break;case 5:c||n.appendChild(s);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Kl(e,t,n,a){return Ql.apply(this,arguments)}function Ql(){return Ql=N(O().mark(function e(t,n,a,i){var r,o,s,c,l,u,p,d,m,h,v,b,x,g,y,w,k,C,E,A,_,j,T,S,B,I,F,D,P,U,M,z;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E=function(){return(E=N(O().mark(function e(){var t,n,a,r,o,s,c,l,u,p;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){i.selectedElement?i.selectedElement.scrollIntoView({block:"center"}):I.inputRow.scrollIntoView&&I.inputRow.scrollIntoView(A)},t=function(){u&&u.selectedElement&&u.selectedElement.scrollIntoView({block:"center"})},i.selectedMessage&&(r=i.selectedMessage.doc()),F&&(o=F.doc()),(s=r||o)&&(c=new Date,l=j.leafDocumentFromDate(c),a=l.sameTerm(s)),!s||a){e.next=2;break}return p=j.dateFromLeafDocument(s),e.next=1,d(p,a);case 1:u=e.sent,T.appendChild(u),D.messageTable=u,P.messageTable=u,t(),setTimeout(t,1e3),e.next=4;break;case 2:return e.next=3,g();case 3:D.messageTable=I,P.messageTable=I;case 4:return e.next=5,w(null,n);case 5:T.addEventListener("scroll",w),i.solo&&document.body.addEventListener("scroll",w);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)},C=function(){return E.apply(this,arguments)},k=function(){return(k=N(O().mark(function e(t,n){var a,r,o,s,c;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=1;break}return e.abrupt("return");case 1:z=!0,a=!n,r=150;case 2:if(!(T.scrollTop<r&&D.messageTable&&!D.messageTable.initial&&D.messageTable.extendBackwards)){e.next=6;break}if(0!==T.scrollHeight){e.next=3;break}return setTimeout(w,2e3),z=!1,e.abrupt("return");case 3:return s=T.scrollHeight-T.scrollTop,e.next=4,D.messageTable.extendBackwards();case 4:if(o=e.sent,a&&(T.scrollTop=T.scrollHeight-s),n&&n(),!o){e.next=5;break}return e.abrupt("continue",6);case 5:e.next=2;break;case 6:if(!(i.selectedMessage&&T.scrollHeight-T.scrollTop-T.clientHeight<r&&P.messageTable&&!P.messageTable.final&&P.messageTable.extendForwards)){e.next=9;break}return c=T.scrollTop,e.next=7,P.messageTable.extendForwards();case 7:if(o=e.sent,a&&(T.scrollTop=c),n&&n(),!o){e.next=8;break}return e.abrupt("continue",9);case 8:e.next=6;break;case 9:z=!1;case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)},w=function(e,t){return k.apply(this,arguments)},y=function(){return(y=N(O().mark(function e(){var t,n,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,n=j.leafDocumentFromDate(t),e.next=1,d(t,!0);case 1:return i=e.sent,T.appendChild(i),T.refresh=N(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,b(new Date);case 1:return e.next=2,r(a,i);case 2:Wl(a);case 3:case"end":return e.stop()}},e)})),f.updater.addDownstreamChangeListener(n,T.refresh),I=i,P.messageTable=I,e.abrupt("return",i);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},g=function(){return y.apply(this,arguments)},x=function(){return(x=N(O().mark(function e(){var t,n,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=j.leafDocumentFromDate(new Date)).sameTerm(P.messageTable.chatDocument)){e.next=2;break}return I.inputRow&&(I.removeChild(I.inputRow),delete I.inputRow),n=P.messageTable.chatDocument,e.next=1,g();case 1:if(!f.holds(n,R.rdfs("seeAlso"),t,n)){a=[L.st(n,R.rdfs("seeAlso"),t,n)];try{f.updater.update([],a)}catch(e){alert("Unable to link old chat file to new one:"+e)}}case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},b=function(){return x.apply(this,arguments)},v=function(){return v=N(O().mark(function e(n,a){var r,o,c,u,d,m,h,v,b,x,g,y,w,k,C,E,S,L,F,D;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b=function(){return(b=N(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.extendedForwards){e.next=1;break}p(!1,x),x.extendedForwards=!1,v(),e.next=3;break;case 1:return e.next=2,m();case 2:P.messageTable.scrollIntoView(A);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)},v=function(){if(o){var e=x.extendedForwards?!A:A,t=x.final?"noun_T-Block_1114657_000000.svg":function(e){return e?"noun_1369237.svg":"noun_1369241.svg"}(e);o.firstChild.setAttribute("src",Ge.Pt.iconBase+t)}},h=function(){return(h=N(O().mark(function e(){var t;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,l(!1);case 1:return t=e.sent,e.abrupt("return",t);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},m=function(){return h.apply(this,arguments)},d=function(){if(r){var e=x.extendedBack?!A:A,t=x.initial?"noun_T-Block_1114655_000000.svg":function(e){return e?"noun_1369241.svg":"noun_1369237.svg"}(e);r.firstChild.setAttribute("src",Ge.Pt.iconBase+t)}},u=function(){return(u=N(O().mark(function e(){var t;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,l(!0);case 1:return(t=e.sent)?(r&&(r.firstChild.setAttribute("src",Ge.Pt.iconBase+"noun_T-Block_1114655_000000.svg"),r.disabled=!0),x.initial=!0):x.extendedBack=!0,d(),e.abrupt("return",t);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)},c=function(){return u.apply(this,arguments)},r=null,o=null,(x=t.createElement("table")).style.width="100%",x.extendBackwards=c,x.extendForwards=m,x.date=n,g=j.leafDocumentFromDate(n),x.chatDocument=g,x.fresh=!1,x.setAttribute("style","width: 100%;"),a&&(x.final=!0,I=x,P.messageTable=x,y=Hl(_,x,B,i),A?x.insertBefore(y,x.firstChild):x.appendChild(y),x.inputRow=y),w=t.createElement("tr"),(k=w.appendChild(t.createElement("td"))).style="text-align: center; vertical-align: middle; color: #888; font-style: italic;",k.textContent=It(n.toISOString(),!0),C=w.appendChild(t.createElement("td")),i.includeRemoveButton&&C.appendChild(Kt(t,function(e){T.parentNode.removeChild(T)})),x.extendedForwards=!1,A?x.appendChild(w):x.insertBefore(w,x.firstChild),E=f.statementsMatching(null,R.wf("message"),null,g),!a&&E.length,S=Vl(E),e.prev=1,S.s();case 2:if((L=S.n()).done){e.next=4;break}return F=L.value,e.next=3,s(F.object,x);case 3:e.next=2;break;case 4:e.next=6;break;case 5:e.prev=5,D=e.catch(1),S.e(D);case 6:return e.prev=6,S.f(),e.finish(6);case 7:return x.fresh=!0,e.abrupt("return",x);case 8:case"end":return e.stop()}},e,null,[[1,5,6,7]])})),v.apply(this,arguments)},h=function(e,t){return v.apply(this,arguments)},m=function(){return(m=N(O().mark(function e(n,a){var i,r,o,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=j.leafDocumentFromDate(n),e.prev=1,e.next=2,f.fetcher.createIfNotExists(i);case 2:e.next=7;break;case 3:if(e.prev=3,s=e.catch(1),r=t.createElement("table"),o=r.appendChild(t.createElement("tr")),!s.response||!s.response.status||404!==s.response.status){e.next=5;break}return e.next=4,h(n,a);case 4:return e.abrupt("return",e.sent);case 5:de.Rm("*** Error NON 404 for chat file "+i),o.appendChild(kt(t,s,"pink"));case 6:return e.abrupt("return",o);case 7:return e.next=8,h(n,a);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,null,[[1,3]])}))).apply(this,arguments)},d=function(e,t){return m.apply(this,arguments)},p=function(e,t){if(e?A:!A)for(;t.nextSibling;)T.removeChild(t.nextSibling);else for(;t.previousSibling;)T.removeChild(t.previousSibling);(e?D:P).messageTable=t},u=function(){return(u=N(O().mark(function e(t){var n,a,i,r,o,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(n=t?D:P).messageTable.date,!(t&&D.limit&&a<=D.limit)){e.next=2;break}if(I){e.next=1;break}return e.next=1,g();case 1:return e.abrupt("return",!0);case 2:return e.next=3,j.loadPrevious(a,t);case 3:if((a=e.sent)||t||I){e.next=4;break}return e.next=4,g();case 4:if(a){e.next=5;break}return e.abrupt("return",!0);case 5:return i=!1,t||(r=j.leafDocumentFromDate(new Date),o=j.leafDocumentFromDate(a),i=o.sameTerm(r)),e.next=6,d(a,i);case 6:return s=e.sent,n.messageTable=s,(t?A:!A)?T.appendChild(s):T.insertBefore(s,T.firstChild),e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)},l=function(e){return u.apply(this,arguments)},c=function(){return c=N(O().mark(function e(t,n){var a,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!$c(t)||i.showDeletedMessages){e.next=1;break}return e.abrupt("return");case 1:if(a=f.any(null,R.sioc("has_member"),t,t.doc()),(r=f.any(t,R.sioc("id"),null,t.doc()))&&!a&&(a=f.any(null,R.sioc("has_member"),r,t.doc())),!i.thread){e.next=5;break}if(!f.holds(t,R.sioc("has_reply"),i.thread)){e.next=2;break}e.next=4;break;case 2:if(!a||!a.sameTerm(i.thread)){e.next=3;break}e.next=4;break;case 3:return e.abrupt("return");case 4:e.next=6;break;case 5:if(!a){e.next=6;break}return e.abrupt("return");case 6:if(n.fresh){e.next=7;break}return e.next=7,Jl(_,n,t,n.fresh,i,B);case 7:case"end":return e.stop()}},e)})),c.apply(this,arguments)},s=function(e,t){return c.apply(this,arguments)},o=function(){return o=N(O().mark(function e(t,n){var a,i,r,o,c,l,u,p,d;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a={},i=n.firstChild;i;i=i.nextSibling)i.AJAR_subject&&(a[i.AJAR_subject.uri]=!0);o=f.each(t,R.wf("message"),null,n.chatDocument),c={},l=Vl(o),e.prev=1,l.s();case 2:if((u=l.n()).done){e.next=4;break}if(p=u.value,c[p.uri]=!0,a[p.uri]){e.next=3;break}return e.next=3,s(p,n);case 3:e.next=2;break;case 4:e.next=6;break;case 5:e.prev=5,d=e.catch(1),l.e(d);case 6:return e.prev=6,l.f(),e.finish(6);case 7:for(i=n.firstChild;i;)r=i.nextSibling,i.AJAR_subject&&!c[i.AJAR_subject.uri]&&n.removeChild(i),i=r;for(i=n.firstChild;i;i=i.nextSibling)i.AJAR_subject&&an(i);case 8:case"end":return e.stop()}},e,null,[[1,5,6,7]])})),o.apply(this,arguments)},r=function(e,t){return o.apply(this,arguments)},(i=i||{}).authorDateOnLeft=!1,A="1"===i.newestFirst||!0===i.newestFirst,_=new zc(a,i),j=_.dateFolder,T=t.createElement("div"),_.div=T,S=T.appendChild(t.createElement("div")),B={dom:t,statusArea:S,div:S},D={messageTable:null},P={messageTable:null},i.thread&&(U=i.thread,(F=f.any(null,R.sioc("has_reply"),U,U.doc()))&&(M=f.any(F,R.dct("created"),null,F.doc()))&&(D.limit=new Date(M.value))),z=!1,e.next=1,C();case 1:return e.abrupt("return",T);case 2:case"end":return e.stop()}},e)})),Ql.apply(this,arguments)}var Zl=f,Yl=[];function Xl(e){return Yl[e]}function eu(e,t){if("string"!=typeof t)throw de.Rm("Non-string value of preference "+e+": "+t),new Error("Non-string value of preference "+e+": "+t);this.value[e]=t}function tu(e,t){return new Promise(function(n,a){var i=Zl.any(e,R.ui("sharedPreferences"));if(i)t.sharedPreferences=i,n(t);else{Zl.updater.editable(e.doc())||(de.Rm(" Cant make shared preferences, may not change ".concat(e.doc)),n(t));var r=L.sym(e.doc().uri+"#SharedPreferences"),o=[L.st(e,R.ui("sharedPreferences"),r,e.doc())];de.Rm("Creating shared preferences "+r),Zl.updater.update([],o,function(e,i,o){i?(t.sharedPreferences=r,n(t)):a(new Error("Error creating shared prefs: "+o))})}})}function nu(e,t){return new Promise(function(n,a){Ci(t).then(function(t){if(t.preferencesFile){var i,r,o=Zl.each(null,R.solid("forClass"),e,t.preferencesFile),s=[];if(o.length){if(o.forEach(function(e){i=i||Zl.any(e,R.solid("personalDefaults"))}),i)return t.personalDefaults=i,void n(t);i=ci(t.preferencesFile),r=o[0]}else r=ci(t.preferencesFile),s=[L.st(r,R.rdf("type"),R.solid("TypeRegistration"),t.preferencesFile),L.st(r,R.solid("forClass"),e,t.preferencesFile)];i=ci(t.preferencesFile),s.push(L.st(r,R.solid("personalDefaults"),i,t.preferencesFile)),Zl.updater.update([],s,function(r,o,s){o?(t.personalDefaults=i,n(t)):a(new Error("Setting preferences for "+e+": "+s))})}else de.Rm("Not doing private class preferences as no access to preferences file. "+t.preferencesFileError)},function(e){a(e)})})}function au(e,t,n,a){var i=a.dom.createElement("div");return Xc(e,e.doc(),a.me).then(function(r){var o=a.dom;function s(e){i.appendChild(o.createElement("h5")).textContent=e}s("My view of this "+a.noun),$a(o,i,{},r,n,e.doc(),function(e,t){e||Rt(a,t)}),s("Everyone's  view of this "+a.noun),tu(e,a).then(function(a){var r=a.sharedPreferences;$a(o,i,{},r,n,e.doc(),function(e,t){e||Rt(a,t)}),s("My default view of any "+a.noun),nu(t,a).then(function(e){$a(o,i,{},e.personalDefaults,n,e.preferencesFile,function(t,n){t||Rt(e,n)})},function(e){Rt(a,e)})})},function(e){i.appendChild(kt(a.dom,e))}),i}function iu(e){return e.datatype?e.datatype.equals(R.xsd("boolean"))?"1"===e.value:e.datatype.equals(R.xsd("dateTime"))||e.datatype.equals(R.xsd("date"))?new Date(e.value):e.datatype.equals(R.xsd("integer"))||e.datatype.equals(R.xsd("float"))||e.datatype.equals(R.xsd("decimal"))?Number(e.value):e.value:e}function ru(e,t,n,a){return new Promise(function(i,r){tu(e,a).then(function(a){var o=a.sharedPreferences;if(a.me)Xc(e,e.doc(),a.me).then(function(e){nu(t,a).then(function(t){var a=[],r=t.personalDefaults;n.forEach(function(t){var n=Zl.any(e,t)||Zl.any(o,t)||Zl.any(r,t);n&&(a[t.uri]=iu(n))}),i(a)},r)},r);else{var s=[];n.forEach(function(e){var t=Zl.any(o,e);t&&(s[e.uri]=iu(t))}),i(s)}})})}var ou={icons:Ge.Pt,log:x,ns:R,utils:g,widgets:C};function su(e,t){var n,a,i,r,o=t.sourceDocument,s=t.tableClass,c=t.query,l=ou.ns,u=f,p={},d={"http://www.w3.org/2002/07/owl#sameAs":!0,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":!0},m={"http://www.w3.org/2001/XMLSchema#decimal":!0,"http://www.w3.org/2001/XMLSchema#float":!0,"http://www.w3.org/2001/XMLSchema#double":!0,"http://www.w3.org/2001/XMLSchema#integer":!0,"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":!0,"http://www.w3.org/2001/XMLSchema#positiveInteger":!0,"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":!0,"http://www.w3.org/2001/XMLSchema#negativeInteger":!0,"http://www.w3.org/2001/XMLSchema#long":!0,"http://www.w3.org/2001/XMLSchema#int":!0,"http://www.w3.org/2001/XMLSchema#short":!0,"http://www.w3.org/2001/XMLSchema#byte":!0,"http://www.w3.org/2001/XMLSchema#unsignedLong":!0,"http://www.w3.org/2001/XMLSchema#unsignedInt":!0,"http://www.w3.org/2001/XMLSchema#unsignedShort":!0,"http://www.w3.org/2001/XMLSchema#unsignedByte":!0},h={"http://www.w3.org/2001/XMLSchema#dateTime":!0,"http://www.w3.org/2001/XMLSchema#date":!0},v={"http://xmlns.com/foaf/0.1/Image":!0,"http://purl.org/dc/terms/Image":!0},b=t.keyVariable||"?_row",x=0,g=null,y=null,w=e.createElement("div");w.className="tableViewPane",w.appendChild(function(){var t=e.createElement("table");t.setAttribute("class","toolbar");var n=e.createElement("tr");return i=e.createElement("td"),n.appendChild(i),r=e.createElement("td"),n.appendChild(r),t.appendChild(n),t}());var k,C=e.createElement("div");if(w.appendChild(C),w.refresh=function(){Z(k.query,k.logicalRows,k.columns,k)},c)k=ee(c),C.appendChild(k);else{var E=function(){var e,t,n=function(){for(var e={},t=u.statementsMatching(void 0,ou.ns.rdf("type"),s,o),n={},a=0;a<t.length;++a){var i=t[a].object;if("NamedNode"===i.termType){var r=I(e,i);i.uri in n||(n[i.uri]=[]),n[i.uri].push(t[a].subject),r.addUse()}}return[n,e]}();for(var a in e=n[0],t=n[1],e){var i=e[a];F(t[a],i)}var r=new T(null);return[r,R(t)]}();n=E[0],a=E[1],s||i.appendChild(function(t,n){var a=e.createElement("div");a.appendChild(e.createTextNode("Select type: "));var i=e.createElement("select");for(var r in i.appendChild(B("All types","null")),n)i.appendChild(B(n[r].getLabel(),r));return i.addEventListener("click",function(){var e;e="null"===i.value?t:n[i.value],_(e)},!1),a.appendChild(i),a}(n,a)),y=function(e){var t,n=-1,a=null;for(t in e){var i=e[t];i.useCount>n&&(a=i,n=i.useCount)}return a}(a),_(y||n)}return w;function A(e){var t=new L.Query,n=u.variable(b.slice(1));return function(e,t){for(var n=t.getColumns(),a=0;a<n.length;++a){var i=u.variable("_col"+a);e.vars.push(i),n[a].setVariable(i)}}(t,e),function(e,t,n){var a=n.type;a||(a=u.variable("_any")),e.pat.add(t,ou.ns.rdf("type"),a)}(t,n,e),function(e,t,n){for(var a=n.getColumns(),i=0;i<a.length;++i){var r=a[i],o=u.formula();o.add(t,r.predicate,r.getVariable()),e.pat.optional.push(o)}}(t,n,e),t}function _(t){j(r),r.appendChild(function(t){var n=e.createElement("div"),a=t.getUnusedColumns();if(a.sort(function(e,t){var n=e.sortKey(),a=t.sortKey();return(n>a)-(n<a)}),a.length>0){n.appendChild(e.createTextNode("Add column: "));var i=e.createElement("select");i.appendChild(B("","-1"));for(var r=0;r<a.length;++r){var o=a[r];i.appendChild(B(o.getLabel(),""+r))}n.appendChild(i),i.addEventListener("click",function(){var e=Number(i.value);e>=0&&(t.addColumn(a[e]),_(t))},!1)}return n}(t)),function(e,t){g&&(g.running=!1);var n=ee(e,t);j(C),C.appendChild(n),g=e}(A(t),t)}function j(e){for(;e.childNodes.length>0;)e.removeChild(e.childNodes[0])}function T(e){this.type=e,this.columns=null,this.allColumns=[],this.useCount=0,this.getAllColumns=function(){return this.allColumns},this.getColumns=function(){if(!this.columns){var e=this.getAllColumns();this.columns=e.slice(0,7)}return this.columns},this.getUnusedColumns=function(){for(var e=this.getAllColumns(),t=this.getColumns(),n=[],a=0;a<e.length;++a)-1===t.indexOf(e[a])&&n.push(e[a]);return n},this.addColumn=function(e){this.columns.push(e)},this.removeColumn=function(e){this.columns=this.columns.filter(function(t){return t!==e})},this.getLabel=function(){return ue(this.type)},this.addUse=function(){this.useCount+=1}}function S(){this.useCount=0,this.checkedAnyValues=!1,this.possiblyLiteral=!0,this.possiblyNumber=!0,this.constraints=[],this.checkValue=function(e){var t=e.termType;if(this.possiblyLiteral&&"Literal"!==t&&"NamedNode"!==t)this.possiblyNumber=!1,this.possiblyLiteral=!1;else if(this.possiblyNumber){if("Literal"!==t)this.possiblyNumber=!1;else e.value.match(/^-?\d+(\.\d*)?$/)||(this.possiblyNumber=!1)}this.checkedAnyValues=!0},this.getVariable=function(){return this.variable},this.setVariable=function(e){this.variable=e},this.getKey=function(){return this.variable.toString()},this.addUse=function(){this.useCount+=1},this.getHints=function(){return t&&t.hints&&this.variable&&t.hints[this.variable.toNT()]?t.hints[this.variable.toNT()]:{}},this.getLabel=function(){return this.getHints().label?this.getHints().label:this.predicate?this.predicate.sameTerm(l.rdf("type"))&&this.superClass?ue(this.superClass,!0):ue(this.predicate):this.variable?this.variable.toString():"unlabeled column?"},this.setPredicate=function(e,t,n){t?(this.inverse=e,this.constraints=this.constraints.concat(u.each(e,ou.ns.rdfs("domain"))),e.sameTerm(l.rdfs("subClassOf"))&&"NamedNode"===n.termType&&(this.superClass=n,this.alternatives=u.each(void 0,l.rdfs("subClassOf"),n))):(this.predicate=e,this.constraints=this.constraints.concat(u.each(e,ou.ns.rdfs("range"))))},this.getConstraints=function(){return this.constraints},this.filterFunction=function(){return!0},this.sortKey=function(){return this.getLabel().toLowerCase()},this.isImageColumn=function(){for(var e=0;e<this.constraints.length;e++)if(this.constraints[e].uri in v)return!0;return!1}}function R(e,t){var n=[];for(var a in e){var i=e[a];t&&!t(a,i)||n.push(i)}return n}function B(t,n){var a=e.createElement("option");return a.setAttribute("value",n),a.appendChild(e.createTextNode(t)),a}function N(e,t){var n;return t.uri in e?n=e[t.uri]:((n=new S).setPredicate(t),e[t.uri]=n),n}function I(e,t){var n;return t.uri in e?n=e[t.uri]:(n=new T(t),e[t.uri]=n),n}function O(e,t){for(var n=u.statementsMatching(e,void 0,void 0,o),a={},i=0;i<n.length;++i){var r=n[i].predicate;if(!(r.uri in d)){var s=N(t,r);s.checkValue(n[i].object),a[r.uri]=s}}return a}function F(e,t){for(var n={},a=0;a<t.length;++a){var i=O(t[a],n);for(var r in i){i[r].addUse()}}var o=R(n);!function(e){function t(e,t){return(e.useCount<t.useCount)-(e.useCount>t.useCount)}e.sort(t)}(o),e.allColumns=o}function D(t,n){var a=e.createElement("a");return a.appendChild(e.createTextNode("[x]")),a.addEventListener("click",function(){t.removeColumn(n),_(t)},!1),a}function P(e,t){for(var n=!0,a=0;a<t.length;++a){var i=t[a],r=i.getKey(),o=null;if(r in e.values&&(o=e.values[r][0]),!i.filterFunction(o)){n=!1;break}}var s=e._htmlRow;s.style.display=n?"":"none"}function U(e,t){for(var n=0;n<e.length;++n){P(e[n],t)}}function M(e,t,n){function a(e){return e?"Literal"===e.termType?e.value.toLowerCase():"NamedNode"===e.termType?ue(e).toLowerCase():e.value.toLowerCase():""}!function(e,t,n,a){var i=t.getKey();if(e.sort(function(e,t){var r=null,o=null;i in e.values&&(r=e.values[i][0]),i in t.values&&(o=t.values[i][0]);var s=n(r,o);return a?-s:s}),e.length){for(var r=e[0]._htmlRow.parentNode,o=0;o<e.length;++o)r.removeChild(e[o]._htmlRow);for(var s=0;s<e.length;++s)r.appendChild(e[s]._htmlRow)}}(e,t,function(e,t){var n=a(e),i=a(t);return n<i?-1:n>i?1:0},n)}function z(t,n,a){var i=e.createElement("div"),r=e.createElement("input");r.setAttribute("type","text"),r.style.width="70%",i.appendChild(r);var o=e.createElement("span");o.appendChild(e.createTextNode("")),o.addEventListener("click",function(){M(t,a,!1)},!1),i.appendChild(o);var s=e.createElement("span");s.appendChild(e.createTextNode("")),s.addEventListener("click",function(){M(t,a,!0)},!1),i.appendChild(s);var c=null;return a.filterFunction=function(e){return!c||!!e&&("Literal"===e.termType?e.value:"NamedNode"===e.termType?ue(e):"").toLowerCase().indexOf(c)>=0},r.addEventListener("keyup",function(){c=""!==r.value?r.value.toLowerCase():null,U(t,n)},!1),i}function q(t,n,a,i){for(var r=e.createElement("div"),o=e.createElement("select"),s={},c=0;c<i.length;++c){var l=i[c];s[l.uri]=!0}var u=W(a).initialSelection;u&&(s=u),o.setAttribute("multiple","true");for(var p=0;p<i.length;++p){var d=i[p],m=B(ue(d),p);s[d.uri]&&(m.selected=!0),o.appendChild(m)}return r.appendChild(o),a.filterFunction=function(e){return!s||e&&s[e.uri]},o.addEventListener("click",function(){s={};for(var e=o.options,a=0;a<e.length;a++){var r=e[a],c=Number(r.value);e[a].selected&&(s[i[c].uri]=!0)}U(t,n)},!0),r}function H(t,n,a){var i=e.createElement("div"),r=e.createElement("input");r.setAttribute("type","text"),r.style.width="40px",i.appendChild(r);var o=e.createElement("input");o.setAttribute("type","text"),o.style.width="40px",i.appendChild(o);var s=null,c=null;function l(){s=""===r.value?null:Number(r.value),c=""===o.value?null:Number(o.value),U(t,n)}return a.filterFunction=function(e){return e&&(e=Number(e)),!(s&&(!e||e<s))&&!(c&&(!e||e>c))},r.addEventListener("keyup",l,!1),o.addEventListener("keyup",l,!1),i}function V(e,t,n){if(n.superClass&&n.alternatives.length>0)return q(e,t,n,n.alternatives);for(var a,i=n.getConstraints(),r=0;r<i.length;r++){if(a=i[r],n.checkedAnyValues&&n.possiblyNumber||a.uri in m)return H(e,t,n);if("http://www.w3.org/2000/01/rdf-schema#Literal"===a.uri)return z(e,t,n);var o=u.each(a,ou.ns.owl("oneOf"));if(o.length>0)return q(e,t,n,o.elements)}return function(e,t,n){return n.checkedAnyValues&&n.possiblyNumber?H(e,t,n):n.possiblyLiteral?z(e,t,n):null}(e,t,n)}function G(t,n,a){a=a||{};var i=e.createElement("a"),r=a.linkFunction;return i.setAttribute("href",t),i.appendChild(e.createTextNode(n)),r?i.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=at(e).getAttribute("href");t||de.Rm("No href found \n"),r(t)},!0):i.addEventListener("click",ou.widgets.openHrefInOutlineMode,!0),i}function W(e){return t&&t.hints&&e.variable&&t.hints[e.variable.toNT()]?t.hints[e.variable.toNT()]:{}}function J(t,n){var a=W(n),i=a.cellFormat;if(!i){if("Literal"===t.termType){if(t.datatype){if(h[t.datatype.uri])return e.createTextNode(ou.widgets.shortDate(t.value));if(m[t.datatype.uri]){var r=e.createElement("span");return r.textContent=t.value,r.setAttribute("style","text-align: right"),r}}return e.createTextNode(t.value)}if("NamedNode"===t.termType&&n.isImageColumn())return function(t){var n=e.createElement("img");return n.setAttribute("src",t.uri),n.style.height="40px",n}(t);if("NamedNode"===t.termType||"BlankNode"===t.termType)return function(e,t){var n=!1;return e.uri&&(n=e.uri.match(/^mailto:(.*)/)),G(e.uri,n?n[1]:ue(e),t)}(t,a);if("Collection"===t.termType){var o=e.createElement("span");return o.appendChild(e.createTextNode("[")),t.elements.forEach(function(t){o.appendChild(J(t,n)),o.appendChild(e.createTextNode(", "))}),o.removeChild(o.lastChild),o.appendChild(e.createTextNode("]")),o}return e.createTextNode("unknown termtype '"+t.termType+"'!")}if("shortDate"===i)return e.createTextNode(ou.widgets.shortDate(t.value))}function $(e,t){var n,a=null;if("Literal"===e.termType)a="value";else{if("NamedNode"!==e.termType)return t.indexOf(e)>=0;a="uri"}for(n=0;n<t.length;++n)if(t[n].termType===e.termType&&t[n][a]===e[a])return!0;return!1}function K(t,n,a){var i,r=!1;for(i in a){var o=a[i];i in t.values||(t.values[i]=[]),$(o,t.values[i])||(t.values[i].push(o),r=!0)}r&&(j(t._htmlRow),function(t,n,a){var i=e.createElement("td");n._subject&&"uri"in n._subject&&i.appendChild(G(n._subject.uri,"")),t.appendChild(i);for(var r=0;r<a.length;++r){var o=a[r],s=e.createElement("td"),c=void 0,l=o.getKey();if(l in n.values){var u=n.values[l],p=!1;n.originalValues&&n.originalValues[l]&&u.length!==n.originalValues[l].length&&(p=!0);for(var d=0;d<u.length;++d){var m=u[d];n.originalValues&&n.originalValues[l]&&n.originalValues[l].length>d&&(c=n.originalValues[l][d],m.toString()!==c.toString()&&(p=!0)),s.appendChild(J(m,o)),d!==u.length-1&&s.appendChild(e.createTextNode(",\n")),p&&(s.style.background="#efe")}}t.appendChild(s)}n._htmlRow=t}(t._htmlRow,t,n)),P(t,n)}function Q(e){if("uri"in e)return e.uri;if("_subject_id"in e)return e._subject_id;var t=""+x;return e._subject_id=t,++x,t}function Z(n,a,i,r){n.running=!0;var o=Date.now(),s=e.createElement("tr");r.appendChild(s),s.textContent="Loading ...";for(var c=0;c<a.length;c++)a[c].original=!0,a[c].originalValues||(a[c].originalValues=a[c].values),a[c].values={};u.query(n,function(t){if(n.running){s.textContent+=".";var o,c=null,l=null;if(b in t&&(o=Q(l=t[b]))in p&&(c=p[o]),!c){var u=e.createElement("tr");r.appendChild(u),c={_htmlRow:u,_subject:l,values:{}},a.push(c),l&&(p[o]=c)}delete c.original,K(c,i,t)}},void 0,function(){s&&s.parentNode&&s.parentNode.removeChild&&(s.parentNode.removeChild(s),s=null);var e=Date.now()-o;de.Rm("Query done: "+a.length+" rows, "+e+"ms");for(var n=a.length-1;n>=0;n--)if(a[n].original){de.Rm("   deleting row "+a[n]._subject);var r=a[n]._htmlRow;r.parentNode.removeChild(r),delete p[Q(a[n]._subject)],a.splice(n,1)}if(t.sortBy){var c=function(e,t){for(var n in e){var a=e[n];if(a.variable.toNT()===t)return a}throw new Error("getColumnForVariable: no column for variable ".concat(t))}(i,t.sortBy);M(a,c,t.sortReverse)}t.onDone&&t.onDone(w)})}function Y(e,t){ou.log.debug(">> processing formula");for(var n=0;n<t.statements.length;++n){var a=t.statements[n];if("NamedNode"===a.predicate.termType&&"Variable"===a.object.termType){var i=a.object.toString();if(i in e)e[i].setPredicate(a.predicate,!1,a.subject)}if("NamedNode"===a.predicate.termType&&"Variable"===a.subject.termType){var r=a.subject.toString();if(r in e)e[r].setPredicate(a.predicate,!0,a.object)}}for(var o=0;o<t.optional.length;++o)ou.log.debug("recurse to optional subformula "+o),Y(e,t.optional[o]);ou.log.debug("<< finished processing formula")}function X(e){for(var t=[],n={},a=0;a<e.vars.length;++a){var i=new S,r=e.vars[a];ou.log.debug("column "+a+" : "+r),i.setVariable(r),n[r]=i,t.push(i)}return Y(n,e.pat),t}function ee(t,n){var a;a=c?X(t):n.getColumns();var i=[],r=e.createElement("table");return r.appendChild(function(t,n){var a=e.createElement("tr"),i=e.createElement("th");a.appendChild(i);for(var r=0;r<t.length;++r){var o=e.createElement("th"),s=t[r];o.appendChild(e.createTextNode(s.getLabel())),n&&o.appendChild(D(n,s)),a.appendChild(o)}return a}(a,n)),r.appendChild(function(t,n){var a=e.createElement("tr");a.className="selectors",a.appendChild(e.createElement("td"));for(var i=0;i<n.length;++i){var r=e.createElement("td"),o=V(t,n,n[i]);o&&r.appendChild(o),a.appendChild(r)}return a}(i,a)),r.logicalRows=i,r.columns=a,r.query=t,Z(t,i,a,r),r}}function cu(e,t){if(t&&("object"==Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lu(e){return lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lu(e)}function uu(e,t){return uu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uu(e,t)}function pu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pu=function(){return!!e})()}function du(e){var t="function"==typeof Map?new Map:void 0;return du=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(pu())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var i=new(e.bind.apply(e,a));return n&&uu(i,n.prototype),i}(e,arguments,lu(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),uu(n,e)},du(e)}function mu(e,t,n){return t=lu(t),cu(e,fu()?Reflect.construct(t,n||[],lu(e).constructor):t.apply(e,n))}function fu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fu=function(){return!!e})()}var hu=function(){function e(){return Le(this,e),mu(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uu(e,t)}(e,du(HTMLElement)),Ie(e)}(),vu="#ddddcc";function bu(e){var t=e.subject,n=e.dom||document,a=parseInt(e.orientation||"0"),i=e.backgroundColor||vu,r=2&a,o=1&a,s=e.onClose,c=function(e){return function(e){for(var t=0,n=0;n<3;n++)t+=parseInt(e.slice(2*n+1,2*n+3),16);return t>384}(e)?[xu(e,"#ffffff",.3),"#000000"]:[xu(e,"#000000",.3),"#ffffff"]}(i),l=De(c,2),u=l[0],p=l[1],d="flex: 2; width: auto; height: 100%; border: 0.1em; border-style: solid; border-color: ".concat(u,"; padding: 1em;"),m=n.createElement("div");m.setAttribute("style",Me.tabsRootElement),m.style.flexDirection=(o?"row":"column")+(r?"-reverse":"");var h=m.appendChild(n.createElement("nav"));h.setAttribute("style",Me.tabsNavElement);var v=m.appendChild(n.createElement("main"));v.setAttribute("style",Me.tabsMainElement);var b=h.appendChild(n.createElement("ul"));b.setAttribute("style",Me.tabContainer),b.style.flexDirection="".concat(o?"column":"row");var x=v;m.tabContainer=b,m.bodyContainer=x;var g=["0.2em","0.2em","0","0"],y=g.concat(g).slice(a,a+4),w="border-radius: ".concat(y.join(" "),";"),k=["0.3em","0.3em","0","0.3em"],C=k.concat(k).slice(a,a+4),E="margin: ".concat(C.join(" "),";"),A="padding: ".concat(C.join(" "),";"),_=w+"position: relative; padding: 0.7em; max-width: 20em; color: ".concat(p,";"),j="".concat(_+E," opacity: 50%; background-color: ").concat(i,";"),T="".concat(_+E," background-color: ").concat(u,";"),S="height: 100%; width: 100%;",L=S+"display: none;";if(m.refresh=F,F(),!e.startEmpty&&b.children.length&&e.selectedTab){var R=Array.from(b.children).map(function(e){return e.firstChild}).find(function(t){return t.dataset.name===e.selectedTab}),B=e.selectedTab.uri,N=Array.from(b.children).find(function(e){return e.subject&&e.subject.uri&&e.subject.uri===B}),I=(N||R||b.children[0]).firstChild;I&&I.click()}else e.startEmpty||b.children[0].firstChild.click();return m;function O(t){var a=n.createElement("li");a.setAttribute("style",j),a.subject=t;var i=a.appendChild(n.createElement("button"));if(i.setAttribute("style",Me.makeNewSlot),i.onclick=function(){if(D(),P(),a.setAttribute("style",T),a.bodyTR){a.bodyTR.setAttribute("style",S);var n=o(a);e.renderMain&&a.subject&&!1!==n.asSettings&&(n.innerHTML="loading item ..."+t,e.renderMain(n,a.subject),n.asSettings=!1)}},e.renderTabSettings&&a.subject){var r=n.createElement("button");r.textContent="...",r.setAttribute("style",Me.ellipsis),r.onclick=function(){if(D(),P(),a.setAttribute("style",T),a.bodyTR){a.bodyTR.setAttribute("style",S);var n=o(a);e.renderTabSettings&&a.subject&&!0!==n.asSettings&&(n.innerHTML="loading settings ..."+t,e.renderTabSettings(n,a.subject),n.asSettings=!0)}},a.appendChild(r)}return e.renderTab?e.renderTab(i,t):i.innerHTML=ue(t),a;function o(e){var t,a=null===(t=e.bodyTR)||void 0===t?void 0:t.children[0];if(a)return a;var i=e.bodyTR.appendChild(n.createElement("main"));return i.setAttribute("style",d),i}}function F(){var a,i,r,o,c,l=e.items?e.items:!1!==e.ordered?f.the(t,e.predicate).elements:f.each(t,e.predicate),u=!1;for(o=0;o<b.children.length;o++)if(a=b.children[o],o>=l.length||a.subject&&!a.subject.sameTerm(l[o])){u=!0;break}if(u||l.length!==b.children.length){for(c=b.children.length-1;c>=0&&(a=b.children[c],r=c-b.children.length+l.length,!a.subject||a.subject.sameTerm(l[r]));c--);for(var p=l.slice(o,c-b.children.length+l.length+1);c>=o;)b.removeChild(b.children[o]),x.removeChild(x.children[o]),c-=1;for(i=0;i<p.length;i++){var d=O(p[i]),m=n.createElement("div");d.bodyTR=m,o===b.children.length?(b.appendChild(d),x.appendChild(m)):(b.insertBefore(d,b.children[o+i]),x.insertBefore(m,x.children[o+i]))}s&&function(e){if(e.dataset.onCloseSet){var t=e.querySelector(".unstyled");e.removeChild(t)}var a=n.createElement("li");a.classList.add("unstyled");var i=Kt(n,s);i.setAttribute("style",i.getAttribute("style")+A),a.appendChild(i),e.appendChild(a),e.dataset.onCloseSet="true"}(b)}}function D(){for(var e=0;e<b.children.length;e++){var t=b.children[e];t.classList.contains("unstyled")||t.setAttribute("style",j)}}function P(){for(var e=0;e<x.children.length;e++)x.children[e].setAttribute("style",L)}}function xu(e,t,n){for(var a,i,r="#",o="0123456789abcdef",s=0;s<3;s++){a=parseInt(e.slice(2*s+1,2*s+3),16),i=parseInt(t.slice(2*s+1,2*s+3),16);var c=parseInt((""+(a*(1-n)+i*n)).split(".")[0]),l=parseInt((""+c/16).split(".")[0]),u=parseInt((""+c%16).split(".")[0]);r+=o[l]+o[u]}return r}var gu='\n<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z" fill="#D8D8D8" stroke="#8B8B8B"/>\n    <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="26" height="26">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z" fill="white" stroke="white"/>\n    </mask>\n    <g mask="url(#mask0)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0468 10.4586C17.0468 14.4979 15.4281 16.9214 12.9999 16.9214C10.5718 16.9214 8.95298 14.4979 8.95298 10.4586C8.95298 6.41931 12.9999 6.41931 12.9999 6.41931C12.9999 6.41931 17.0468 6.41931 17.0468 10.4586ZM4.09668 23.3842C6.52483 17.7293 12.9999 17.7293 12.9999 17.7293C12.9999 17.7293 19.475 17.7293 21.9031 23.3842C21.9031 23.3842 17.8481 25 12.9999 25C8.15169 25 4.09668 23.3842 4.09668 23.3842Z" fill="#8B8B8B"/>\n    </g>\n</svg>';function yu(){return(0,L.sym)(document.location.origin).site()}function wu(e,t){return ku.apply(this,arguments)}function ku(){return(ku=N(O().mark(function e(t,n){var a,i,r,o,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.any(t,null,R.ldp("Container"),t)){e.next=2;break}return e.next=1,n.fetcher.webOperation("GET",t.uri,n.fetcher.initFetchOptions(t.uri,{headers:{accept:"text/turtle"}}));case 1:a=e.sent,i=a.responseText,(0,L.parse)(i,n,t.uri,"text/turtle");case 2:e.next=4;break;case 3:return e.prev=3,s=e.catch(0),console.error("Error loading pod "+t+": "+s),e.abrupt("return",null);case 4:if(n.holds(t,R.rdf("type"),R.space("Storage"),t)){e.next=5;break}return console.warn("Pod  "+t+" does not declare itself as a space:Storage"),e.abrupt("return",null);case 5:if(!(r=n.any(t,R.solid("owner"),null,t)||n.any(null,R.space("storage"),t,t))){e.next=10;break}return e.prev=6,e.next=7,n.fetcher.load(r.doc());case 7:e.next=9;break;case 8:return e.prev=8,e.catch(6),console.warn("Unable to load profile of pod owner "+r),e.abrupt("return",null);case 9:return n.holds(r,R.space("storage"),t,r.doc())||console.warn("Pod owner ".concat(r," does NOT list pod ").concat(t," as their storage")),e.abrupt("return",r);case 10:return o=(0,L.sym)("".concat(t.uri,"profile/card#me")),e.prev=11,e.next=12,n.fetcher.load(o);case 12:e.next=14;break;case 13:return e.prev=13,e.catch(11),console.error("Ooops. Guessed wrong pod owner webid {$guess} : can't load it."),e.abrupt("return",null);case 14:if(!n.holds(o,R.space("storage"),t,o.doc())){e.next=15;break}return console.warn("Using guessed pod owner webid but it links back."),e.abrupt("return",o);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,null,[[0,3],[6,8],[11,13]])}))).apply(this,arguments)}function Cu(e,t){var n,a,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null,s=0,c=function(){s=r.leading?Date.now():0,o=null,i=e.apply(n,a),o||(n=a=null)};return function(){var l=Date.now();s||r.leading||(s=l);var u=t-(l-s);return n=this,a=arguments,u<=0||u>t?(o&&(clearTimeout(o),o=null),s=l,i=e.apply(n,a),o||(n=a=null)):o||!1===r.trailing||(o=setTimeout(c,u)),i}}var Eu=Ge.Pt.iconBase+"noun_help.svg";function Au(e,t,n){return _u.apply(this,arguments)}function _u(){return(_u=N(O().mark(function e(t,n,a){var i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=document.getElementById("PageHeader")){e.next=1;break}return e.abrupt("return");case 1:r=yu(),ju(i,t,r,n,a)(),c.events.on("logout",ju(i,t,r,n,a)),c.events.on("login",ju(i,t,r,n,a));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ju(e,t,n,a,i){return N(O().mark(function r(){var o,s;return O().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=l.currentUser(),e.innerHTML="",s=e,r.next=1,Tu(t,n,o,a,i);case 1:s.appendChild.call(s,r.sent);case 2:case"end":return r.stop()}},r)}))}function Tu(e,t,n,a,i){return Su.apply(this,arguments)}function Su(){return(Su=N(O().mark(function e(t,n,a,i,r){var o,s,c,l,u,p,d;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((o=document.createElement("a")).href=n.uri,o.setAttribute("style",Me.headerBannerLink),s=document.createElement("img"),r&&(s.src=r.logo?r.logo:"https://solidproject.org/assets/img/solid-emblem.svg"),s.setAttribute("style",Me.headerBannerIcon),o.appendChild(s),!a){e.next=2;break}return e.next=1,Iu(t,a,i);case 1:d=e.sent,e.next=3;break;case 2:d=Ru();case 3:return c=d,(l=document.createElement("div")).setAttribute("style",Me.headerBanner),l.appendChild(o),(u=document.createElement("div")).setAttribute("style",Me.headerBannerRightMenu),u.appendChild(c),r&&r.helpMenuList&&(p=Lu(r,r.helpMenuList),u.appendChild(p)),l.appendChild(u),e.abrupt("return",l);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Lu(e,t){if(t){var n=document.createElement("ul");n.setAttribute("style",Me.headerUserMenuList),t.forEach(function(e){"url"===(e.url?"url":"onclick")?n.appendChild(Fu(Nu(e.label,e.url,e.target))):n.appendChild(Fu(Bu(e.label,e.onclick)))});var a=document.createElement("nav");a.setAttribute("style",Me.headerUserMenuNavigationMenuNotDisplayed),a.setAttribute("aria-hidden","true"),a.setAttribute("id","helperNav"),a.appendChild(n);var i=document.createElement("div");i.setAttribute("style",Me.headerBannerUserMenu),i.appendChild(a);var r=document.createElement("button");r.setAttribute("style",Me.headerUserMenuTrigger),r.type="button";var o=document.createElement("img");o.src=e&&e.helpIcon?e.helpIcon:Ge.Pt.iconBase+Eu,o.setAttribute("style",Me.headerUserMenuTriggerImg),i.appendChild(r),r.appendChild(o);var s=Cu(function(e){return Pu(e,r,a)},50);r.addEventListener("click",s);var c=setTimeout(function(){return null},0);return i.addEventListener("mouseover",function(e){clearTimeout(c),s(e);var t=document.getElementById("helperNav");null==t||t.setAttribute("style",Me.headerUserMenuNavigationMenu)}),i.addEventListener("mouseout",function(e){c=setTimeout(function(){return s(e)},200);var t=document.getElementById("helperNav");null==t||t.setAttribute("style",Me.headerUserMenuNavigationMenuNotDisplayed)}),i}}function Ru(){var e=document.createElement("div");return e.setAttribute("style",Me.headerBannerLogin),e.appendChild(Fi(document,null,{})),e}function Bu(e,t){var n=document.createElement("button");return n.setAttribute("style",Me.headerUserMenuButton),n.onmouseover=function(){n.setAttribute("style",Me.headerUserMenuButtonHover)},n.onmouseout=function(){n.setAttribute("style",Me.headerUserMenuButton)},n.addEventListener("click",t),n.innerText=e,n}function Nu(e,t,n){var a=document.createElement("a");return a.setAttribute("style",Me.headerUserMenuLink),a.onmouseover=function(){a.setAttribute("style",Me.headerUserMenuLinkHover)},a.onmouseout=function(){a.setAttribute("style",Me.headerUserMenuLink)},a.href=t,a.innerText=e,n&&(a.target=n),a}function Iu(e,t,n){return Ou.apply(this,arguments)}function Ou(){return(Ou=N(O().mark(function e(t,n,a){var i,r,o,s,c,l,u,p;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.fetcher)){e.next=1;break}return e.next=1,i.load(n);case 1:return(r=document.createElement("ul")).setAttribute("style",Me.headerUserMenuList),a&&a.forEach(function(e){"url"===(e.url?"url":"onclick")?r.appendChild(Fu(Nu(e.label,e.url,e.target))):r.appendChild(Fu(Bu(e.label,e.onclick)))}),(o=document.createElement("nav")).setAttribute("style",Me.headerUserMenuNavigationMenuNotDisplayed),o.setAttribute("aria-hidden","true"),o.setAttribute("id","loggedInNav"),o.appendChild(r),(s=document.createElement("button")).setAttribute("style",Me.headerUserMenuTrigger),s.type="button","string"==typeof(c=Du(t,n))?s.innerHTML=c:s.appendChild(c),(l=document.createElement("div")).setAttribute("style",Me.headerBannerUserMenuNotDisplayed),l.appendChild(s),l.appendChild(o),u=Cu(function(e){return Pu(e,s,o)},50),s.addEventListener("click",u),p=setTimeout(function(){return null},0),l.addEventListener("mouseover",function(e){clearTimeout(p),u(e);var t=document.getElementById("loggedInNav");null==t||t.setAttribute("style",Me.headerUserMenuNavigationMenu)}),l.addEventListener("mouseout",function(e){p=setTimeout(function(){return u(e)},200);var t=document.getElementById("loggedInNav");null==t||t.setAttribute("style",Me.headerUserMenuNavigationMenuNotDisplayed)}),e.abrupt("return",l);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fu(e){var t=document.createElement("li");return t.setAttribute("style",Me.headerUserMenuListItem),t.appendChild(e),t}function Du(e,t){var n=null;try{if(!(n=Ht(t)))return gu}catch(e){return gu}var a=document.createElement("div");return a.setAttribute("style",Me.headerUserMenuPhoto),a.style.backgroundImage="url(".concat(n,")"),a}function Pu(e,t,n){var a="true"===t.getAttribute("aria-expanded"),i="mouseover"===e.type,r="mouseout"===e.type;a&&i||!a&&r||(t.setAttribute("aria-expanded",(!a).toString()),n.setAttribute("aria-hidden",a.toString()))}function Uu(e,t){return Mu.apply(this,arguments)}function Mu(){return(Mu=N(O().mark(function e(t,n){var a,i,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=document.getElementById("PageFooter")){e.next=1;break}return e.abrupt("return");case 1:return i=yu(),e.next=2,wu(i,t);case 2:r=e.sent,zu(a,t,i,r,n)(),c.events.on("login",zu(a,t,i,r,n)),c.events.on("logout",zu(a,t,i,r,n));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zu(e,t,n,a,i){return N(O().mark(function r(){var o,s;return O().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=l.currentUser(),e.innerHTML="",s=e,r.next=1,qu(t,o,n,a,i);case 1:s.appendChild.call(s,r.sent);case 2:case"end":return r.stop()}},r)}))}function qu(e,t,n,a,i){var r=document.createElement("div");if(!n||!a||t&&t.equals(a))return r;r.setAttribute("style",Me.footer);var o=document.createElement("span");o.innerText="You're visiting ";var s=document.createElement("a");s.href=n.uri,s.innerText="the Pod";var c=document.createElement("span");c.innerText=" controlled by ";var l=document.createElement("a");l.href=a.uri,l.innerText=function(e,t){return e.anyValue(t,R.vcard("fn"),null,t.doc())||e.anyValue(t,R.foaf("name"),null,t.doc())||t.uri}(e,a);var u=document.createElement("span");u.innerText=". For more info, check out ";var p=document.createElement("a");p.href=i&&i.solidProjectUrl?i.solidProjectUrl:"https://solidproject.org",p.innerText=i&&i.solidProjectName?i.solidProjectName:"solidproject.org";var d=document.createElement("span");return d.innerText=".",r.appendChild(o),r.appendChild(s),r.appendChild(c),r.appendChild(l),r.appendChild(u),r.appendChild(p),r.appendChild(d),r}var Hu=window?window.document:null;"undefined"!=typeof window&&(window.UI={ns:R,acl:cr,aclControl:lr,create:pr,createTypes:T,dom:Hu,icons:Ge.Pt,language:y,log:x,login:k,matrix:mr,media:br,messageArea:Dr,infiniteMessageArea:Kl,pad:A,participation:E,preferences:_,style:Me,table:su,tabs:j,utils:g,widgets:C,initHeader:Au,initFooter:Uu});export{cr as acl,lr as aclControl,pr as create,T as createTypes,Hu as dom,Kl as infiniteMessageArea,Uu as initFooter,Au as initHeader,y as language,x as log,k as login,mr as matrix,br as media,Dr as messageArea,R as ns,A as pad,E as participation,_ as preferences,Me as style,su as table,j as tabs,g as utils,C as widgets};export const icons=Ge.Pt;
//# sourceMappingURL=solid-ui.esm.min.js.map