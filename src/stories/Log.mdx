import * as UI from '../../src/index'
import * as LogStories from './Log.stories';

import { Canvas, Meta, Story } from "@storybook/blocks";

<Meta of={LogStories} />

export const buttonDecorator = (Story, { args }) => {
  const button = document.createElement("button");
  button.innerText = args.buttonLabel;
  button.addEventListener("click", () => Story());
  return button;
};

# The Log module

On this page you'll find some examples from the log module. See
[API docs](https://solidos.github.io/solid-ui/docs/api/modules/_log_)
for more information.

<div style={{background: "white", border: "0.5em solid black", position: "fixed", top: 0, right: 0, width: "300px", padding: "0.5em"}}>
  **Status area:** This is the playground which the examples will interact with. Click the various
  buttons to see their effect here.

  <div id="status" style={{ border: "1px solid red", padding: "0.5em", maxHeight: "50vh", overflow: "auto" }} />

  Note that by default only `msg`, `warn` and `error` will add messages to the
  status area. You can change this by using [setLevel](?path=/docs/log--set-level).
</div>

## log.msg: A simple message

<Canvas withSource="open">
  <Story of={LogStories.SimpleMessage} />
</Canvas>

## log.warn: A warning message

<Canvas withSource="open">
  <Story of={LogStories.WarningMessage} />
</Canvas>

## log.debug: A debug message

<Canvas withSource="open">
  <Story of={LogStories.DebugMessage} />
</Canvas>

## log.info: An info message

<Canvas withSource="open">
  <Story of={LogStories.InfoMessage} />
</Canvas>

## log.error: An error message

<Canvas withSource="open">
  <Story of={LogStories.ErrorMessage} />
</Canvas>

## log.success: A success message

<Canvas withSource="open">
  <Story of={LogStories.SuccessMessage} />
</Canvas>

## log.alert: A alert message

This example uses alert to notify user of a message. It will not log in the status area unless window.alert is not available.

<Canvas withSource="open">
  <Story of={LogStories.AlertMessage} />
</Canvas>

## log.clear: Clear messages

Using this method you can clear the existing messages in the status area.

<Canvas withSource="open">
  <Story of={LogStories.ClearMessages} />
</Canvas>

## log.setLevel: Configure which messages are to be shown

The module uses [bitmask](https://en.wikipedia.org/wiki/Mask_\(computing\)) to filter which types of messages that will be shown. It assigns the following 10-based
number to each type (binaries in parenthesis):

* Error: 1 (000001)
* Warning: 2 (000010)
* Message: 4 (000100)
* Success: 8 (001000)
* Info: 16 (010000)
* Debug: 32 (100000)

By default only error, warning, and normal messages will be shown, hence the number 7 that is shown by default in this example. You can set it to show all types of messages by passing 63 (which is the sum of all, and is 111111 in binary).

<Canvas withSource="open">
  <Story of={LogStories.SetLevel} />
</Canvas>

## log.dumpHTML: Dump all HTML in body in a log message

<Canvas withSource="open">
  <Story of={LogStories.DumpHtml} />
</Canvas>

## log.logAscending: Start logging all messages in ascending order

<Canvas withSource="open">
  <Story of={LogStories.LogAscending} />
</Canvas>

## log.logDescending: Start logging all messages in descending order

<Canvas withSource="open">
  <Story of={LogStories.LogDescending} />
</Canvas>
