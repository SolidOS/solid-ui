(self.webpackChunksolid_ui=self.webpackChunksolid_ui||[]).push([[179],{"./.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{parameters:()=>parameters});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.kg.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/html/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)},"./lib/acl/access-controller.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.AccessController=void 0;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),_defineProperty2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js")),_acl=__webpack_require__("./lib/acl/acl.js"),_rdflib=__webpack_require__("./node_modules/rdflib/esm/index.js"),_accessGroups=__webpack_require__("./lib/acl/access-groups.js"),_aclControl=__webpack_require__("./lib/acl/acl-control.js"),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var AccessController=function(){function AccessController(subject,noun,context,statusElement,classes,targetIsProtected,targetDoc,targetACLDoc,defaultHolder,defaultACLDoc,prospectiveDefaultHolder,store,dom){if((0,_classCallCheck2.default)(this,AccessController),this.subject=subject,this.noun=noun,this.context=context,this.statusElement=statusElement,this.classes=classes,this.targetIsProtected=targetIsProtected,this.targetDoc=targetDoc,this.targetACLDoc=targetACLDoc,this.defaultHolder=defaultHolder,this.defaultACLDoc=defaultACLDoc,this.prospectiveDefaultHolder=prospectiveDefaultHolder,this.store=store,this.dom=dom,(0,_defineProperty2.default)(this,"mainCombo",void 0),(0,_defineProperty2.default)(this,"defaultsCombo",void 0),(0,_defineProperty2.default)(this,"isContainer",void 0),(0,_defineProperty2.default)(this,"defaultsDiffer",void 0),(0,_defineProperty2.default)(this,"rootElement",void 0),(0,_defineProperty2.default)(this,"isUsingDefaults",void 0),this.rootElement=dom.createElement("div"),this.rootElement.classList.add(classes.aclGroupContent),this.isContainer="/"===targetDoc.uri.slice(-1),defaultHolder&&defaultACLDoc){this.isUsingDefaults=!0;var aclDefaultStore=(0,_acl.adoptACLDefault)(this.targetDoc,targetACLDoc,defaultHolder,defaultACLDoc);this.mainCombo=new _accessGroups.AccessGroups(targetDoc,targetACLDoc,this,aclDefaultStore,{defaults:this.isContainer}),this.defaultsCombo=null,this.defaultsDiffer=!1}else this.isUsingDefaults=!1,this.mainCombo=new _accessGroups.AccessGroups(targetDoc,targetACLDoc,this,store),this.defaultsCombo=new _accessGroups.AccessGroups(targetDoc,targetACLDoc,this,store,{defaults:this.isContainer}),this.defaultsDiffer=!(0,_acl.sameACL)(this.mainCombo.aclMap,this.defaultsCombo.aclMap)}var _removeDefaults,_removeAcls,_addDefaults,_addAcls;return(0,_createClass2.default)(AccessController,[{key:"isEditable",get:function get(){return!this.isUsingDefaults}},{key:"render",value:function render(){if(this.rootElement.innerHTML="",this.isUsingDefaults){if(this.renderStatus("The sharing for this ".concat(this.noun," is the default for folder ")),this.defaultHolder){var defaultHolderLink=this.statusElement.appendChild(this.dom.createElement("a"));defaultHolderLink.href=this.defaultHolder.uri,defaultHolderLink.innerText=(0,_aclControl.shortNameForFolder)(this.defaultHolder)}}else!this.defaultsDiffer&&this.isContainer?this.renderStatus("This is also the default for things in this folder."):this.renderStatus("");return this.rootElement.appendChild(this.mainCombo.render()),this.defaultsCombo&&this.defaultsDiffer?(this.rootElement.appendChild(this.renderRemoveDefaultsController()),this.rootElement.appendChild(this.defaultsCombo.render())):this.isEditable&&this.isContainer&&this.rootElement.appendChild(this.renderAddDefaultsController()),!this.targetIsProtected&&this.isUsingDefaults?this.rootElement.appendChild(this.renderAddAclsController()):this.targetIsProtected||this.rootElement.appendChild(this.renderRemoveAclsController()),this.rootElement}},{key:"renderRemoveAclsController",value:function renderRemoveAclsController(){var _this=this,useDefaultButton=this.dom.createElement("button");return useDefaultButton.innerText="Remove custom sharing settings for this ".concat(this.noun," -- just use default").concat(this.prospectiveDefaultHolder?" for ".concat(utils.label(this.prospectiveDefaultHolder)):""),useDefaultButton.classList.add(this.classes.bigButton),useDefaultButton.addEventListener("click",(function(){return _this.removeAcls().then((function(){return _this.render()})).catch((function(error){return _this.renderStatus(error)}))})),useDefaultButton}},{key:"renderAddAclsController",value:function renderAddAclsController(){var _this2=this,addAclButton=this.dom.createElement("button");return addAclButton.innerText="Set specific sharing for this ".concat(this.noun),addAclButton.classList.add(this.classes.bigButton),addAclButton.addEventListener("click",(function(){return _this2.addAcls().then((function(){return _this2.render()})).catch((function(error){return _this2.renderStatus(error)}))})),addAclButton}},{key:"renderAddDefaultsController",value:function renderAddDefaultsController(){var _this3=this,containerElement=this.dom.createElement("div");containerElement.classList.add(this.classes.defaultsController);var noticeElement=containerElement.appendChild(this.dom.createElement("div"));noticeElement.innerText="Sharing for things within the folder currently tracks sharing for the folder.",noticeElement.classList.add(this.classes.defaultsControllerNotice);var button=containerElement.appendChild(this.dom.createElement("button"));return button.innerText="Set the sharing of folder contents separately from the sharing for the folder",button.classList.add(this.classes.bigButton),button.addEventListener("click",(function(){return _this3.addDefaults().then((function(){return _this3.render()}))})),containerElement}},{key:"renderRemoveDefaultsController",value:function renderRemoveDefaultsController(){var _this4=this,containerElement=this.dom.createElement("div");containerElement.classList.add(this.classes.defaultsController);var noticeElement=containerElement.appendChild(this.dom.createElement("div"));noticeElement.innerText="Access to things within this folder:",noticeElement.classList.add(this.classes.defaultsControllerNotice);var button=containerElement.appendChild(this.dom.createElement("button"));return button.innerText="Set default for folder contents to just track the sharing for the folder",button.classList.add(this.classes.bigButton),button.addEventListener("click",(function(){return _this4.removeDefaults().then((function(){return _this4.render()})).catch((function(error){return _this4.renderStatus(error)}))})),containerElement}},{key:"renderTemporaryStatus",value:function renderTemporaryStatus(message){var _this5=this;this.statusElement.classList.add(this.classes.aclControlBoxStatusRevealed),this.statusElement.innerText=message,this.statusElement.classList.add(this.classes.temporaryStatusInit),setTimeout((function(){_this5.statusElement.classList.add(_this5.classes.temporaryStatusEnd)})),setTimeout((function(){_this5.statusElement.innerText=""}),5e3)}},{key:"renderStatus",value:function renderStatus(message){this.statusElement.classList.toggle(this.classes.aclControlBoxStatusRevealed,!!message),this.statusElement.innerText=message}},{key:"addAcls",value:(_addAcls=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(){var message,_message,_this6=this;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.defaultHolder&&this.defaultACLDoc){_context.next=4;break}return message="Unable to find defaults to copy",debug.error(message),_context.abrupt("return",Promise.reject(message));case 4:return(0,_acl.adoptACLDefault)(this.targetDoc,this.targetACLDoc,this.defaultHolder,this.defaultACLDoc).statements.forEach((function(st){return _this6.store.add(st.subject,st.predicate,st.object,_this6.targetACLDoc)})),_context.prev=6,_context.next=9,this.store.fetcher.putBack(this.targetACLDoc);case 9:return this.isUsingDefaults=!1,_context.abrupt("return",Promise.resolve());case 13:return _context.prev=13,_context.t0=_context.catch(6),_message=" Error writing back access control file! ".concat(_context.t0),debug.error(_message),_context.abrupt("return",Promise.reject(_message));case 18:case"end":return _context.stop()}}),_callee,this,[[6,13]])}))),function addAcls(){return _addAcls.apply(this,arguments)})},{key:"addDefaults",value:(_addDefaults=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(){return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:this.defaultsCombo=new _accessGroups.AccessGroups(this.targetDoc,this.targetACLDoc,this,this.store,{defaults:!0}),this.defaultsDiffer=!0;case 2:case"end":return _context2.stop()}}),_callee2,this)}))),function addDefaults(){return _addDefaults.apply(this,arguments)})},{key:"removeAcls",value:(_removeAcls=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(){var message;return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,this.store.fetcher.delete(this.targetACLDoc.uri,{});case 3:return this.isUsingDefaults=!0,_context3.prev=4,_context3.next=7,(0,_acl.getProspectiveHolder)(this.targetDoc.uri);case 7:this.prospectiveDefaultHolder=_context3.sent,_context3.next=13;break;case 10:_context3.prev=10,_context3.t0=_context3.catch(4),debug.warn(_context3.t0);case 13:_context3.next=20;break;case 15:return _context3.prev=15,_context3.t1=_context3.catch(0),message="Error deleting access control file: ".concat(this.targetACLDoc,": ").concat(_context3.t1),debug.error(message),_context3.abrupt("return",Promise.reject(message));case 20:case"end":return _context3.stop()}}),_callee3,this,[[0,15],[4,10]])}))),function removeAcls(){return _removeAcls.apply(this,arguments)})},{key:"removeDefaults",value:(_removeDefaults=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(){var fallbackCombo;return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return fallbackCombo=this.defaultsCombo,_context4.prev=1,this.defaultsCombo=null,this.defaultsDiffer=!1,_context4.next=6,this.save();case 6:_context4.next=14;break;case 8:return _context4.prev=8,_context4.t0=_context4.catch(1),this.defaultsCombo=fallbackCombo,this.defaultsDiffer=!0,debug.error(_context4.t0),_context4.abrupt("return",Promise.reject(_context4.t0));case 14:case"end":return _context4.stop()}}),_callee4,this,[[1,8]])}))),function removeDefaults(){return _removeDefaults.apply(this,arguments)})},{key:"save",value:function save(){var _this7=this,newAClGraph=(0,_rdflib.graph)();this.isContainer?this.defaultsCombo&&this.defaultsDiffer?((0,_acl.makeACLGraphbyCombo)(newAClGraph,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0),(0,_acl.makeACLGraphbyCombo)(newAClGraph,this.targetDoc,this.defaultsCombo.byCombo,this.targetACLDoc,!1,!0)):(0,_acl.makeACLGraphbyCombo)(newAClGraph,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0,!0):(0,_acl.makeACLGraphbyCombo)(newAClGraph,this.targetDoc,this.mainCombo.byCombo,this.targetACLDoc,!0),newAClGraph.fetcher=(0,_rdflib.fetcher)(newAClGraph,{fetch:this.store.fetcher._fetch});var updater=newAClGraph.updater||new _rdflib.UpdateManager(newAClGraph);return new Promise((function(resolve,reject){updater.put(_this7.targetACLDoc,newAClGraph.statementsMatching(void 0,void 0,void 0,_this7.targetACLDoc),"text/turtle",(function(uri,ok,message){if(!ok)return reject(new Error("ACL file save failed: ".concat(message)));_this7.store.fetcher.unload(_this7.targetACLDoc),_this7.store.add(newAClGraph.statements),_this7.store.fetcher.requested[_this7.targetACLDoc.uri]="done",_this7.mainCombo.store=_this7.store,_this7.defaultsCombo&&(_this7.defaultsCombo.store=_this7.store),_this7.defaultsDiffer=!!_this7.defaultsCombo&&!(0,_acl.sameACL)(_this7.mainCombo.aclMap,_this7.defaultsCombo.aclMap),debug.log("ACL modification: success!"),resolve()}))}))}}]),AccessController}();exports.AccessController=AccessController},"./lib/acl/access-groups.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.string.ends-with.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.AccessGroups=void 0;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_slicedToArray2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js")),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),_defineProperty2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js")),_rdflib=__webpack_require__("./node_modules/rdflib/esm/index.js"),_acl=__webpack_require__("./lib/acl/acl.js"),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js")),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),_addAgentButtons=__webpack_require__("./lib/acl/add-agent-buttons.js"),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var ACL=ns.acl,COLLOQUIAL={13:"Owners",9:"Owners (write locked)",5:"Editors",3:"Posters",2:"Submitters",1:"Viewers"},RECOMMENDED={13:!0,5:!0,3:!0,2:!0,1:!0},EXPLANATION={13:"can read, write, and control sharing.",9:"can read and control sharing, currently write-locked.",5:"can read and change information",3:"can add new information, and read but not change existing information",2:"can add new information but not read any",1:"can read but not change information"},AccessGroups=function(){function AccessGroups(doc,aclDoc,controller,store){var options=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,_classCallCheck2.default)(this,AccessGroups),this.doc=doc,this.aclDoc=aclDoc,this.controller=controller,this.options=options,(0,_defineProperty2.default)(this,"defaults",void 0),(0,_defineProperty2.default)(this,"byCombo",void 0),(0,_defineProperty2.default)(this,"aclMap",void 0),(0,_defineProperty2.default)(this,"addAgentButton",void 0),(0,_defineProperty2.default)(this,"rootElement",void 0),(0,_defineProperty2.default)(this,"_store",void 0),this.defaults=options.defaults||!1,this._store=store,this.aclMap=(0,_acl.readACL)(doc,aclDoc,store,this.defaults),this.byCombo=(0,_acl.ACLbyCombination)(this.aclMap),this.addAgentButton=new _addAgentButtons.AddAgentButtons(this),this.rootElement=this.controller.dom.createElement("div"),this.rootElement.classList.add(this.controller.classes.accessGroupList)}var _handleDroppedUri,_handleDroppedUris,_addNewURI,_deleteAgent;return(0,_createClass2.default)(AccessGroups,[{key:"store",get:function get(){return this._store},set:function set(store){this._store=store,this.aclMap=(0,_acl.readACL)(this.doc,this.aclDoc,store,this.defaults),this.byCombo=(0,_acl.ACLbyCombination)(this.aclMap)}},{key:"render",value:function render(){var _this=this;return this.rootElement.innerHTML="",this.renderGroups().forEach((function(group){return _this.rootElement.appendChild(group)})),this.controller.isEditable&&this.rootElement.appendChild(this.addAgentButton.render()),this.rootElement}},{key:"renderGroups",value:function renderGroups(){for(var groupElements=[],comboIndex=15;comboIndex>0;comboIndex--){var combo=kToCombo(comboIndex);(this.controller.isEditable&&RECOMMENDED[comboIndex]||this.byCombo[combo])&&groupElements.push(this.renderGroup(comboIndex,combo))}return groupElements}},{key:"renderGroup",value:function renderGroup(comboIndex,combo){var _this2=this,groupRow=this.controller.dom.createElement("div");return groupRow.classList.add(this.controller.classes.accessGroupListItem),widgets.makeDropTarget(groupRow,(function(uris){return _this2.handleDroppedUris(uris,combo).then((function(){return _this2.controller.render()})).catch((function(error){return _this2.controller.renderStatus(error)}))})),this.renderGroupElements(comboIndex,combo).forEach((function(column){return groupRow.appendChild(column)})),groupRow}},{key:"renderGroupElements",value:function renderGroupElements(comboIndex,combo){var _this3=this,groupNameColumn=this.controller.dom.createElement("div");groupNameColumn.classList.add(this.controller.classes.group),groupNameColumn.classList.toggle(this.controller.classes["group-".concat(comboIndex)],this.controller.isEditable),groupNameColumn.innerText=COLLOQUIAL[comboIndex]||function ktToList(k){for(var list="",y=["Read","Append","Write","Control"],i=0;i<4;i++)k&1<<i&&(list+=y[i]);return list}(comboIndex);var groupAgentsColumn=this.controller.dom.createElement("div");groupAgentsColumn.classList.add(this.controller.classes.group),groupAgentsColumn.classList.toggle(this.controller.classes["group-".concat(comboIndex)],this.controller.isEditable);var groupAgentsTable=groupAgentsColumn.appendChild(this.controller.dom.createElement("table"));(this.byCombo[combo]||[]).map((function(_ref){var _ref2=(0,_slicedToArray2.default)(_ref,2),pred=_ref2[0],obj=_ref2[1];return _this3.renderAgent(groupAgentsTable,combo,pred,obj)})).forEach((function(agentElement){return groupAgentsTable.appendChild(agentElement)}));var groupDescriptionElement=this.controller.dom.createElement("div");return groupDescriptionElement.classList.add(this.controller.classes.group),groupDescriptionElement.classList.toggle(this.controller.classes["group-".concat(comboIndex)],this.controller.isEditable),groupDescriptionElement.innerText=EXPLANATION[comboIndex]||"Unusual combination",[groupNameColumn,groupAgentsColumn,groupDescriptionElement]}},{key:"renderAgent",value:function renderAgent(groupAgentsTable,combo,pred,obj){var _this4=this,personRow=widgets.personTR(this.controller.dom,ACL(pred),(0,_rdflib.sym)(obj),this.controller.isEditable?{deleteFunction:function deleteFunction(){return _this4.deleteAgent(combo,pred,obj).then((function(){return groupAgentsTable.removeChild(personRow)})).catch((function(error){return _this4.controller.renderStatus(error)}))}}:{});return personRow}},{key:"deleteAgent",value:(_deleteAgent=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(combo,pred,obj){var combos,comboToRemove;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return combos=this.byCombo[combo]||[],(comboToRemove=combos.find((function(_ref3){var _ref4=(0,_slicedToArray2.default)(_ref3,2),comboPred=_ref4[0],comboObj=_ref4[1];return comboPred===pred&&comboObj===obj})))&&combos.splice(combos.indexOf(comboToRemove),1),_context.next=5,this.controller.save();case 5:case"end":return _context.stop()}}),_callee,this)}))),function deleteAgent(_x,_x2,_x3){return _deleteAgent.apply(this,arguments)})},{key:"addNewURI",value:(_addNewURI=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(uri){return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.handleDroppedUri(uri,kToCombo(1));case 2:return _context2.next=4,this.controller.save();case 4:case"end":return _context2.stop()}}),_callee2,this)}))),function addNewURI(_x4){return _addNewURI.apply(this,arguments)})},{key:"handleDroppedUris",value:(_handleDroppedUris=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(uris,combo){var _this5=this;return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,Promise.all(uris.map((function(uri){return _this5.handleDroppedUri(uri,combo)})));case 3:return _context3.next=5,this.controller.save();case 5:_context3.next=10;break;case 7:return _context3.prev=7,_context3.t0=_context3.catch(0),_context3.abrupt("return",Promise.reject(_context3.t0));case 10:case"end":return _context3.stop()}}),_callee3,this,[[0,7]])}))),function handleDroppedUris(_x5,_x6){return _handleDroppedUris.apply(this,arguments)})},{key:"handleDroppedUri",value:(_handleDroppedUri=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(uri,combo){var secondAttempt,agent,thing,_this$_store,_this$_store$fetcher,message,error,_args4=arguments;return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(secondAttempt=_args4.length>2&&void 0!==_args4[2]&&_args4[2],agent=findAgent(uri,this.store),thing=(0,_rdflib.sym)(uri),agent||secondAttempt){_context4.next=18;break}return debug.log("   Not obvious: looking up dropped thing ".concat(thing)),_context4.prev=5,_context4.next=8,null===(_this$_store=this._store)||void 0===_this$_store||null===(_this$_store$fetcher=_this$_store.fetcher)||void 0===_this$_store$fetcher?void 0:_this$_store$fetcher.load(thing.doc());case 8:_context4.next=15;break;case 10:return _context4.prev=10,_context4.t0=_context4.catch(5),message="Ignore error looking up dropped thing: ".concat(_context4.t0),debug.error(message),_context4.abrupt("return",Promise.reject(new Error(message)));case 15:return _context4.abrupt("return",this.handleDroppedUri(uri,combo,!0));case 18:if(agent){_context4.next=22;break}return error="   Error: Drop fails to drop appropriate thing! ".concat(uri),debug.error(error),_context4.abrupt("return",Promise.reject(new Error(error)));case 22:this.setACLCombo(combo,uri,agent,this.controller.subject);case 23:case"end":return _context4.stop()}}),_callee4,this,[[5,10]])}))),function handleDroppedUri(_x7,_x8){return _handleDroppedUri.apply(this,arguments)})},{key:"setACLCombo",value:function setACLCombo(combo,uri,res,subject){combo in this.byCombo||(this.byCombo[combo]=[]),this.removeAgentFromCombos(uri),this.byCombo[combo].push([res.pred,res.obj.uri]),debug.log("ACL: setting access to ".concat(subject," by ").concat(res.pred,": ").concat(res.obj))}},{key:"removeAgentFromCombos",value:function removeAgentFromCombos(uri){for(var k=0;k<16;k++){var combos=this.byCombo[kToCombo(k)];if(combos)for(var i=0;i<combos.length;i++)for(;i<combos.length&&combos[i][1]===uri;)combos.splice(i,1)}}}]),AccessGroups}();function kToCombo(k){for(var y=["Read","Append","Write","Control"],combo=[],i=0;i<4;i++)k&1<<i&&combo.push("http://www.w3.org/ns/auth/acl#"+y[i]);return combo.sort(),combo.join("\n")}function findAgent(uri,kb){var obj=(0,_rdflib.sym)(uri),types=kb.findTypeURIs(obj);for(var ty in types)debug.log("    drop object type includes: "+ty);if(uri.startsWith("http")&&3===uri.split("/").length)return{pred:"origin",obj};if(uri.startsWith("http")&&4===uri.split("/").length&&uri.endsWith("/"))return debug.log("Assuming final slash on dragged origin URI was unintended!"),{pred:"origin",obj:(0,_rdflib.sym)(uri.slice(0,-1))};if(ns.vcard("WebID").uri in types)return{pred:"agent",obj};if(ns.vcard("Group").uri in types)return{pred:"agentGroup",obj};if(obj.sameTerm(ns.foaf("Agent"))||obj.sameTerm(ns.acl("AuthenticatedAgent"))||obj.sameTerm(ns.rdf("Resource"))||obj.sameTerm(ns.owl("Thing")))return{pred:"agentClass",obj};if(ns.vcard("Individual").uri in types||ns.foaf("Person").uri in types||ns.foaf("Agent").uri in types){var pref=kb.any(obj,ns.foaf("preferredURI"));return pref?{pred:"agent",obj:(0,_rdflib.sym)(pref)}:{pred:"agent",obj}}return ns.solid("AppProvider").uri in types?{pred:"origin",obj}:ns.solid("AppProviderClass").uri in types?{pred:"originClass",obj}:(debug.log("    Triage fails for "+uri),null)}exports.AccessGroups=AccessGroups},"./lib/acl/acl-control.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.last-index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ACLControlBox5=function ACLControlBox5(subject,context,noun,kb){var dom=context.dom,doc=subject.doc(),classes=(0,_jss.getClasses)(dom.head,_styles.styles).classes,container=dom.createElement("div");container.classList.add(classes.aclControlBoxContainer);var header=container.appendChild(dom.createElement("h1"));header.textContent="Sharing for ".concat(noun," ").concat(utils.label(subject)),header.classList.add(classes.aclControlBoxHeader);var status=container.appendChild(dom.createElement("div"));status.classList.add(classes.aclControlBoxStatus);try{(function loadController(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8){return _loadController.apply(this,arguments)})(doc,kb,subject,noun,context,classes,dom,status).then((function(controller){return container.appendChild(controller.render())}))}catch(error){status.innerText=error}return container},exports.handleDrop=handleDrop,exports.preventBrowserDropEvents=function preventBrowserDropEvents(document){if((0,_debug.log)("preventBrowserDropEvents called."),void 0!==global){if(global[preventBrowserDropEventsDone])return;global[preventBrowserDropEventsDone]=!0}document.addEventListener("drop",handleDrop,!1),document.addEventListener("dragenter",preventDrag,!1),document.addEventListener("dragover",preventDrag,!1)},exports.preventDrag=preventDrag,exports.setGlobalWindow=function setGlobalWindow(window){global=window},exports.shortNameForFolder=function shortNameForFolder(x){var str=x.uri;"/"===str.slice(-1)&&(str=str.slice(0,-1));var slash=str.lastIndexOf("/");slash>=0&&(str=str.slice(slash+1));return str||"/"};var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),_acl=__webpack_require__("./lib/acl/acl.js"),_accessController=__webpack_require__("./lib/acl/access-controller.js"),_jss=__webpack_require__("./lib/jss/index.js"),_styles=__webpack_require__("./lib/acl/styles.js"),_debug=__webpack_require__("./lib/debug.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var global=window,preventBrowserDropEventsDone=Symbol("prevent double triggering of drop event");function preventDrag(e){e.stopPropagation(),e.preventDefault()}function handleDrop(e){e.dataTransfer.files.length>0&&(global.confirm("Are you sure you want to drop this file here? (Cancel opens it in a new tab)")||(e.stopPropagation(),e.preventDefault(),(0,_debug.log)("@@@@ document-level DROP suppressed: "+e.dataTransfer.dropEffect)))}function _loadController(){return _loadController=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(doc,kb,subject,noun,context,classes,dom,status){return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",new Promise((function(resolve,reject){return(0,_acl.getACLorDefault)(doc,function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(ok,isDirectACL,targetDoc,targetACLDoc,defaultHolder,defaultACLDoc){var targetDirectory,targetIsProtected,prospectiveDefaultHolder,getController;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(getController=function _getController(prospectiveDefaultHolder){return new _accessController.AccessController(subject,noun,context,status,classes,targetIsProtected,targetDoc,targetACLDoc,defaultHolder,defaultACLDoc,prospectiveDefaultHolder,kb,dom)},ok){_context.next=3;break}return _context.abrupt("return",reject(new Error("Error reading ".concat(isDirectACL?"":" default ","ACL. status ").concat(targetDoc,": ").concat(targetACLDoc))));case 3:if(targetDirectory=getDirectory(targetDoc),(targetIsProtected=isStorage(targetDoc,targetACLDoc,kb)||hasProtectedAcl(targetDoc))||!targetDirectory){_context.next=16;break}return _context.prev=6,_context.next=9,(0,_acl.getProspectiveHolder)(targetDirectory);case 9:return prospectiveDefaultHolder=_context.sent,_context.abrupt("return",resolve(getController(prospectiveDefaultHolder)));case 13:_context.prev=13,_context.t0=_context.catch(6),(0,_debug.warn)(_context.t0);case 16:return _context.abrupt("return",resolve(getController()));case 17:case"end":return _context.stop()}}),_callee,null,[[6,13]])})));return function(_x9,_x10,_x11,_x12,_x13,_x14){return _ref.apply(this,arguments)}}())})));case 1:case"end":return _context2.stop()}}),_callee2)}))),_loadController.apply(this,arguments)}function getDirectory(doc){var str=doc.uri.split("#")[0],p=str.slice(0,-1).lastIndexOf("/"),q=str.indexOf("//");return q>=0&&p<q+2||p<0?null:str.slice(0,p+1)}function isStorage(doc,aclDoc,store){return store.holds(doc,ns.rdf("type"),ns.space("Storage"),aclDoc)}function hasProtectedAcl(targetDoc){return targetDoc.uri===targetDoc.site().uri}},"./lib/acl/acl.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.last-index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ACLToString=function ACLToString(ac){return comboToString(ACLbyCombination(ac))},exports.ACLbyCombination=ACLbyCombination,exports.ACLunion=ACLunion,exports.adoptACLDefault=function adoptACLDefault(doc,aclDoc,defaultResource,defaultACLDoc){var ACL=ns.acl,isContainer="/"===doc.uri.slice(-1),proposed=kb.each(void 0,ACL("default"),defaultResource,defaultACLDoc).concat(kb.each(void 0,ACL("defaultForNew"),defaultResource,defaultACLDoc)).reduce((function(accumulatedStatements,da){return accumulatedStatements.concat(kb.statementsMatching(da,ns.rdf("type"),ACL("Authorization"),defaultACLDoc)).concat(kb.statementsMatching(da,ACL("agent"),void 0,defaultACLDoc)).concat(kb.statementsMatching(da,ACL("agentClass"),void 0,defaultACLDoc)).concat(kb.statementsMatching(da,ACL("agentGroup"),void 0,defaultACLDoc)).concat(kb.statementsMatching(da,ACL("origin"),void 0,defaultACLDoc)).concat(kb.statementsMatching(da,ACL("originClass"),void 0,defaultACLDoc)).concat(kb.statementsMatching(da,ACL("mode"),void 0,defaultACLDoc)).concat((0,_rdflib.st)(da,ACL("accessTo"),doc,defaultACLDoc)).concat(isContainer?(0,_rdflib.st)(da,ACL("default"),doc,defaultACLDoc):[])}),[]),kb2=(0,_rdflib.graph)();return proposed.forEach((function(st){return kb2.add(move(st.subject),move(st.predicate),move(st.object),(0,_rdflib.sym)(aclDoc.uri))})),kb2;function move(symbol){var y=defaultACLDoc.uri.length;return(0,_rdflib.sym)(symbol.uri.slice(0,y)===defaultACLDoc.uri?aclDoc.uri+symbol.uri.slice(y):symbol.uri)}},exports.comboToString=comboToString,exports.fixIndividualACL=fixIndividualACL,exports.fixIndividualCardACL=function fixIndividualCardACL(person,log,callbackFunction){var groups=kb.each(void 0,ns.vcard("hasMember"),person);groups?fixIndividualACL(person,groups,log,callbackFunction):(log("This card is in no groups"),callbackFunction(!0))},exports.getACL=getACL,exports.getACLorDefault=getACLorDefault,exports.getProspectiveHolder=function getProspectiveHolder(_x){return _getProspectiveHolder.apply(this,arguments)},exports.loadUnionACL=loadUnionACL,exports.makeACLGraph=makeACLGraph,exports.makeACLGraphbyCombo=makeACLGraphbyCombo,exports.makeACLString=function makeACLString(x,ac,aclDoc){var kb2=(0,_rdflib.graph)();return makeACLGraph(kb2,x,ac,aclDoc),(0,_rdflib.serialize)(aclDoc,kb2,aclDoc.uri,"text/turtle")||""},exports.putACLObject=putACLObject,exports.putACLbyCombo=putACLbyCombo,exports.readACL=readACL,exports.sameACL=sameACL,exports.setACL=function setACL(docURI,aclText,callbackFunction){var aclDoc=kb.any(docURI,_solidLogic.ACL_LINK);if(!kb.fetcher)throw new Error("Store has no fetcher");aclDoc?kb.fetcher.webOperation("PUT",aclDoc.value,{data:aclText,contentType:"text/turtle"}).then((function(res){callbackFunction(res.ok,res.error||"")})):kb.fetcher.nowOrWhenFetched(docURI,void 0,(function(ok,body){if(!ok)return callbackFunction(ok,"Gettting headers for ACL: "+body);var aclDoc=kb.any(docURI,_solidLogic.ACL_LINK);if(aclDoc){if(!kb.fetcher)throw new Error("Store has no fetcher");kb.fetcher.webOperation("PUT",aclDoc.value,{data:aclText,contentType:"text/turtle"}).then((function(res){callbackFunction(res.ok,res.error||"")}))}else callbackFunction(!1,"No Link rel=ACL header for "+docURI)}))};var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_rdflib=__webpack_require__("./node_modules/rdflib/esm/index.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var kb=_solidLogic.solidLogicSingleton.store;function readACL(doc,aclDoc){var kb2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kb,getDefaults=arguments.length>3&&void 0!==arguments[3]&&arguments[3],auths=getDefaults?getDefaultsFallback(kb2,ns):kb2.each(void 0,ns.acl("accessTo"),doc),ACL=ns.acl,ac={agent:{},agentClass:{},agentGroup:{},origin:{},originClass:{}};return Object.keys(ac).forEach((function(pred){auths.forEach((function(a){kb2.each(a,ACL("mode")).forEach((function(mode){kb2.each(a,ACL(pred)).forEach((function(agent){ac[pred][agent.uri]=ac[pred][agent.uri]||{},ac[pred][agent.uri][mode.uri]=a}))}))}))})),ac;function getDefaultsFallback(kb,ns){return kb.each(void 0,ns.acl("default"),doc).concat(kb.each(void 0,ns.acl("defaultForNew"),doc))}}function sameACL(a,b){var contains=function contains(a,b){for(var pred in{agent:!0,agentClass:!0,agentGroup:!0,origin:!0,originClass:!0})if(a[pred])for(var agent in a[pred])for(var mode in a[pred][agent])if(!b[pred][agent]||!b[pred][agent][mode])return!1;return!0};return contains(a,b)&&contains(b,a)}function ACLunion(list){for(var a,ag,b=list[0],_loop=function _loop(k){["agent","agentClass","agentGroup","origin","originClass"].forEach((function(pred){if((a=list[k])[pred])for(ag in a[pred])for(var mode in a[pred][ag])b[pred][ag]||(b[pred][ag]=[]),b[pred][ag][mode]=!0}))},k=1;k<list.length;k++)_loop(k);return b}function loadUnionACL(subjectList,callbackFunction){var aclList=[];!function doList(list){list.length?getACLorDefault(list.shift().doc(),(function(ok,p2,targetDoc,targetACLDoc,defaultHolder,defaultACLDoc){var defa=!p2;if(!ok||!defaultHolder||!defaultACLDoc)return callbackFunction(ok,targetACLDoc);var acl=defa?readACL(defaultHolder,defaultACLDoc):readACL(targetDoc,targetACLDoc);aclList.push(acl),doList(list.slice(1))})):callbackFunction(!0,ACLunion(aclList))}(subjectList)}function ACLbyCombination(ac){var byCombo={};return["agent","agentClass","agentGroup","origin","originClass"].forEach((function(pred){for(var agent in ac[pred]){var combo=[];for(var mode in ac[pred][agent])combo.push(mode);combo.sort();var combo2=combo.join("\n");byCombo[combo2]||(byCombo[combo2]=[]),byCombo[combo2].push([pred,agent])}})),byCombo}function makeACLGraph(kb,x,ac,aclDoc){return makeACLGraphbyCombo(kb,x,ACLbyCombination(ac),aclDoc)}function makeACLGraphbyCombo(kb,x,byCombo,aclDoc,main,defa){var ACL=ns.acl;for(var combo in byCombo){var pairs=byCombo[combo];if(pairs.length){var modeURIs=combo.split("\n"),_short=modeURIs.map((function(u){return u.split("#")[1]})).join("");defa&&!main&&(_short+="Default");var _a=kb.sym(aclDoc.uri+"#"+_short);kb.add(_a,ns.rdf("type"),ACL("Authorization"),aclDoc),main&&kb.add(_a,ACL("accessTo"),x,aclDoc),defa&&kb.add(_a,ACL("default"),x,aclDoc);for(var i=0;i<modeURIs.length;i++)kb.add(_a,ACL("mode"),kb.sym(modeURIs[i]),aclDoc);for(var _i=0;_i<pairs.length;_i++){var pred=pairs[_i][0],ag=pairs[_i][1];kb.add(_a,ACL(pred),kb.sym(ag),aclDoc)}}}}function comboToString(byCombo){var str="";for(var combo in byCombo){str+=combo.split("\n").map((function(u){return u.split("#")[1][0]})).join("")+":";for(var pairs=byCombo[combo],i=0;i<pairs.length;i++){var pred=pairs[i][0],ag=(0,_rdflib.sym)(pairs[i][1]);str+="agent"===pred?"@":"",str+=ag.sameTerm(ns.foaf("Agent"))?"*":utils.label(ag),i<pairs.length-1&&(str+=",")}str+=";"}return"{"+str.slice(0,-1)+"}"}function putACLObject(kb,x,ac,aclDoc,callbackFunction){return putACLbyCombo(kb,x,ACLbyCombination(ac),aclDoc,callbackFunction)}function putACLbyCombo(kb,x,byCombo,aclDoc,callbackFunction){var _kb$updater,kb2=(0,_rdflib.graph)();makeACLGraphbyCombo(kb2,x,byCombo,aclDoc,!0),null===(_kb$updater=kb.updater)||void 0===_kb$updater||_kb$updater.put(aclDoc,kb2.statementsMatching(void 0,void 0,void 0,aclDoc),"text/turtle",(function(uri,ok,message){var _kb$fetcher;ok?(null===(_kb$fetcher=kb.fetcher)||void 0===_kb$fetcher||_kb$fetcher.unload(aclDoc),makeACLGraphbyCombo(kb,x,byCombo,aclDoc,!0),kb.fetcher.requested[aclDoc.uri]="done",callbackFunction(ok)):callbackFunction(ok,message)}))}function fixIndividualACL(item,subjects,log,callbackFunction){log=log||debug.log;var doc=item.doc();getACLorDefault(doc,(function(ok,exists,targetDoc,targetACLDoc,defaultHolder,defaultACLDoc){if(!ok||!defaultHolder||!defaultACLDoc)return callbackFunction(!1,targetACLDoc);var ac=exists?readACL(targetDoc,targetACLDoc):readACL(defaultHolder,defaultACLDoc);loadUnionACL(subjects,(function(ok,union){if(!ok)return callbackFunction(!1,union);sameACL(union,ac)?log("Nice - same ACL. no change "+utils.label(item)+" "+doc):(log("Group ACLs differ for "+utils.label(item)+" "+doc),putACLObject(kb,targetDoc,union,targetACLDoc,callbackFunction))}))}))}function getACLorDefault(doc,callbackFunction){getACL(doc,(function(ok,status,aclDoc,message){var ACL=ns.acl;if(!ok)return callbackFunction(!1,!1,status,message);return ok?404!==status?403===status?callbackFunction(!1,!1,status,"(Sharing not available to you)".concat(message)):200!==status?callbackFunction(!1,!1,status,"Error ".concat(status," accessing Access Control information for ").concat(doc,": ").concat(message)):callbackFunction(!0,!0,doc,aclDoc):void function tryParent(uri){"/"===uri.slice(-1)&&(uri=uri.slice(0,-1));var right=uri.lastIndexOf("/");if(uri.indexOf("/",uri.indexOf("//")+2)>right)return callbackFunction(!1,!0,404,"Found no ACL resource");uri=uri.slice(0,right+1);var doc2=(0,_rdflib.sym)(uri);getACL(doc2,(function(ok,status,defaultACLDoc){if(!ok)return callbackFunction(!1,!0,status,"( No ACL pointer ".concat(uri," ").concat(status,")").concat(defaultACLDoc));if(403===status)return callbackFunction(!1,!0,status,"( default ACL file FORBIDDEN. Stop.".concat(uri,")"));if(404===status)return tryParent(uri);if(200!==status)return callbackFunction(!1,!0,status,"Error status '".concat(status,"' searching for default for ").concat(doc2));if(!kb.each(void 0,ACL("default"),kb.sym(uri),defaultACLDoc).concat(kb.each(void 0,ACL("defaultForNew"),kb.sym(uri),defaultACLDoc)).length)return tryParent(uri);var defaultHolder=kb.sym(uri);return callbackFunction(!0,!1,doc,aclDoc,defaultHolder,defaultACLDoc)}))}(doc.uri):callbackFunction(!1,!1,status,"Error accessing Access Control information for ".concat(doc,") ").concat(message))}))}function getACL(doc,callbackFunction){if(!kb.fetcher)throw new Error("kb has no fetcher");kb.fetcher.nowOrWhenFetched(doc,void 0,(function(ok,body){if(!ok)return callbackFunction(ok,"Can't get headers to find ACL for ".concat(doc,": ").concat(body));var aclDoc=kb.any(doc,_solidLogic.ACL_LINK);if(aclDoc){if(!kb.fetcher)throw new Error("kb has no fetcher");if(kb.fetcher.nonexistent[aclDoc.value])return callbackFunction(!0,404,aclDoc,"ACL file ".concat(aclDoc," does not exist."));kb.fetcher.nowOrWhenFetched(aclDoc,void 0,(function(ok,message,response){ok?callbackFunction(!0,200,aclDoc):callbackFunction(!0,response.status,aclDoc,"Can't read Access Control File ".concat(aclDoc,": ").concat(message))}))}else callbackFunction(!1,900,"No Link rel=ACL header for ".concat(doc))}))}function _getProspectiveHolder(){return(_getProspectiveHolder=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(targetDirectory){return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise((function(resolve,reject){return getACLorDefault((0,_rdflib.sym)(targetDirectory),(function(ok,isDirectACL,targetDoc,targetACLDoc,defaultHolder){return ok?resolve(isDirectACL?targetDoc:defaultHolder):reject(new Error("Error loading ".concat(targetDirectory)))}))})));case 1:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}},"./lib/acl/add-agent-buttons.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.flat-map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.unscopables.flat-map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddAgentButtons=void 0;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),_defineProperty2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_iconBase=__webpack_require__("./lib/iconBase.js"),_login=__webpack_require__("./lib/login/login.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var AddAgentButtons=function(){function AddAgentButtons(groupList){(0,_classCallCheck2.default)(this,AddAgentButtons),this.groupList=groupList,(0,_defineProperty2.default)(this,"rootElement",void 0),(0,_defineProperty2.default)(this,"barElement",void 0),(0,_defineProperty2.default)(this,"isExpanded",!1),this.rootElement=groupList.controller.dom.createElement("div"),this.barElement=groupList.controller.dom.createElement("div")}var _getOriginFromName,_addBot,_addAgent,_addGroup,_addPerson,_renderAppsTable;return(0,_createClass2.default)(AddAgentButtons,[{key:"render",value:function render(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.renderAddButton()),this.rootElement.appendChild(this.barElement),this.rootElement}},{key:"renderAddButton",value:function renderAddButton(){var _this=this;return widgets.button(this.groupList.controller.dom,"".concat(_iconBase.icons.iconBase,"noun_34653_green.svg"),"Add ...",(function(){_this.toggleBar(),_this.renderBar()}))}},{key:"renderBar",value:function renderBar(){this.barElement.innerHTML="",this.isExpanded&&(this.barElement.appendChild(this.renderPersonButton()),this.barElement.appendChild(this.renderGroupButton()),this.barElement.appendChild(this.renderPublicButton()),this.barElement.appendChild(this.renderAuthenticatedAgentButton()),this.barElement.appendChild(this.renderBotButton()),this.barElement.appendChild(this.renderAppsButton()))}},{key:"renderSimplifiedBar",value:function renderSimplifiedBar(button){var _this2=this;Array.from(this.barElement.children).filter((function(element){return element!==button})).forEach((function(element){return _this2.barElement.removeChild(element)}))}},{key:"renderPersonButton",value:function renderPersonButton(){var _this3=this;return widgets.button(this.groupList.controller.dom,_iconBase.icons.iconBase+widgets.iconForClass["vcard:Individual"],"Add Person",(function(event){_this3.renderSimplifiedBar(event.target),_this3.renderNameForm(ns.vcard("Individual"),"person").then((function(name){return _this3.addPerson(name)})).then((function(){return _this3.renderCleanup()})).catch((function(error){return _this3.groupList.controller.renderStatus(error)}))}))}},{key:"renderGroupButton",value:function renderGroupButton(){var _this4=this;return widgets.button(this.groupList.controller.dom,_iconBase.icons.iconBase+widgets.iconForClass["vcard:Group"],"Add Group",(function(event){_this4.renderSimplifiedBar(event.target),_this4.renderNameForm(ns.vcard("Group"),"group").then((function(name){return _this4.addGroup(name)})).then((function(){return _this4.renderCleanup()})).catch((function(error){return _this4.groupList.controller.renderStatus(error)}))}))}},{key:"renderNameForm",value:function renderNameForm(type,noun){return widgets.askName(this.groupList.controller.dom,this.groupList.store,this.barElement,ns.vcard("URI"),type,noun)}},{key:"renderPublicButton",value:function renderPublicButton(){var _this5=this;return widgets.button(this.groupList.controller.dom,_iconBase.icons.iconBase+widgets.iconForClass["foaf:Agent"],"Add Everyone",(function(){return _this5.addAgent(ns.foaf("Agent").uri).then((function(){return _this5.groupList.controller.renderTemporaryStatus("Adding the general public to those who can read. Drag the globe to a different level to give them more access.")})).then((function(){return _this5.renderCleanup()}))}))}},{key:"renderAuthenticatedAgentButton",value:function renderAuthenticatedAgentButton(){var _this6=this;return widgets.button(this.groupList.controller.dom,"".concat(_iconBase.icons.iconBase,"noun_99101.svg"),"Anyone logged In",(function(){return _this6.addAgent(ns.acl("AuthenticatedAgent").uri).then((function(){return _this6.groupList.controller.renderTemporaryStatus("Adding anyone logged in to those who can read. Drag the ID icon to a different level to give them more access.")})).then((function(){return _this6.renderCleanup()}))}))}},{key:"renderBotButton",value:function renderBotButton(){var _this7=this;return widgets.button(this.groupList.controller.dom,_iconBase.icons.iconBase+"noun_Robot_849764.svg","A Software Agent (bot)",(function(event){_this7.renderSimplifiedBar(event.target),_this7.renderNameForm(ns.schema("Application"),"bot").then((function(name){return _this7.addBot(name)})).then((function(){return _this7.renderCleanup()}))}))}},{key:"renderAppsButton",value:function renderAppsButton(){var _this8=this;return widgets.button(this.groupList.controller.dom,"".concat(_iconBase.icons.iconBase,"noun_15177.svg"),"A Web App (origin)",(function(event){_this8.renderSimplifiedBar(event.target);var eventContext={div:_this8.barElement,dom:_this8.groupList.controller.dom},existingApps=_this8.renderAppsTable(eventContext).catch((function(error){return _this8.groupList.controller.renderStatus(error)}));_this8.renderAppsView();var newApp=_this8.renderNameForm(ns.schema("WebApplication"),"webapp domain").then((function(name){return _this8.getOriginFromName(name)}));Promise.race([existingApps,newApp]).then((function(origin){origin&&_this8.groupList.addNewURI(origin)})).then((function(){return _this8.renderCleanup()}))}))}},{key:"renderAppsView",value:function renderAppsView(){var _this9=this,trustedApplications=this.groupList.controller.context.session.paneRegistry.byName("trustedApplications");if(trustedApplications){var trustedApplicationsElement=trustedApplications.render(null,this.groupList.controller.context);trustedApplicationsElement.classList.add(this.groupList.controller.classes.trustedAppController);var cancelButton=widgets.cancelButton(this.groupList.controller.dom,(function(){return _this9.renderCleanup()}));cancelButton.classList.add(this.groupList.controller.classes.trustedAppCancelButton),trustedApplicationsElement.insertBefore(cancelButton,trustedApplicationsElement.firstChild),this.barElement.appendChild(trustedApplicationsElement)}}},{key:"renderAppsTable",value:(_renderAppsTable=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(eventContext){var trustedApps,trustedOrigins,_this10=this;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,_login.ensureLoadedProfile)(eventContext);case 2:return trustedApps=this.groupList.store.each(eventContext.me,ns.acl("trustedApp")),trustedOrigins=trustedApps.flatMap((function(app){return _this10.groupList.store.each(app,ns.acl("origin"))})),this.barElement.appendChild(this.groupList.controller.dom.createElement("p")).textContent="You have ".concat(trustedOrigins.length," selected web apps."),_context.abrupt("return",new Promise((function(resolve,reject){var appsTable=_this10.barElement.appendChild(_this10.groupList.controller.dom.createElement("table"));appsTable.classList.add(_this10.groupList.controller.classes.trustedAppAddApplicationsTable),trustedApps.forEach((function(app){var origin=_this10.groupList.store.any(app,ns.acl("origin"));origin||reject(new Error("Unable to pick app: ".concat(app.value)));var thingTR=widgets.personTR(_this10.groupList.controller.dom,ns.acl("origin"),origin,{}),innerTable=_this10.groupList.controller.dom.createElement("table"),innerRow=innerTable.appendChild(_this10.groupList.controller.dom.createElement("tr"));innerRow.appendChild(_this10.groupList.controller.dom.createElement("td")).appendChild(thingTR),innerRow.appendChild(_this10.groupList.controller.dom.createElement("td")).textContent="Give access to ".concat(_this10.groupList.controller.noun," ").concat(utils.label(_this10.groupList.controller.subject),"?"),innerRow.appendChild(_this10.groupList.controller.dom.createElement("td")).appendChild(widgets.continueButton(_this10.groupList.controller.dom,(function(){return resolve(origin.value)}))),appsTable.appendChild(innerTable)}))})));case 6:case"end":return _context.stop()}}),_callee,this)}))),function renderAppsTable(_x){return _renderAppsTable.apply(this,arguments)})},{key:"renderCleanup",value:function renderCleanup(){this.renderBar(),this.groupList.render()}},{key:"addPerson",value:(_addPerson=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(name){var domainNameRegexp;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(name){_context2.next=2;break}return _context2.abrupt("return",this.toggleBar());case 2:if(domainNameRegexp=/^https?:/i,name.match(domainNameRegexp)){_context2.next=5;break}return _context2.abrupt("return",Promise.reject(new Error("Not a http URI")));case 5:return debug.log("Adding to ACL person: ".concat(name)),_context2.next=8,this.groupList.addNewURI(name);case 8:this.toggleBar();case 9:case"end":return _context2.stop()}}),_callee2,this)}))),function addPerson(_x2){return _addPerson.apply(this,arguments)})},{key:"addGroup",value:(_addGroup=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(name){var domainNameRegexp;return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(name){_context3.next=2;break}return _context3.abrupt("return",this.toggleBar());case 2:if(domainNameRegexp=/^https?:/i,name.match(domainNameRegexp)){_context3.next=5;break}return _context3.abrupt("return",Promise.reject(new Error("Not a http URI")));case 5:return debug.log("Adding to ACL group: "+name),_context3.next=8,this.groupList.addNewURI(name);case 8:this.toggleBar();case 9:case"end":return _context3.stop()}}),_callee3,this)}))),function addGroup(_x3){return _addGroup.apply(this,arguments)})},{key:"addAgent",value:(_addAgent=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(agentUri){return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.groupList.addNewURI(agentUri);case 2:this.toggleBar();case 3:case"end":return _context4.stop()}}),_callee4,this)}))),function addAgent(_x4){return _addAgent.apply(this,arguments)})},{key:"addBot",value:(_addBot=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee5(name){var domainNameRegexp;return _regenerator.default.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(name){_context5.next=2;break}return _context5.abrupt("return",this.toggleBar());case 2:if(domainNameRegexp=/^https?:/i,name.match(domainNameRegexp)){_context5.next=5;break}return _context5.abrupt("return",Promise.reject(new Error("Not a http URI")));case 5:return debug.log("Adding to ACL bot: "+name),_context5.next=8,this.groupList.addNewURI(name);case 8:this.toggleBar();case 9:case"end":return _context5.stop()}}),_callee5,this)}))),function addBot(_x5){return _addBot.apply(this,arguments)})},{key:"getOriginFromName",value:(_getOriginFromName=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee6(name){var domainNameRegexp,origin;return _regenerator.default.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(name){_context6.next=2;break}return _context6.abrupt("return",Promise.resolve());case 2:if(domainNameRegexp=/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i,name.match(domainNameRegexp)){_context6.next=5;break}return _context6.abrupt("return",Promise.reject(new Error("Not a domain name")));case 5:return origin="https://"+name,debug.log("Adding to ACL origin: "+origin),this.toggleBar(),_context6.abrupt("return",origin);case 9:case"end":return _context6.stop()}}),_callee6,this)}))),function getOriginFromName(_x6){return _getOriginFromName.apply(this,arguments)})},{key:"toggleBar",value:function toggleBar(){this.isExpanded=!this.isExpanded}}]),AddAgentButtons}();exports.AddAgentButtons=AddAgentButtons},"./lib/acl/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.aclControl=exports.acl=void 0;var _acl=__webpack_require__("./lib/acl/acl.js"),_aclControl=__webpack_require__("./lib/acl/acl-control.js"),acl={adoptACLDefault:_acl.adoptACLDefault,readACL:_acl.readACL,sameACL:_acl.sameACL,ACLunion:_acl.ACLunion,loadUnionACL:_acl.loadUnionACL,ACLbyCombination:_acl.ACLbyCombination,makeACLGraph:_acl.makeACLGraph,makeACLGraphbyCombo:_acl.makeACLGraphbyCombo,ACLToString:_acl.ACLToString,comboToString:_acl.comboToString,makeACLString:_acl.makeACLString,putACLObject:_acl.putACLObject,putACLbyCombo:_acl.putACLbyCombo,fixIndividualCardACL:_acl.fixIndividualCardACL,fixIndividualACL:_acl.fixIndividualACL,setACL:_acl.setACL,getACLorDefault:_acl.getACLorDefault,getACL:_acl.getACL};exports.acl=acl;var aclControl={preventBrowserDropEvents:_aclControl.preventBrowserDropEvents,shortNameForFolder:_aclControl.shortNameForFolder,ACLControlBox5:_aclControl.ACLControlBox5};exports.aclControl=aclControl},"./lib/acl/styles.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.styles=void 0;exports.styles={aclControlBoxContainer:{margin:"1em"},aclControlBoxHeader:{fontSize:"120%",margin:"0 0 1rem"},aclControlBoxStatus:{display:"none",margin:"1rem 0"},aclControlBoxStatusRevealed:{display:"block"},aclGroupContent:{maxWidth:650},accessGroupList:{display:"grid",gridTemplateColumns:"1fr",margin:"1em",width:"100%"},accessGroupListItem:{display:"grid",gridTemplateColumns:"100px auto 30%"},defaultsController:{display:"flex"},defaultsControllerNotice:{color:"#888",flexGrow:1,fontSize:"80%"},bigButton:{backgroundColor:"white",border:"0.1em solid #888",borderRadius:"0.3em",maxWidth:"50%",paddingBottom:"1em",paddingTop:"1em"},group:{color:"#888"},"group-1":{color:"green"},"group-2":{color:"#cc0"},"group-3":{color:"orange"},"group-5":{color:"red"},"group-9":{color:"blue"},"group-13":{color:"purple"},trustedAppAddApplicationsTable:{backgroundColor:"#eee"},trustedAppCancelButton:{float:"right"},trustedAppControllerI:{borderColor:"orange",borderRadius:"1em",borderWidth:"0.1em"},temporaryStatusInit:{background:"green"},temporaryStatusEnd:{background:"transparent",transition:"background 5s linear"}}},"./lib/chat/bookmarks.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.findBookmarkDocument=function findBookmarkDocument(_x){return _findBookmarkDocument.apply(this,arguments)},exports.renderBookmarksButton=function renderBookmarksButton(_x7,_x8){return _renderBookmarksButton.apply(this,arguments)},exports.toggleBookmark=toggleBookmark;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_iconBase=__webpack_require__("./lib/iconBase.js"),_index=__webpack_require__("./lib/media/index.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),pad=_interopRequireWildcard(__webpack_require__("./lib/pad.js")),rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js")),style=_interopRequireWildcard(__webpack_require__("./lib/style.js")),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),_login=__webpack_require__("./lib/login/login.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var UI={icons:_iconBase.icons,ns,media:_index.media,pad,rdf,style,utils,widgets},$rdf=UI.rdf,BOOK=$rdf.Namespace("http://www.w3.org/2002/01/bookmark#"),label=utils.label,dom=window.document||null;function createIfNotExists(doc){return new Promise((function(resolve,reject){_solidLogic.store.fetcher.load(doc).then((function(response){debug.log("createIfNotExists doc exists, all good "+doc),resolve(response)}),(function(err){404===err.response.status?(debug.log("createIfNotExists doc does NOT exist, will create... "+doc),_solidLogic.store.fetcher.webOperation("PUT",doc.uri,{data:"",contentType:"text/turtle"}).then((function(response){delete _solidLogic.store.fetcher.requested[doc.uri],debug.log("createIfNotExists doc created ok "+doc),resolve(response)}),(function(err){debug.log("createIfNotExists doc FAILED: "+doc+": "+err),reject(err)}))):(debug.log("createIfNotExists doc load error NOT 404:  "+doc+": "+err),reject(err))}))}))}function updatePromise(del,ins){return new Promise((function(resolve,reject){_solidLogic.store.updater.update(del,ins,(function(uri,ok,errorBody){ok?resolve():reject(new Error(errorBody))}))}))}function _findBookmarkDocument(){return(_findBookmarkDocument=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(userContext){var theClass,fileTail,newBookmarkFile;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return theClass=BOOK("Bookmark"),fileTail="bookmarks.ttl",!0,_context.next=5,(0,_login.findAppInstances)(userContext,theClass,true);case 5:if(!(userContext.instances&&userContext.instances.length>0)){_context.next=10;break}userContext.bookmarkDocument=userContext.instances[0],userContext.instances.length>1&&alert("More than one bookmark file! "+userContext.instances),_context.next=28;break;case 10:if(!userContext.publicProfile){_context.next=27;break}return newBookmarkFile=$rdf.sym(userContext.publicProfile.dir().uri+fileTail),_context.prev=12,debug.log("Creating new bookmark file "+newBookmarkFile),_context.next=16,createIfNotExists(newBookmarkFile);case 16:_context.next=22;break;case 18:return _context.prev=18,_context.t0=_context.catch(12),alert.error("Can't make fresh bookmark file:"+_context.t0),_context.abrupt("return",userContext);case 22:return _context.next=24,(0,_solidLogic.registerInTypeIndex)(userContext,newBookmarkFile,theClass,!0);case 24:userContext.bookmarkDocument=newBookmarkFile,_context.next=28;break;case 27:alert("You seem to have no bookmark file and not even a profile file.");case 28:return _context.abrupt("return",userContext);case 29:case"end":return _context.stop()}}),_callee,null,[[12,18]])})))).apply(this,arguments)}function addBookmark(_x2,_x3){return _addBookmark.apply(this,arguments)}function _addBookmark(){return(_addBookmark=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(context,target){var title,me,author,bookmarkDoc,bookmark,ins,msg;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(title="",me=_solidLogic.authn.currentUser()){_context2.next=4;break}throw new Error("Must be logged on to add Bookmark");case 4:return author=_solidLogic.store.any(target,ns.foaf("maker")),title=label(author)+": "+_solidLogic.store.anyValue(target,ns.sioc("content")).slice(0,80),bookmarkDoc=context.bookmarkDocument,bookmark=UI.widgets.newThing(bookmarkDoc,title),ins=[$rdf.st(bookmarkDoc,UI.ns.dct("references"),bookmark,bookmarkDoc),$rdf.st(bookmark,UI.ns.rdf("type"),BOOK("Bookmark"),bookmarkDoc),$rdf.st(bookmark,UI.ns.dct("created"),new Date,bookmarkDoc),$rdf.st(bookmark,BOOK("recalls"),target,bookmarkDoc),$rdf.st(bookmark,UI.ns.foaf("maker"),me,bookmarkDoc),$rdf.st(bookmark,UI.ns.dct("title"),title,bookmarkDoc)],_context2.prev=9,_context2.next=12,updatePromise([],ins);case 12:_context2.next=19;break;case 14:return _context2.prev=14,_context2.t0=_context2.catch(9),msg="Making bookmark: "+_context2.t0,alert.error(msg),_context2.abrupt("return",null);case 19:return _context2.abrupt("return",bookmark);case 20:case"end":return _context2.stop()}}),_callee2,null,[[9,14]])})))).apply(this,arguments)}function toggleBookmark(_x4,_x5,_x6){return _toggleBookmark.apply(this,arguments)}function _toggleBookmark(){return(_toggleBookmark=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(userContext,target,bookmarkButton){var bookmarks,i,bookmark;return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_solidLogic.store.fetcher.load(userContext.bookmarkDocument);case 2:if(!(bookmarks=_solidLogic.store.each(null,BOOK("recalls"),target,userContext.bookmarkDocument)).length){_context3.next=24;break}if(confirm("Delete bookmark on this?"+bookmarks.length)){_context3.next=6;break}return _context3.abrupt("return");case 6:i=0;case 7:if(!(i<bookmarks.length)){_context3.next=22;break}return _context3.prev=8,_context3.next=11,updatePromise(_solidLogic.store.connectedStatements(bookmarks[i]),[]);case 11:bookmarkButton.style.backgroundColor="white",debug.log("Bookmark deleted: "+bookmarks[i]),_context3.next=19;break;case 15:_context3.prev=15,_context3.t0=_context3.catch(8),debug.error("Cant delete bookmark:"+_context3.t0),alert("Cant delete bookmark:"+_context3.t0);case 19:i++,_context3.next=7;break;case 22:_context3.next=29;break;case 24:return _context3.next=26,addBookmark(userContext,target);case 26:bookmark=_context3.sent,bookmarkButton.style.backgroundColor="yellow",debug.log("Bookmark added: "+bookmark);case 29:case"end":return _context3.stop()}}),_callee3,null,[[8,15]])})))).apply(this,arguments)}function _renderBookmarksButton(){return _renderBookmarksButton=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee5(userContext,target){var setBookmarkButtonColor,_setBookmarkButtonColor,bookmarkButton;return _regenerator.default.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(_setBookmarkButtonColor=function _setBookmarkButtonCol2(){return _setBookmarkButtonColor=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(bookmarkButton){var bookmarked;return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,_solidLogic.store.fetcher.load(userContext.bookmarkDocument);case 2:bookmarked=_solidLogic.store.any(null,BOOK("recalls"),bookmarkButton.target,userContext.bookmarkDocument),bookmarkButton.style=UI.style.buttonStyle,bookmarked&&(bookmarkButton.style.backgroundColor="yellow");case 5:case"end":return _context4.stop()}}),_callee4)}))),_setBookmarkButtonColor.apply(this,arguments)},setBookmarkButtonColor=function _setBookmarkButtonCol(_x9){return _setBookmarkButtonColor.apply(this,arguments)},!userContext.bookmarkDocument){_context5.next=8;break}return(bookmarkButton=UI.widgets.button(dom,UI.icons.iconBase+"noun_45961.svg",label(BOOK("Bookmark")),(function(){toggleBookmark(userContext,target,bookmarkButton)}))).target=target,_context5.next=7,setBookmarkButtonColor(bookmarkButton);case 7:return _context5.abrupt("return",bookmarkButton);case 8:case"end":return _context5.stop()}}),_callee5)}))),_renderBookmarksButton.apply(this,arguments)}},"./lib/chat/chatLogic.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChatChannel=void 0,exports._createIfNotExists=function _createIfNotExists(_x4){return _createIfNotExists2.apply(this,arguments)},exports.isDeleted=function isDeleted(message){return _solidLogic.store.holds(message,ns.schema("dateDeleted"),null,message.doc())},exports.isHidden=function isHidden(message){return this.isDeleted(message)||this.isReplaced(message)},exports.isReplaced=function isReplaced(message){return _solidLogic.store.holds(message,ns.dct("isReplacedBy"),null,message.doc())},exports.mostRecentVersion=mostRecentVersion,exports.nick=function nick(person){var s=_solidLogic.store.any(person,ns.foaf("nick"));return s?""+s.value:""+utils.label(person)},exports.originalVersion=function originalVersion(message){var msg=message;for(;msg;)message=msg,msg=_solidLogic.store.any(null,ns.dct("isReplacedBy"),message,message.doc());return message};var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_dateFolder=__webpack_require__("./lib/chat/dateFolder.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),$rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js")),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var ChatChannel=function(){function ChatChannel(channel,options){(0,_classCallCheck2.default)(this,ChatChannel),this.channel=channel,this.channelRoot=channel.doc(),this.options=options,this.dateFolder=new _dateFolder.DateFolder(this.channelRoot,"chat.ttl"),this.div=null}var _deleteMessage,_updateMessage,_createMessage;return(0,_createClass2.default)(ChatChannel,[{key:"createMessage",value:(_createMessage=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(text){return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",this.updateMessage(text));case 1:case"end":return _context.stop()}}),_callee,this)}))),function createMessage(_x){return _createMessage.apply(this,arguments)})},{key:"updateMessage",value:(_updateMessage=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(text){var oldMsg,deleteIt,sts,now,timestamp,dateStamp,chatDocument,message,me,msg,_args2=arguments;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return oldMsg=_args2.length>1&&void 0!==_args2[1]?_args2[1]:null,deleteIt=_args2.length>2?_args2[2]:void 0,sts=[],now=new Date,timestamp=""+now.getTime(),dateStamp=$rdf.term(now),chatDocument=oldMsg?oldMsg.doc():this.dateFolder.leafDocumentFromDate(now),message=_solidLogic.store.sym(chatDocument.uri+"#Msg"+timestamp),me=_solidLogic.authn.currentUser(),oldMsg?(sts.push($rdf.st(mostRecentVersion(oldMsg),ns.dct("isReplacedBy"),message,chatDocument)),deleteIt&&sts.push($rdf.st(message,ns.schema("dateDeleted"),dateStamp,chatDocument))):sts.push($rdf.st(this.channel,ns.wf("message"),message,chatDocument)),sts.push($rdf.st(message,ns.sioc("content"),_solidLogic.store.literal(text),chatDocument)),sts.push($rdf.st(message,ns.dct("created"),dateStamp,chatDocument)),me&&sts.push($rdf.st(message,ns.foaf("maker"),me,chatDocument)),_context2.prev=13,_context2.next=16,_solidLogic.store.updater.update([],sts);case 16:_context2.next=24;break;case 18:throw _context2.prev=18,_context2.t0=_context2.catch(13),msg="Error saving chat message: "+_context2.t0,debug.warn(msg),alert(msg),new Error(msg);case 24:return _context2.abrupt("return",message);case 25:case"end":return _context2.stop()}}),_callee2,this,[[13,18]])}))),function updateMessage(_x2){return _updateMessage.apply(this,arguments)})},{key:"deleteMessage",value:(_deleteMessage=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(message){return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",this.updateMessage("(message deleted)",message,!0));case 1:case"end":return _context3.stop()}}),_callee3,this)}))),function deleteMessage(_x3){return _deleteMessage.apply(this,arguments)})}]),ChatChannel}();function mostRecentVersion(message){for(var msg=message;msg;)message=msg,msg=_solidLogic.store.any(message,ns.dct("isReplacedBy"),null,message.doc());return message}function _createIfNotExists2(){return _createIfNotExists2=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(doc){var contentType,data,response,_args4=arguments;return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return contentType=_args4.length>1&&void 0!==_args4[1]?_args4[1]:"text/turtle",data=_args4.length>2&&void 0!==_args4[2]?_args4[2]:"",_context4.prev=2,_context4.next=5,_solidLogic.store.fetcher.load(doc);case 5:response=_context4.sent,_context4.next=28;break;case 8:if(_context4.prev=8,_context4.t0=_context4.catch(2),404!==_context4.t0.response.status){_context4.next=26;break}return debug.log("createIfNotExists: doc does NOT exist, will create... "+doc),_context4.prev=12,_context4.next=15,_solidLogic.store.fetcher.webOperation("PUT",doc.uri,{data,contentType});case 15:response=_context4.sent,_context4.next=22;break;case 18:throw _context4.prev=18,_context4.t1=_context4.catch(12),debug.log("createIfNotExists doc FAILED: "+doc+": "+_context4.t1),_context4.t1;case 22:return delete _solidLogic.store.fetcher.requested[doc.uri],_context4.abrupt("return",response);case 26:throw debug.log("createIfNotExists doc load error NOT 404:  "+doc+": "+_context4.t0),_context4.t0;case 28:return _context4.abrupt("return",response);case 29:case"end":return _context4.stop()}}),_callee4,null,[[2,8],[12,18]])}))),_createIfNotExists2.apply(this,arguments)}exports.ChatChannel=ChatChannel},"./lib/chat/dateFolder.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-iso-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.DateFolder=void 0;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),$rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var DateFolder=function(){function DateFolder(rootThing,leafFileName,membershipProperty){(0,_classCallCheck2.default)(this,DateFolder),this.root=rootThing,this.rootFolder=rootThing.dir(),this.leafFileName=leafFileName||"index.ttl",this.membershipProperty=membershipProperty||ns.wf("leafObject")}var _firstLeaf,_loadPrevious;return(0,_createClass2.default)(DateFolder,[{key:"leafDocumentFromDate",value:function leafDocumentFromDate(date){var path=date.toISOString().split("T")[0].replace(/-/g,"/");return path=this.root.dir().uri+path+"/"+this.leafFileName,_solidLogic.store.sym(path)}},{key:"dateFromLeafDocument",value:function dateFromLeafDocument(doc){var head=this.rootFolder.uri.length,str=doc.uri.slice(head,head+10).replace(/\//g,"-"),date=new Date(str);return debug.log("Date for "+doc+":"+date.toISOString()),date}},{key:"loadPrevious",value:(_loadPrevious=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(date,backwards){var thisDateFolder,previousPeriod,_previousPeriod,folder,found,doc;return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _previousPeriod=function _previousPeriod3(){return _previousPeriod=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(file,level){var younger,suitable,lastNonEmpty,_lastNonEmpty,parent,siblings,folder,uncle,cousins,result;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _lastNonEmpty=function _lastNonEmpty3(){return _lastNonEmpty=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(siblings){var _folder,leafDocument;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if((siblings=siblings.filter(suitable)).sort(),backwards||siblings.reverse(),3===level){_context.next=5;break}return _context.abrupt("return",siblings.pop());case 5:if(!siblings.length){_context.next=14;break}return _folder=siblings.pop(),leafDocument=_solidLogic.store.sym(_folder.uri+thisDateFolder.leafFileName),_context.next=10,_solidLogic.store.fetcher.load(leafDocument);case 10:if(!(_solidLogic.store.statementsMatching(null,ns.dct("created"),null,leafDocument).length>0)){_context.next=12;break}return _context.abrupt("return",_folder);case 12:_context.next=5;break;case 14:return _context.abrupt("return",null);case 15:case"end":return _context.stop()}}),_callee)}))),_lastNonEmpty.apply(this,arguments)},lastNonEmpty=function _lastNonEmpty2(_x5){return _lastNonEmpty.apply(this,arguments)},suitable=function _suitable(x){var tail=x.uri.slice(0,-1).split("/").slice(-1)[0];return!!"0123456789".includes(tail[0])},younger=function _younger(x){return!(backwards?x.uri>=file.uri:x.uri<=file.uri)},parent=file.dir(),_context2.next=7,_solidLogic.store.fetcher.load(parent);case 7:return siblings=(siblings=_solidLogic.store.each(parent,ns.ldp("contains"))).filter(younger),_context2.next=11,lastNonEmpty(siblings);case 11:if(!(folder=_context2.sent)){_context2.next=14;break}return _context2.abrupt("return",folder);case 14:if(0!==level){_context2.next=16;break}return _context2.abrupt("return",null);case 16:return _context2.next=18,previousPeriod(parent,level-1);case 18:if(uncle=_context2.sent){_context2.next=21;break}return _context2.abrupt("return",null);case 21:return _context2.next=23,_solidLogic.store.fetcher.load(uncle);case 23:return cousins=_solidLogic.store.each(uncle,ns.ldp("contains")),_context2.next=26,lastNonEmpty(cousins);case 26:return result=_context2.sent,_context2.abrupt("return",result);case 28:case"end":return _context2.stop()}}),_callee2)}))),_previousPeriod.apply(this,arguments)},previousPeriod=function _previousPeriod2(_x3,_x4){return _previousPeriod.apply(this,arguments)},thisDateFolder=this,folder=this.leafDocumentFromDate(date).dir(),_context3.next=6,previousPeriod(folder,3);case 6:if(!(found=_context3.sent)){_context3.next=10;break}return doc=_solidLogic.store.sym(found.uri+this.leafFileName),_context3.abrupt("return",this.dateFromLeafDocument(doc));case 10:return _context3.abrupt("return",null);case 11:case"end":return _context3.stop()}}),_callee3,this)}))),function loadPrevious(_x,_x2){return _loadPrevious.apply(this,arguments)})},{key:"firstLeaf",value:(_firstLeaf=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee5(backwards){var folderStore,folderFetcher,earliestSubfolder,_earliestSubfolder,y,month,d,leafDocument,leafObjects,msg,sortMe;return _regenerator.default.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _earliestSubfolder=function _earliestSubfolder3(){return(_earliestSubfolder=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(parent){var suitable,kids;return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return suitable=function _suitable2(x){var tail=x.uri.slice(0,-1).split("/").slice(-1)[0];return!!"0123456789".includes(tail[0])},debug.log("            parent "+parent),delete folderFetcher.requested[parent.uri],_context4.next=5,folderFetcher.load(parent,{force:!0});case 5:if(0!==(kids=(kids=folderStore.each(parent,ns.ldp("contains"))).filter(suitable)).length){_context4.next=9;break}throw new Error(" @@@  No children to         parent2 "+parent);case 9:return kids.sort(),backwards&&kids.reverse(),_context4.abrupt("return",kids[0]);case 12:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)},earliestSubfolder=function _earliestSubfolder2(_x7){return _earliestSubfolder.apply(this,arguments)},folderStore=$rdf.graph(),folderFetcher=new $rdf.Fetcher(folderStore),_context5.next=6,earliestSubfolder(this.root.dir());case 6:return y=_context5.sent,_context5.next=9,earliestSubfolder(y);case 9:return month=_context5.sent,_context5.next=12,earliestSubfolder(month);case 12:return d=_context5.sent,leafDocument=$rdf.sym(d.uri+"chat.ttl"),_context5.next=16,folderFetcher.load(leafDocument);case 16:if(0!==(leafObjects=folderStore.each(this.root,this.membershipProperty,null,leafDocument)).length){_context5.next=21;break}throw msg="  INCONSISTENCY -- no chat leafObject in file "+leafDocument,debug.trace(msg),new Error(msg);case 21:return(sortMe=leafObjects.map((function(leafObject){return[folderStore.any(leafObject,ns.dct("created")),leafObject]}))).sort(),backwards&&sortMe.reverse(),debug.log((backwards?"Latest":"Earliest")+" leafObject is "+sortMe[0][1]),_context5.abrupt("return",sortMe[0][1]);case 26:case"end":return _context5.stop()}}),_callee5,this)}))),function firstLeaf(_x6){return _firstLeaf.apply(this,arguments)})}]),DateFolder}();exports.DateFolder=DateFolder},"./lib/chat/infinite.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-iso-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.desktopNotification=desktopNotification,exports.infiniteMessageArea=function infiniteMessageArea(_x,_x2,_x3,_x4){return _infiniteMessageArea.apply(this,arguments)},exports.insertMessageIntoTable=insertMessageIntoTable;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),$rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_iconBase=__webpack_require__("./lib/iconBase.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js")),_chatLogic=__webpack_require__("./lib/chat/chatLogic.js"),_message=__webpack_require__("./lib/chat/message.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function desktopNotification(str){"Notification"in window?"granted"===Notification.permission?new Notification(str):"denied"!==Notification.permission&&Notification.requestPermission().then((function(permission){"granted"===permission&&new Notification(str)})):debug.warn("This browser does no t support desktop notification")}function insertMessageIntoTable(channelObject,messageTable,message,fresh,options,userContext){var messageRow=(0,_message.renderMessageRow)(channelObject,message,fresh,options,userContext);options.selectedMessage&&options.selectedMessage.sameTerm(message)&&(messageRow.style.backgroundColor="yellow",options.selectedElement=messageRow,messageTable.selectedElement=messageRow);for(var done=!1,ele=messageTable.firstChild;ele;ele=ele.nextSibling){var newestFirst=!0===options.newestfirst,dateString=messageRow.AJAR_date;if(dateString>ele.AJAR_date&&newestFirst||dateString<ele.AJAR_date&&!newestFirst){messageTable.insertBefore(messageRow,ele),done=!0;break}}done||messageTable.appendChild(messageRow)}function _infiniteMessageArea(){return _infiniteMessageArea=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee12(dom,wasStore,chatChannel,options){var syncMessages,addMessage,insertPreviousMessages,_insertPreviousMessages,removePreviousMessages,createMessageTable,_createMessageTable,renderMessageTable,addNewChatDocumentIfNewDay,_addNewChatDocumentIfNewDay,appendCurrentMessages,_appendCurrentMessages,loadMoreWhereNeeded,_loadMoreWhereNeeded,loadInitialContent,_loadInitialContent,newestFirst,channelObject,dateFolder,div,statusArea,userContext,liveMessageTable,earliest,latest,lock;return _regenerator.default.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _loadInitialContent=function _loadInitialContent3(){return(_loadInitialContent=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee11(){var yank,fixScroll,live,selectedDocument,now,todayDocument,selectedMessageTable,selectedDate;return _regenerator.default.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:if(fixScroll=function _fixScroll(){options.selectedElement?options.selectedElement.scrollIntoView({block:"center"}):liveMessageTable.inputRow.scrollIntoView&&liveMessageTable.inputRow.scrollIntoView(newestFirst)},yank=function _yank(){selectedMessageTable.selectedElement.scrollIntoView({block:"center"})},options.selectedMessage&&(selectedDocument=options.selectedMessage.doc(),now=new Date,todayDocument=dateFolder.leafDocumentFromDate(now),live=todayDocument.sameTerm(selectedDocument)),!options.selectedMessage||live){_context11.next=15;break}return selectedDate=dateFolder.dateFromLeafDocument(selectedDocument),_context11.next=7,createMessageTable(selectedDate,live);case 7:selectedMessageTable=_context11.sent,div.appendChild(selectedMessageTable),earliest.messageTable=selectedMessageTable,latest.messageTable=selectedMessageTable,yank(),setTimeout(yank,1e3),_context11.next=19;break;case 15:return _context11.next=17,appendCurrentMessages();case 17:earliest.messageTable=liveMessageTable,latest.messageTable=liveMessageTable;case 19:return _context11.next=21,loadMoreWhereNeeded(null,fixScroll);case 21:div.addEventListener("scroll",loadMoreWhereNeeded),options.solo&&document.body.addEventListener("scroll",loadMoreWhereNeeded);case 23:case"end":return _context11.stop()}}),_callee11)})))).apply(this,arguments)},loadInitialContent=function _loadInitialContent2(){return _loadInitialContent.apply(this,arguments)},_loadMoreWhereNeeded=function _loadMoreWhereNeeded3(){return(_loadMoreWhereNeeded=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee10(event,fixScroll){var freeze,magicZone,done,scrollBottom,scrollTop;return _regenerator.default.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:if(!lock){_context10.next=2;break}return _context10.abrupt("return");case 2:lock=!0,freeze=!fixScroll,magicZone=150;case 5:if(!(div.scrollTop<magicZone&&earliest.messageTable&&!earliest.messageTable.initial&&earliest.messageTable.extendBackwards)){_context10.next=21;break}if(0!==div.scrollHeight){_context10.next=10;break}return setTimeout(loadMoreWhereNeeded,2e3),lock=!1,_context10.abrupt("return");case 10:return scrollBottom=div.scrollHeight-div.scrollTop,debug.log("infinite scroll: adding above: top "+div.scrollTop),_context10.next=14,earliest.messageTable.extendBackwards();case 14:if(done=_context10.sent,freeze&&(div.scrollTop=div.scrollHeight-scrollBottom),fixScroll&&fixScroll(),!done){_context10.next=19;break}return _context10.abrupt("break",21);case 19:_context10.next=5;break;case 21:if(!(options.selectedMessage&&div.scrollHeight-div.scrollTop-div.clientHeight<magicZone&&latest.messageTable&&!latest.messageTable.final&&latest.messageTable.extendForwards)){_context10.next=33;break}return scrollTop=div.scrollTop,debug.log("infinite scroll: adding below: bottom: "+(div.scrollHeight-div.scrollTop-div.clientHeight)),_context10.next=26,latest.messageTable.extendForwards();case 26:if(done=_context10.sent,freeze&&(div.scrollTop=scrollTop),fixScroll&&fixScroll(),!done){_context10.next=31;break}return _context10.abrupt("break",33);case 31:_context10.next=21;break;case 33:lock=!1;case 34:case"end":return _context10.stop()}}),_callee10)})))).apply(this,arguments)},loadMoreWhereNeeded=function _loadMoreWhereNeeded2(_x10,_x11){return _loadMoreWhereNeeded.apply(this,arguments)},_appendCurrentMessages=function _appendCurrentMessage2(){return(_appendCurrentMessages=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee9(){var now,chatDocument,messageTable;return _regenerator.default.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return now=new Date,chatDocument=dateFolder.leafDocumentFromDate(now),_context9.next=4,createMessageTable(now,!0);case 4:return messageTable=_context9.sent,div.appendChild(messageTable),div.refresh=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee8(){return _regenerator.default.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,addNewChatDocumentIfNewDay(new Date);case 2:syncMessages(chatChannel,messageTable),desktopNotification(chatChannel);case 4:case"end":return _context8.stop()}}),_callee8)}))),_solidLogic.store.updater.addDownstreamChangeListener(chatDocument,div.refresh),liveMessageTable=messageTable,latest.messageTable=liveMessageTable,_context9.abrupt("return",messageTable);case 11:case"end":return _context9.stop()}}),_callee9)})))).apply(this,arguments)},appendCurrentMessages=function _appendCurrentMessage(){return _appendCurrentMessages.apply(this,arguments)},_addNewChatDocumentIfNewDay=function _addNewChatDocumentIf2(){return(_addNewChatDocumentIfNewDay=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee7(){var newChatDocument,oldChatDocument,sts;return _regenerator.default.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if((newChatDocument=dateFolder.leafDocumentFromDate(new Date)).sameTerm(latest.messageTable.chatDocument)){_context7.next=7;break}return liveMessageTable.inputRow&&(liveMessageTable.removeChild(liveMessageTable.inputRow),delete liveMessageTable.inputRow),oldChatDocument=latest.messageTable.chatDocument,_context7.next=6,appendCurrentMessages();case 6:if(!_solidLogic.store.holds(oldChatDocument,ns.rdfs("seeAlso"),newChatDocument,oldChatDocument)){sts=[$rdf.st(oldChatDocument,ns.rdfs("seeAlso"),newChatDocument,oldChatDocument)];try{_solidLogic.store.updater.update([],sts)}catch(err){alert("Unable to link old chat file to new one:"+err)}}case 7:case"end":return _context7.stop()}}),_callee7)})))).apply(this,arguments)},addNewChatDocumentIfNewDay=function _addNewChatDocumentIf(){return _addNewChatDocumentIfNewDay.apply(this,arguments)},renderMessageTable=function _renderMessageTable(date,live){var scrollBackbutton,scrollForwardButton;function extendBackwards(){return _extendBackwards.apply(this,arguments)}function _extendBackwards(){return(_extendBackwards=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(){var done;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,insertPreviousMessages(!0);case 2:return(done=_context.sent)?(scrollBackbutton&&(scrollBackbutton.firstChild.setAttribute("src",_iconBase.icons.iconBase+"noun_T-Block_1114655_000000.svg"),scrollBackbutton.disabled=!0),messageTable.initial=!0):messageTable.extendedBack=!0,setScrollBackbuttonIcon(),_context.abrupt("return",done);case 6:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function setScrollBackbuttonIcon(){if(scrollBackbutton){var sense=messageTable.extendedBack?!newestFirst:newestFirst,scrollBackIcon=messageTable.initial?"noun_T-Block_1114655_000000.svg":function getScrollbackIcon(sense){return sense?"noun_1369241.svg":"noun_1369237.svg"}(sense);scrollBackbutton.firstChild.setAttribute("src",_iconBase.icons.iconBase+scrollBackIcon)}}function _scrollBackbuttonHandler(){return(_scrollBackbuttonHandler=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(_event){return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!messageTable.extendedBack){_context2.next=6;break}removePreviousMessages(!0,messageTable),messageTable.extendedBack=!1,setScrollBackbuttonIcon(),_context2.next=8;break;case 6:return _context2.next=8,extendBackwards();case 8:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function extendForwards(){return _extendForwards.apply(this,arguments)}function _extendForwards(){return(_extendForwards=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(){var done;return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,insertPreviousMessages(!1);case 2:return(done=_context3.sent)?(scrollForwardButton.firstChild.setAttribute("src",_iconBase.icons.iconBase+"noun_T-Block_1114655_000000.svg"),scrollForwardButton.disabled=!0,messageTable.final=!0):messageTable.extendedForwards=!0,setScrollForwardButtonIcon(),_context3.abrupt("return",done);case 6:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function setScrollForwardButtonIcon(){var sense=messageTable.extendedForwards?!newestFirst:newestFirst,scrollForwardIcon=messageTable.final?"noun_T-Block_1114657_000000.svg":function getScrollForwardButtonIcon(sense){return sense?"noun_1369237.svg":"noun_1369241.svg"}(sense);scrollForwardButton.firstChild.setAttribute("src",_iconBase.icons.iconBase+scrollForwardIcon)}function _scrollForwardButtonHandler(){return(_scrollForwardButtonHandler=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(_event){return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!messageTable.extendedForwards){_context4.next=6;break}removePreviousMessages(!1,messageTable),messageTable.extendedForwards=!1,setScrollForwardButtonIcon(),_context4.next=9;break;case 6:return _context4.next=8,extendForwards();case 8:latest.messageTable.scrollIntoView(newestFirst);case 9:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)}var messageTable=dom.createElement("table");messageTable.extendBackwards=extendBackwards,messageTable.extendForwards=extendForwards,messageTable.date=date;var chatDocument=dateFolder.leafDocumentFromDate(date);if(messageTable.chatDocument=chatDocument,messageTable.fresh=!1,messageTable.setAttribute("style","width: 100%;"),live){messageTable.final=!0,liveMessageTable=messageTable,latest.messageTable=messageTable;var tr=(0,_message.renderMessageEditor)(channelObject,messageTable,userContext,options);newestFirst?messageTable.insertBefore(tr,messageTable.firstChild):messageTable.appendChild(tr),messageTable.inputRow=tr}if(options.infinite){var scrollBackbuttonTR=dom.createElement("tr"),scrollBackbuttonCell=scrollBackbuttonTR.appendChild(dom.createElement("td")),scrollBackIcon=newestFirst?"noun_1369241.svg":"noun_1369237.svg";scrollBackbutton=widgets.button(dom,_iconBase.icons.iconBase+scrollBackIcon,"Previous messages ..."),scrollBackbuttonCell.style="width:3em; height:3em;",scrollBackbutton.addEventListener("click",(function scrollBackbuttonHandler(_x8){return _scrollBackbuttonHandler.apply(this,arguments)}),!1),messageTable.extendedBack=!1,scrollBackbuttonCell.appendChild(scrollBackbutton),setScrollBackbuttonIcon();var dateCell=scrollBackbuttonTR.appendChild(dom.createElement("td"));dateCell.style="text-align: center; vertical-align: middle; color: #888; font-style: italic;",dateCell.textContent=widgets.shortDate(date.toISOString(),!0);var scrollForwardButtonCell=scrollBackbuttonTR.appendChild(dom.createElement("td")),scrollForwardIcon=newestFirst?"noun_1369241.svg":"noun_1369237.svg";scrollForwardButton=widgets.button(dom,_iconBase.icons.iconBase+scrollForwardIcon,"Later messages ..."),scrollForwardButtonCell.appendChild(scrollForwardButton),scrollForwardButtonCell.style="width:3em; height:3em;",scrollForwardButton.addEventListener("click",(function scrollForwardButtonHandler(_x9){return _scrollForwardButtonHandler.apply(this,arguments)}),!1),messageTable.extendedForward=!1,setScrollForwardButtonIcon(),messageTable.extendedForwards=!1,newestFirst?messageTable.appendChild(scrollBackbuttonTR):messageTable.insertBefore(scrollBackbuttonTR,messageTable.firstChild)}var sts=_solidLogic.store.statementsMatching(null,ns.wf("message"),null,chatDocument);return!live&&sts.length,sts.forEach((function(st){addMessage(st.object,messageTable)})),messageTable.fresh=!0,messageTable.fresh=!1,messageTable},_createMessageTable=function _createMessageTable3(){return(_createMessageTable=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee6(date,live){var chatDocument,messageTable,statusTR;return _regenerator.default.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return debug.log("   createMessageTable for  "+date),chatDocument=dateFolder.leafDocumentFromDate(date),_context6.prev=2,_context6.next=5,_solidLogic.store.fetcher.load(chatDocument);case 5:_context6.next=19;break;case 7:if(_context6.prev=7,_context6.t0=_context6.catch(2),messageTable=dom.createElement("table"),statusTR=messageTable.appendChild(dom.createElement("tr")),!_context6.t0.response||!_context6.t0.response.status||404!==_context6.t0.response.status){_context6.next=16;break}return debug.log("Error 404 for chat file "+chatDocument),_context6.abrupt("return",renderMessageTable(date,live));case 16:debug.log("*** Error NON 404 for chat file "+chatDocument),statusTR.appendChild(widgets.errorMessageBlock(dom,_context6.t0,"pink"));case 18:return _context6.abrupt("return",statusTR);case 19:return _context6.abrupt("return",renderMessageTable(date,live));case 20:case"end":return _context6.stop()}}),_callee6,null,[[2,7]])})))).apply(this,arguments)},createMessageTable=function _createMessageTable2(_x6,_x7){return _createMessageTable.apply(this,arguments)},removePreviousMessages=function _removePreviousMessag(backwards,messageTable){if(backwards?newestFirst:!newestFirst)for(;messageTable.nextSibling;)div.removeChild(messageTable.nextSibling);else for(;messageTable.previousSibling;)div.removeChild(messageTable.previousSibling);(backwards?earliest:latest).messageTable=messageTable},_insertPreviousMessages=function _insertPreviousMessag2(){return(_insertPreviousMessages=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee5(backwards){var extremity,date,live,todayDoc,doc,newMessageTable;return _regenerator.default.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return date=(extremity=backwards?earliest:latest).messageTable.date,_context5.next=4,dateFolder.loadPrevious(date,backwards);case 4:if(date=_context5.sent,debug.log("insertPreviousMessages: from ".concat(backwards?"backwards":"forwards"," loadPrevious: ").concat(date)),date||backwards||liveMessageTable){_context5.next=9;break}return _context5.next=9,appendCurrentMessages();case 9:if(date){_context5.next=11;break}return _context5.abrupt("return",!0);case 11:return live=!1,backwards||(todayDoc=dateFolder.leafDocumentFromDate(new Date),doc=dateFolder.leafDocumentFromDate(date),live=doc.sameTerm(todayDoc)),_context5.next=15,createMessageTable(date,live);case 15:return newMessageTable=_context5.sent,extremity.messageTable=newMessageTable,(backwards?newestFirst:!newestFirst)?div.appendChild(newMessageTable):div.insertBefore(newMessageTable,div.firstChild),_context5.abrupt("return",live);case 19:case"end":return _context5.stop()}}),_callee5)})))).apply(this,arguments)},insertPreviousMessages=function _insertPreviousMessag(_x5){return _insertPreviousMessages.apply(this,arguments)},addMessage=function _addMessage(message,messageTable){var latest=(0,_chatLogic.mostRecentVersion)(message);(0,_chatLogic.isDeleted)(latest)&&!options.showDeletedMessages||insertMessageIntoTable(channelObject,messageTable,message,messageTable.fresh,options,userContext)},syncMessages=function _syncMessages(about,messageTable){var ele,ele2,displayed={};for(ele=messageTable.firstChild;ele;ele=ele.nextSibling)ele.AJAR_subject&&(displayed[ele.AJAR_subject.uri]=!0);var messages=_solidLogic.store.statementsMatching(about,ns.wf("message"),null,messageTable.chatDocument).map((function(st){return st.object})),stored={};for(messages.forEach((function(m){stored[m.uri]=!0,displayed[m.uri]||addMessage(m,messageTable)})),ele=messageTable.firstChild;ele;)ele2=ele.nextSibling,ele.AJAR_subject&&!stored[ele.AJAR_subject.uri]&&messageTable.removeChild(ele),ele=ele2;for(ele=messageTable.firstChild;ele;ele=ele.nextSibling)ele.AJAR_subject&&widgets.refreshTree(ele)},(options=options||{}).authorDateOnLeft=!1,newestFirst="1"===options.newestFirst||!0===options.newestFirst,channelObject=new _chatLogic.ChatChannel(chatChannel,options),dateFolder=channelObject.dateFolder,div=dom.createElement("div"),channelObject.div=div,statusArea=div.appendChild(dom.createElement("div")),userContext={dom,statusArea,div:statusArea},earliest={messageTable:null},latest={messageTable:null},lock=!1,_context12.next=30,loadInitialContent();case 30:return _context12.abrupt("return",div);case 31:case"end":return _context12.stop()}}),_callee12)}))),_infiniteMessageArea.apply(this,arguments)}},"./lib/chat/message.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/core-js/modules/es.date.now.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.creatorAndDate=creatorAndDate,exports.creatorAndDateHorizontal=creatorAndDateHorizontal,exports.elementForImageURI=elementForImageURI,exports.renderMessageEditor=renderMessageEditor,exports.renderMessageRow=function renderMessageRow(channelObject,message,fresh,options,userContext){var colorizeByAuthor="1"===options.colorizeByAuthor||!0===options.colorizeByAuthor,creator=_solidLogic.store.any(message,ns.foaf("maker")),date=_solidLogic.store.any(message,ns.dct("created")),latestVersion=(0,_chatLogic.mostRecentVersion)(message),content=_solidLogic.store.any(latestVersion,ns.sioc("content")),originalMessage=(0,_chatLogic.originalVersion)(message),edited=!message.sameTerm(originalMessage),sortDate=_solidLogic.store.the(originalMessage,ns.dct("created"),null,originalMessage.doc()),messageRow=dom.createElement("tr");messageRow.AJAR_date=sortDate.value,messageRow.AJAR_subject=message;var td1=dom.createElement("td");if(messageRow.appendChild(td1),options.authorDateOnLeft)creatorAndDate(td1,creator,widgets.shortDate(sortDate.value),message);else{var img=dom.createElement("img");img.setAttribute("style","max-height: 2.5em; max-width: 2.5em; border-radius: 0.5em; margin: auto;"),widgets.setImage(img,creator),td1.appendChild(img)}var bothDates=widgets.shortDate(sortDate.value);edited&&(bothDates+=" ... "+widgets.shortDate(date.value));var td2=messageRow.appendChild(dom.createElement("td"));options.authorDateOnLeft||creatorAndDateHorizontal(td2,creator,bothDates,message);var text=content.value.trim(),isURI=/^https?:\/[^ <>]*$/i.test(text),para=null;if(isURI){if(/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test(text)&&options.expandImagesInline){var _img=elementForImageURI(text,options);td2.appendChild(_img)}else{var anc=td2.appendChild(dom.createElement("a"));para=anc.appendChild(dom.createElement("p")),anc.href=text,para.textContent=text,td2.appendChild(anc)}}else para=dom.createElement("p"),td2.appendChild(para),para.textContent=text;if(para){var bgcolor=colorizeByAuthor?pad.lightColorHash(creator):function getBgColor(fresh){return fresh?"#e8ffe8":"white"}(fresh);para.setAttribute("style",messageBodyStyle+"background-color: "+bgcolor+";")}var strip=(0,_messageTools.sentimentStripLinked)(message,message.doc());strip.children.length&&(td2.appendChild(dom.createElement("br")),td2.appendChild(strip));var td3=dom.createElement("td");messageRow.appendChild(td3);var toolsButton=widgets.button(dom,_iconBase.icons.iconBase+"noun_243787.svg","...");return td3.appendChild(toolsButton),toolsButton.addEventListener("click",(function(_event){if(messageRow.toolTR)return messageRow.parentNode.removeChild(messageRow.toolTR),void delete messageRow.toolTR;var toolsTR=dom.createElement("tr"),tools=(0,_messageTools.messageToolbar)(message,messageRow,userContext,channelObject);tools.style="border: 0.05em solid #888; border-radius: 0 0 0.7em 0.7em;  border-top: 0; height:3.5em; background-color: #fff;",messageRow.nextSibling?messageRow.parentElement.insertBefore(toolsTR,messageRow.nextSibling):messageRow.parentElement.appendChild(toolsTR),messageRow.toolTR=toolsTR,toolsTR.appendChild(dom.createElement("td"));var toolsTD=toolsTR.appendChild(dom.createElement("td"));toolsTR.appendChild(dom.createElement("td")),toolsTD.appendChild(tools)})),messageRow},exports.switchToEditor=function switchToEditor(messageRow,message,channelObject,userContext){var messageTable=messageRow.parentNode,editRow=renderMessageEditor(channelObject,messageTable,userContext,channelObject.options,(0,_chatLogic.mostRecentVersion)(message));messageTable.insertBefore(editRow,messageRow),editRow.originalRow=messageRow,messageRow.style.visibility="hidden"};var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_infinite=__webpack_require__("./lib/chat/infinite.js"),_messageTools=__webpack_require__("./lib/chat/messageTools.js"),_bookmarks=__webpack_require__("./lib/chat/bookmarks.js"),_chatLogic=__webpack_require__("./lib/chat/chatLogic.js"),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_iconBase=__webpack_require__("./lib/iconBase.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),_login=__webpack_require__("./lib/login/login.js"),_index=__webpack_require__("./lib/media/index.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),pad=_interopRequireWildcard(__webpack_require__("./lib/pad.js")),style=_interopRequireWildcard(__webpack_require__("./lib/style.js")),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var dom=window.document,messageBodyStyle=style.messageBodyStyle,label=utils.label;function elementForImageURI(imageUri,options){var img=dom.createElement("img"),height="10";options.inlineImageHeightEms&&(height=(""+options.inlineImageHeightEms).trim()),img.setAttribute("style","max-height: "+height+"em; border-radius: 1em; margin: 0.7em;"),imageUri&&img.setAttribute("src",imageUri);var anchor=dom.createElement("a");return anchor.setAttribute("href",imageUri),anchor.setAttribute("target","images"),anchor.appendChild(img),widgets.makeDraggable(img,$rdf.sym(imageUri)),anchor}var anchor=function anchor(text,term){var a=dom.createElement("a");return term&&term.uri&&(a.setAttribute("href",term.uri),a.addEventListener("click",widgets.openHrefInOutlineMode,!0),a.setAttribute("style","color: #3B5998; text-decoration: none; ")),a.textContent=text,a};function nick(person){var s=_solidLogic.store.any(person,ns.foaf("nick"));return s?""+s.value:""+label(person)}function creatorAndDate(td1,creator,date,message){var nickAnchor=td1.appendChild(anchor(nick(creator),creator));creator.uri&&_solidLogic.store.fetcher.nowOrWhenFetched(creator.doc(),void 0,(function(_ok,_body){nickAnchor.textContent=nick(creator)})),td1.appendChild(dom.createElement("br")),td1.appendChild(anchor(date,message))}function creatorAndDateHorizontal(td1,creator,date,message){var nickAnchor=td1.appendChild(anchor(label(creator),creator));creator.uri&&_solidLogic.store.fetcher.nowOrWhenFetched(creator.doc(),void 0,(function(_ok,_body){nickAnchor.textContent=nick(creator)}));var dateBit=td1.appendChild(anchor(date,message));dateBit.style.fontSize="80%",dateBit.style.marginLeft="1em",td1.appendChild(dom.createElement("br"))}function renderMessageEditor(channelObject,messageTable,userContext,options,originalMessage){function handleFieldInput(_x){return _handleFieldInput.apply(this,arguments)}function _handleFieldInput(){return(_handleFieldInput=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee5(_event){return _regenerator.default.wrap((function _callee5$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,sendMessage(field.value,!0);case 2:case"end":return _context6.stop()}}),_callee5)})))).apply(this,arguments)}function sendMessage(_x2,_x3){return _sendMessage.apply(this,arguments)}function _sendMessage(){return(_sendMessage=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee6(text,fromMainField){var sendComplete,message;return _regenerator.default.wrap((function _callee6$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return sendComplete=function _sendComplete(message,_text2){if((0,_infinite.insertMessageIntoTable)(channelObject,messageTable,message,!1,options,userContext),originalMessage){var oldRow=messageEditor.originalRow;oldRow.parentNode?oldRow.parentNode.removeChild(oldRow):(debug.warn("No parentNode on old message "+oldRow.textContent),oldRow.style.backgroundColor="#fee",oldRow.style.visibility="hidden"),messageEditor.parentNode.removeChild(messageEditor)}else fromMainField&&(field.value="",field.setAttribute("style",messageBodyStyle),field.disabled=!1,field.scrollIntoView(options.newestFirst),field.focus(),field.select())},fromMainField&&(field.setAttribute("style",messageBodyStyle+"color: #bbb;"),field.disabled=!0),_context7.prev=2,_context7.next=5,channelObject.updateMessage(text,originalMessage);case 5:message=_context7.sent,_context7.next=13;break;case 8:return _context7.prev=8,_context7.t0=_context7.catch(2),(userContext.statusArea||messageEditor).appendChild(widgets.errorMessageBlock(dom,"Error writing message: "+_context7.t0)),_context7.abrupt("return");case 13:sendComplete(message,text);case 14:case"end":return _context7.stop()}}),_callee6,null,[[2,8]])})))).apply(this,arguments)}function droppedFileHandler(files){var base=messageTable.chatDocument.dir().uri;widgets.uploadFiles(_solidLogic.store.fetcher,files,base+"Files",base+"Pictures",function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(theFile,destURI){return _regenerator.default.wrap((function _callee$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,sendMessage(destURI);case 2:case"end":return _context2.stop()}}),_callee)})));return function(_x4,_x5){return _ref.apply(this,arguments)}}())}var sortDate,sendIcon,droppedURIHandler=function(){var _ref2=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(uris){var _iterator,_step,uri;return _regenerator.default.wrap((function _callee2$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:_iterator=_createForOfIteratorHelper(uris),_context3.prev=1,_iterator.s();case 3:if((_step=_iterator.n()).done){_context3.next=9;break}return uri=_step.value,_context3.next=7,sendMessage(uri);case 7:_context3.next=3;break;case 9:_context3.next=14;break;case 11:_context3.prev=11,_context3.t0=_context3.catch(1),_iterator.e(_context3.t0);case 14:return _context3.prev=14,_iterator.f(),_context3.finish(14);case 17:case"end":return _context3.stop()}}),_callee2,null,[[1,11,14,17]])})));return function droppedURIHandler(_x6){return _ref2.apply(this,arguments)}}();originalMessage?(sortDate=_solidLogic.store.anyValue(originalMessage,ns.dct("created"),null,originalMessage.doc()),sendIcon=_iconBase.icons.iconBase+"noun_1180158.svg"):(sendIcon=_iconBase.icons.iconBase+"noun_383448.svg",sortDate="9999-01-01T00:00:00Z");var field,sendButton,messageEditor=dom.createElement("tr"),lhs=dom.createElement("td"),middle=dom.createElement("td"),rhs=dom.createElement("td");messageEditor.appendChild(lhs),messageEditor.appendChild(middle),messageEditor.appendChild(rhs),messageEditor.AJAR_date=sortDate;var context={div:middle,dom};return(0,_login.ensureLoggedIn)(context).then((function(context){!function turnOnInput(){function _tookPicture(){return(_tookPicture=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(imageDoc){return _regenerator.default.wrap((function _callee4$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!imageDoc){_context5.next=3;break}return _context5.next=3,sendMessage(imageDoc.uri);case 3:case"end":return _context5.stop()}}),_callee4)})))).apply(this,arguments)}if(options.menuHandler){var _menuButton=widgets.button(dom,_iconBase.icons.iconBase+"noun_243787.svg","More");_menuButton.setAttribute("style",style.buttonStyle+"float: right;"),rhs.appendChild(_menuButton)}options.menuHandler;var me=_solidLogic.authn.currentUser();if(creatorAndDate(lhs,me,"",null),field=dom.createElement("textarea"),middle.innerHTML="",middle.appendChild(field),field.rows=3,originalMessage&&(field.value=_solidLogic.store.anyValue(originalMessage,ns.sioc("content"),null,originalMessage.doc())),field.setAttribute("style",messageBodyStyle+"background-color: #eef;"),field.addEventListener("keydown",function(){var _ref3=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(e){return _regenerator.default.wrap((function _callee3$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if("Enter"!==e.code){_context4.next=4;break}if(!(!e.shiftKey&&!options.shiftEnterSendsMessage||e.shiftKey&&options.shiftEnterSendsMessage)){_context4.next=4;break}return _context4.next=4,handleFieldInput(e);case 4:case"end":return _context4.stop()}}),_callee3)})));return function(_x8){return _ref3.apply(this,arguments)}}(),!1),widgets.makeDropTarget(field,droppedURIHandler,droppedFileHandler),rhs.innerHTML="",(sendButton=widgets.button(dom,sendIcon,"Send")).style.float="right",sendButton.addEventListener("click",(function(_event){return handleFieldInput()}),!1),rhs.appendChild(sendButton),originalMessage){var cancelButton=rhs.appendChild(widgets.cancelButton(dom));cancelButton.style.float="left",cancelButton.addEventListener("click",(function(_event){return function revertEditing(messageEditor){messageEditor.originalRow.style.visibility="visible",messageEditor.parentNode.removeChild(messageEditor)}(messageEditor)}),!1),rhs.appendChild(cancelButton)}var chatDocument=channelObject.dateFolder.leafDocumentFromDate(new Date);middle.appendChild(_index.media.cameraButton(dom,_solidLogic.store,(function getImageDoc(){return $rdf.sym(chatDocument.dir().uri+"Image_"+Date.now()+".png")}),(function tookPicture(_x7){return _tookPicture.apply(this,arguments)}))),pad.recordParticipation(channelObject.channel,channelObject.channel.doc())}(),Object.assign(context,userContext),(0,_bookmarks.findBookmarkDocument)(context).then((function(_context){}))})),messageEditor}},"./lib/chat/messageTools.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.messageToolbar=function messageToolbar(message,messageRow,userContext,channelObject){function _deleteMessage(){return(_deleteMessage=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(){var author,msg;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(author=_solidLogic.store.any(message,ns.foaf("maker")),me){_context2.next=5;break}alert("You can't delete the message, you are not logged in."),_context2.next=22;break;case 5:if(!me.sameTerm(author)){_context2.next=21;break}return _context2.prev=6,_context2.next=9,channelObject.deleteMessage(message);case 9:_context2.next=18;break;case 11:_context2.prev=11,_context2.t0=_context2.catch(6),msg="Error deleting messaage "+_context2.t0,debug.warn(msg),alert(msg),(userContext.statusArea||messageRow.parentNode).appendChild(widgets.errorMessageBlock(dom,msg));case 18:messageRow.parentNode.removeChild(messageRow),_context2.next=22;break;case 21:alert("You can't delete the message, you are not logged in as the author, "+author);case 22:closeToolbar();case 23:case"end":return _context2.stop()}}),_callee2,null,[[6,11]])})))).apply(this,arguments)}function _editMessage(){return _editMessage=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(messageRow){return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:me.value===_solidLogic.store.any(message,ns.foaf("maker")).value&&(closeToolbar(),(0,_message.switchToEditor)(messageRow,message,channelObject,userContext));case 1:case"end":return _context3.stop()}}),_callee3)}))),_editMessage.apply(this,arguments)}var div=dom.createElement("div");if((0,_chatLogic.mostRecentVersion)(message).value===ns.schema("dateDeleted").value)return div;function closeToolbar(){div.parentElement.parentElement.removeChild(div.parentElement)}function deleteThingThen(_x2){return _deleteThingThen.apply(this,arguments)}function _deleteThingThen(){return(_deleteThingThen=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(x){return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,_solidLogic.store.updater.update(_solidLogic.store.connectedStatements(x),[]);case 2:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)}var me=_solidLogic.authn.currentUser();me&&_solidLogic.store.holds(message,ns.foaf("maker"),me)&&(div.appendChild(widgets.deleteButtonWithCheck(dom,div,"message",(function deleteMessage(){return _deleteMessage.apply(this,arguments)}))),div.appendChild(widgets.button(dom,_iconBase.icons.iconBase+"noun_253504.svg","edit",(function(){return function editMessage(_x){return _editMessage.apply(this,arguments)}(messageRow)}))));function sentimentButton(context,target,icon,actionClass,doc,mutuallyExclusive){function setColor(){button.style.backgroundColor=action?"yellow":"white"}var action,button=widgets.button(dom,icon,utils.label(actionClass),function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(_event){var insertMe,dirty,i,a;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!action){_context.next=7;break}return _context.next=3,deleteThingThen(action);case 3:action=null,setColor(),_context.next=25;break;case 7:return action=widgets.newThing(doc),insertMe=[rdf.st(action,ns.schema("agent"),context.me,doc),rdf.st(action,ns.rdf("type"),actionClass,doc),rdf.st(action,ns.schema("target"),target,doc)],_context.next=11,_solidLogic.store.updater.update([],insertMe);case 11:if(setColor(),!mutuallyExclusive){_context.next=25;break}dirty=!1,i=0;case 15:if(!(i<mutuallyExclusive.length)){_context.next=24;break}if(!(a=existingAction(mutuallyExclusive[i]))){_context.next=21;break}return _context.next=20,deleteThingThen(a);case 20:dirty=!0;case 21:i++,_context.next=15;break;case 24:dirty&&widgets.refreshTree(messageRow);case 25:case"end":return _context.stop()}}),_callee)})));return function(_x3){return _ref.apply(this,arguments)}}());function existingAction(actionClass){var actions=_solidLogic.store.each(null,ns.schema("agent"),context.me,doc).filter((function(x){return _solidLogic.store.holds(x,ns.rdf("type"),actionClass,doc)})).filter((function(x){return _solidLogic.store.holds(x,ns.schema("target"),target,doc)}));return actions.length?actions[0]:null}function refresh(){action=existingAction(actionClass),setColor()}return button.refresh=refresh,refresh(),button}if((0,_bookmarks.renderBookmarksButton)(userContext).then((function(bookmarkButton){bookmarkButton&&div.appendChild(bookmarkButton)})),(me=_solidLogic.authn.currentUser())&&(0,_chatLogic.mostRecentVersion)(message).value!==ns.schema("dateDeleted").value){var context1={me,dom,div};div.appendChild(sentimentButton(context1,message,_iconBase.icons.iconBase+"noun_1384132.svg",ns.schema("AgreeAction"),message.doc(),[ns.schema("DisagreeAction")])),div.appendChild(sentimentButton(context1,message,_iconBase.icons.iconBase+"noun_1384135.svg",ns.schema("DisagreeAction"),message.doc(),[ns.schema("AgreeAction")]))}var cancelButton=div.appendChild(widgets.cancelButton(dom));return cancelButton.style.float="right",cancelButton.firstChild.style.opacity="0.3",cancelButton.addEventListener("click",closeToolbar),div},exports.sentimentStrip=function sentimentStrip(target,doc){var latest=(0,_chatLogic.mostRecentVersion)(target),sentiments=(_solidLogic.store.holds(latest,ns.schema("dateDeleted").value,null,latest.doc())?_solidLogic.store.each(null,ns.schema("target"),target,doc):[]).map((function(a){return _solidLogic.store.any(a,ns.rdf("type"),null,doc)}));sentiments.sort();var strings=sentiments.map((function(x){return emoji[x]||""}));return dom.createTextNode(strings.join(" "))},exports.sentimentStripLinked=function sentimentStripLinked(target,doc){var strip=dom.createElement("span");function refresh(){strip.innerHTML="";var sentiments=((0,_chatLogic.mostRecentVersion)(target).uri!==ns.schema("dateDeleted").uri?_solidLogic.store.each(null,ns.schema("target"),target,doc):[]).map((function(a){return[_solidLogic.store.any(a,ns.rdf("type"),null,doc),_solidLogic.store.any(a,ns.schema("agent"),null,doc)]}));sentiments.sort(),sentiments.forEach((function(ss){var res,_ss=(0,_slicedToArray2.default)(ss,2),theClass=_ss[0],agent=_ss[1];agent?(res=dom.createElement("a")).setAttribute("href",agent.uri):res=dom.createTextNode(""),res.textContent=emoji[theClass]||"*",strip.appendChild(res)}))}return refresh(),strip.refresh=refresh,strip};var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_slicedToArray2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_iconBase=__webpack_require__("./lib/iconBase.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js")),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js")),_bookmarks=__webpack_require__("./lib/chat/bookmarks.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),_chatLogic=__webpack_require__("./lib/chat/chatLogic.js"),_message=__webpack_require__("./lib/chat/message.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var dom=window.document,emoji={};emoji[ns.schema("AgreeAction")]="",emoji[ns.schema("DisagreeAction")]="",emoji[ns.schema("EndorseAction")]="",emoji[ns.schema("LikeAction")]=""},"./lib/create/create.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.ends-with.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.newThingUI=function newThingUI(createContext,dataBrowserContext,thePanes){var dom=createContext.dom,div=createContext.div;if(createContext.me&&!createContext.me.uri)throw new Error("newThingUI:  Invalid userid: "+createContext.me);var iconStyle="padding: 0.7em; width: 2em; height: 2em;",star=div.appendChild(dom.createElement("img")),visible=!1;star.setAttribute("src",_iconBase.icons.iconBase+"noun_34653_green.svg"),star.setAttribute("style",iconStyle),star.setAttribute("title","Add another tool");var complain=function complain(message){var pre=div.appendChild(dom.createElement("pre"));pre.setAttribute("style","background-color: pink"),pre.appendChild(dom.createTextNode(message))};function styleTheIcons(style){for(var i=0;i<iconArray.length;i++){var st=iconStyle+style;iconArray[i].disabled&&(st+="opacity: 0.3;"),iconArray[i].setAttribute("style",st)}}function selectNewTool(_event){visible=!visible,star.setAttribute("style",iconStyle+(visible?"background-color: yellow;":"")),styleTheIcons(visible?"":"display: none;")}star.addEventListener("click",selectNewTool);var iconArray=[],mintingPanes=Object.values(thePanes).filter((function(pane){return pane.mintNew})),mintingClassMap=mintingPanes.reduce((function(classMap,pane){return pane.mintClass&&(classMap[pane.mintClass.uri]=(classMap[pane.mintClass.uri]||0)+1),classMap}),{});mintingPanes.forEach((function(pane){var icon=createContext.div.appendChild(dom.createElement("img"));icon.setAttribute("src",pane.icon);var noun=pane.mintClass?mintingClassMap[pane.mintClass.uri]>1?"".concat(utils.label(pane.mintClass)," (using ").concat(pane.name," pane)"):utils.label(pane.mintClass):pane.name+" @@";icon.setAttribute("title","Make new "+noun),icon.setAttribute("style",iconStyle+"display: none;"),iconArray.push(icon),icon.disabled||icon.addEventListener("click",(function(e){!function selectTool(icon){styleTheIcons("display: none;"),icon.setAttribute("style",iconStyle+"background-color: yellow;")}(icon),function makeNewAppInstance(options){return new Promise((function(resolve,reject){var selectUI;function callbackWS(ws,newBase){(0,_login.ensureLoadedProfile)(createContext).then((function(_context){var newPaneOptions=Object.assign({newBase,folder:options.folder||void 0,workspace:ws},options);for(var opt in options)newPaneOptions[opt]=options[opt];debug.log("newThingUI: Minting new ".concat(newPaneOptions.pane.name," at ").concat(newPaneOptions.newBase)),options.pane.mintNew(dataBrowserContext,newPaneOptions).then((function(newPaneOptions){if(!newPaneOptions||!newPaneOptions.newInstance)throw new Error("Cannot mint new - missing newInstance");if(newPaneOptions.folder){var isPackage=newPaneOptions.newInstance.uri.slice(newPaneOptions.folder.uri.length).includes("/");debug.log("  new thing is packge? "+isPackage),isPackage?kb.add(newPaneOptions.folder,ns.ldp("contains"),kb.sym(newPaneOptions.newBase),newPaneOptions.folder.doc()):kb.add(newPaneOptions.folder,ns.ldp("contains"),newPaneOptions.newInstance,newPaneOptions.folder.doc()),newPaneOptions.refreshTarget&&newPaneOptions.refreshTarget.refresh&&newPaneOptions.refreshTarget.refresh()}else{var p=options.div.appendChild(dom.createElement("p"));p.setAttribute("style","font-size: 120%;"),p.innerHTML="Your <a target='_blank' href='"+newPaneOptions.newInstance.uri+"'><b>new "+options.noun+"</b></a> is ready to be set up. <br/><br/><a target='_blank' href='"+newPaneOptions.newInstance.uri+"'>Go to your new "+options.noun+".</a>"}selectNewTool()})).catch((function(err){complain(err),reject(err)}))}),(function(err){complain("Error logging on: "+err)}))}var pa=options.pane;options.noun=pa.mintClass?utils.label(pa.mintClass):pa.name,options.appPathSegment=options.noun.slice(0,1).toUpperCase()+options.noun.slice(1),options.folder?widgets.askName(dom,kb,options.div,ns.foaf("name"),null,options.noun).then((function gotName(name){if(name){var uri=options.folder.uri;uri.endsWith("/")||(uri+="/"),callbackWS(null,uri=uri+encodeURIComponent(name)+"/")}else selectNewTool()})):(selectUI=(0,_login.selectWorkspace)(dom,{noun:options.noun,appPathSegment:options.appPathSegment},callbackWS),options.div.appendChild(selectUI))}))}({event:e,folder:createContext.folder||null,iconEle:icon,pane,noun,noIndexHTML:!0,div:createContext.div,me:createContext.me,dom:createContext.dom,refreshTarget:createContext.refreshTarget})}))}))};var _solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_iconBase=__webpack_require__("./lib/iconBase.js"),_login=__webpack_require__("./lib/login/login.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var kb=_solidLogic.solidLogicSingleton.store},"./lib/create/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=void 0;var create={newThingUI:__webpack_require__("./lib/create/create.js").newThingUI};exports.create=create},"./lib/create/types.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0})},"./lib/debug.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.error=function error(){var _console3;(_console3=console).error.apply(_console3,arguments)},exports.log=function log(){var _console;(_console=console).log.apply(_console,arguments)},exports.trace=function trace(){var _console4;(_console4=console).trace.apply(_console4,arguments)},exports.warn=function warn(){var _console2;(_console2=console).warn.apply(_console2,arguments)}},"./lib/footer/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.createControllerInfoBlock=createControllerInfoBlock,exports.initFooter=function initFooter(_x,_x2){return _initFooter.apply(this,arguments)},exports.rebuildFooter=rebuildFooter;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),_headerFooterHelpers=__webpack_require__("./lib/utils/headerFooterHelpers.js");function _initFooter(){return(_initFooter=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(store,options){var footer,pod,podOwner;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(footer=document.getElementById("PageFooter")){_context2.next=3;break}return _context2.abrupt("return");case 3:return pod=(0,_headerFooterHelpers.getPod)(),_context2.next=6,(0,_headerFooterHelpers.getPodOwner)(pod,store);case 6:podOwner=_context2.sent,rebuildFooter(footer,store,pod,podOwner,options)(),_solidLogic.authSession.onLogin(rebuildFooter(footer,store,pod,podOwner,options)),_solidLogic.authSession.onLogout(rebuildFooter(footer,store,pod,podOwner,options));case 10:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function rebuildFooter(footer,store,pod,podOwner,options){return(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(){var user;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return user=_solidLogic.authn.currentUser(),footer.innerHTML="",_context.t0=footer,_context.next=5,createControllerInfoBlock(store,user,pod,podOwner,options);case 5:_context.t1=_context.sent,_context.t0.appendChild.call(_context.t0,_context.t1);case 7:case"end":return _context.stop()}}),_callee)})))}function createControllerInfoBlock(store,user,pod,podOwner,options){var profileLinkContainer=document.createElement("div");if(!pod||!podOwner||user&&user.equals(podOwner))return profileLinkContainer;(0,_headerFooterHelpers.addStyleClassToElement)(profileLinkContainer,["footer-pod-info","footer"],"footer");var podLinkPre=document.createElement("span");podLinkPre.innerText="You're visiting ";var podLink=document.createElement("a");podLink.href=pod.uri,podLink.innerText="the Pod";var profileLinkPre=document.createElement("span");profileLinkPre.innerText=" controlled by ";var profileLink=document.createElement("a");profileLink.href=podOwner.uri,profileLink.innerText=(0,_headerFooterHelpers.getName)(store,podOwner);var solidProjectLinkPre=document.createElement("span");solidProjectLinkPre.innerText=". For more info, check out ";var solidProjectLink=document.createElement("a");solidProjectLink.href=options&&options.solidProjectUrl?options.solidProjectUrl:"https://solidproject.org",solidProjectLink.innerText=options&&options.solidProjectName?options.solidProjectName:"solidproject.org";var solidProjectLinkPost=document.createElement("span");return solidProjectLinkPost.innerText=".",profileLinkContainer.appendChild(podLinkPre),profileLinkContainer.appendChild(podLink),profileLinkContainer.appendChild(profileLinkPre),profileLinkContainer.appendChild(profileLink),profileLinkContainer.appendChild(solidProjectLinkPre),profileLinkContainer.appendChild(solidProjectLink),profileLinkContainer.appendChild(solidProjectLinkPost),profileLinkContainer}},"./lib/footer/styleMap.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.styleMap=void 0;exports.styleMap={footer:{borderTop:"solid 1px $divider-color",fontSize:"0.9em",padding:"0.5em 1.5em"}}},"./lib/header/empty-profile.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.emptyProfile=void 0;exports.emptyProfile='\n<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z" fill="#D8D8D8" stroke="#8B8B8B"/>\n    <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="26" height="26">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z" fill="white" stroke="white"/>\n    </mask>\n    <g mask="url(#mask0)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0468 10.4586C17.0468 14.4979 15.4281 16.9214 12.9999 16.9214C10.5718 16.9214 8.95298 14.4979 8.95298 10.4586C8.95298 6.41931 12.9999 6.41931 12.9999 6.41931C12.9999 6.41931 17.0468 6.41931 17.0468 10.4586ZM4.09668 23.3842C6.52483 17.7293 12.9999 17.7293 12.9999 17.7293C12.9999 17.7293 19.475 17.7293 21.9031 23.3842C21.9031 23.3842 17.8481 25 12.9999 25C8.15169 25 4.09668 23.3842 4.09668 23.3842Z" fill="#8B8B8B"/>\n    </g>\n</svg>'},"./lib/header/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.createBanner=createBanner,exports.createHelpMenu=createHelpMenu,exports.createLoginSignUpButtons=createLoginSignUpButtons,exports.createUserMenu=createUserMenu,exports.createUserMenuButton=createUserMenuButton,exports.createUserMenuItem=createUserMenuItem,exports.createUserMenuLink=createUserMenuLink,exports.getProfileImg=getProfileImg,exports.initHeader=function initHeader(_x,_x2,_x3){return _initHeader.apply(this,arguments)},exports.rebuildHeader=rebuildHeader;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_index=__webpack_require__("./lib/index.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),_login=__webpack_require__("./lib/login/login.js"),widgets=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./lib/widgets/index.js")),_emptyProfile=__webpack_require__("./lib/header/empty-profile.js"),_headerFooterHelpers=__webpack_require__("./lib/utils/headerFooterHelpers.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}var DEFAULT_HELP_MENU_ICON=_index.icons.iconBase+"noun_help.svg";function _initHeader(){return(_initHeader=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(store,userMenuList,options){var header,pod;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(header=document.getElementById("PageHeader")){_context2.next=3;break}return _context2.abrupt("return");case 3:pod=(0,_headerFooterHelpers.getPod)(),rebuildHeader(header,store,pod,userMenuList,options)(),_solidLogic.authSession.onLogout(rebuildHeader(header,store,pod,userMenuList,options)),_solidLogic.authSession.onLogin(rebuildHeader(header,store,pod,userMenuList,options));case 7:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function rebuildHeader(header,store,pod,userMenuList,options){return(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(){var user;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return user=_solidLogic.authn.currentUser(),header.innerHTML="",_context.t0=header,_context.next=5,createBanner(store,pod,user,userMenuList,options);case 5:_context.t1=_context.sent,_context.t0.appendChild.call(_context.t0,_context.t1);case 7:case"end":return _context.stop()}}),_callee)})))}function createBanner(_x4,_x5,_x6,_x7,_x8){return _createBanner.apply(this,arguments)}function _createBanner(){return(_createBanner=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(store,pod,user,userMenuList,options){var podLink,image,userMenu,banner,leftSideOfHeader,helpMenu;return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if((podLink=document.createElement("a")).href=pod.uri,(0,_headerFooterHelpers.addStyleClassToElement)(podLink,["header-banner__link"]),image=document.createElement("img"),options&&(image.src=options.logo?options.logo:"https://solidproject.org/assets/img/solid-emblem.svg"),(0,_headerFooterHelpers.addStyleClassToElement)(image,["header-banner__icon"]),podLink.appendChild(image),!user){_context3.next=13;break}return _context3.next=10,createUserMenu(store,user,userMenuList);case 10:_context3.t0=_context3.sent,_context3.next=14;break;case 13:_context3.t0=createLoginSignUpButtons();case 14:return userMenu=_context3.t0,banner=document.createElement("div"),(0,_headerFooterHelpers.addStyleClassToElement)(banner,["header-banner"]),banner.appendChild(podLink),leftSideOfHeader=document.createElement("div"),(0,_headerFooterHelpers.addStyleClassToElement)(leftSideOfHeader,["header-banner__right-menu"]),leftSideOfHeader.appendChild(userMenu),options&&options.helpMenuList&&(helpMenu=createHelpMenu(options,options.helpMenuList),leftSideOfHeader.appendChild(helpMenu)),banner.appendChild(leftSideOfHeader),_context3.abrupt("return",banner);case 24:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function createHelpMenu(options,helpMenuItems){if(helpMenuItems){var helpMenuList=document.createElement("ul");(0,_headerFooterHelpers.addStyleClassToElement)(helpMenuList,["header-user-menu__list"]),helpMenuItems.forEach((function(menuItem){"url"===(menuItem.url?"url":"onclick")?helpMenuList.appendChild(createUserMenuItem(createUserMenuLink(menuItem.label,menuItem.url,menuItem.target))):helpMenuList.appendChild(createUserMenuItem(createUserMenuButton(menuItem.label,menuItem.onclick)))}));var helpMenu=document.createElement("nav");(0,_headerFooterHelpers.addStyleClassToElement)(helpMenu,["header-user-menu__navigation-menu"]),helpMenu.setAttribute("aria-hidden","true"),helpMenu.appendChild(helpMenuList);var helpMenuContainer=document.createElement("div");(0,_headerFooterHelpers.addStyleClassToElement)(helpMenuContainer,["header-banner__user-menu"]),(0,_headerFooterHelpers.addStyleClassToElement)(helpMenuContainer,["header-user-menu"]),helpMenuContainer.appendChild(helpMenu);var helpMenuTrigger=document.createElement("button");(0,_headerFooterHelpers.addStyleClassToElement)(helpMenuTrigger,["header-user-menu__trigger"]),helpMenuTrigger.type="button";var helpMenuIcon=document.createElement("img");helpMenuIcon.src=options&&options.helpIcon?options.helpIcon:_index.icons.iconBase+DEFAULT_HELP_MENU_ICON,(0,_headerFooterHelpers.addStyleClassToElement)(helpMenuIcon,["header-banner__help-icon"]),helpMenuContainer.appendChild(helpMenuTrigger),helpMenuTrigger.appendChild(helpMenuIcon);var throttledMenuToggle=(0,_headerFooterHelpers.throttle)((function(event){return toggleMenu(event,helpMenuTrigger,helpMenu)}),50);helpMenuTrigger.addEventListener("click",throttledMenuToggle);var timer=setTimeout((function(){return null}),0);return helpMenuContainer.addEventListener("mouseover",(function(event){clearTimeout(timer),throttledMenuToggle(event)})),helpMenuContainer.addEventListener("mouseout",(function(event){timer=setTimeout((function(){return throttledMenuToggle(event)}),200)})),helpMenuContainer}}function createLoginSignUpButtons(){var profileLoginButtonPre=document.createElement("div");return(0,_headerFooterHelpers.addStyleClassToElement)(profileLoginButtonPre,["header-banner__login"]),profileLoginButtonPre.appendChild((0,_login.loginStatusBox)(document,null,{})),profileLoginButtonPre}function createUserMenuButton(label,onClick){var button=document.createElement("button");return(0,_headerFooterHelpers.addStyleClassToElement)(button,["header-user-menu__button"]),button.addEventListener("click",onClick),button.innerText=label,button}function createUserMenuLink(label,href,target){var link=document.createElement("a");return(0,_headerFooterHelpers.addStyleClassToElement)(link,["header-user-menu__link"]),link.href=href,link.innerText=label,target&&(link.target=target),link}function createUserMenu(_x9,_x10,_x11){return _createUserMenu.apply(this,arguments)}function _createUserMenu(){return(_createUserMenu=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(store,user,userMenuList){var fetcher,loggedInMenuList,loggedInMenu,loggedInMenuTrigger,profileImg,loggedInMenuContainer,throttledMenuToggle,timer;return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!(fetcher=store.fetcher)){_context4.next=4;break}return _context4.next=4,fetcher.load(user);case 4:return loggedInMenuList=document.createElement("ul"),(0,_headerFooterHelpers.addStyleClassToElement)(loggedInMenuList,["header-user-menu__list"]),userMenuList&&userMenuList.forEach((function(menuItem){"url"===(menuItem.url?"url":"onclick")?loggedInMenuList.appendChild(createUserMenuItem(createUserMenuLink(menuItem.label,menuItem.url,menuItem.target))):loggedInMenuList.appendChild(createUserMenuItem(createUserMenuButton(menuItem.label,menuItem.onclick)))})),loggedInMenu=document.createElement("nav"),(0,_headerFooterHelpers.addStyleClassToElement)(loggedInMenu,["header-user-menu__navigation-menu"]),loggedInMenu.setAttribute("aria-hidden","true"),loggedInMenu.appendChild(loggedInMenuList),loggedInMenuTrigger=document.createElement("button"),(0,_headerFooterHelpers.addStyleClassToElement)(loggedInMenuTrigger,["header-user-menu__trigger"]),loggedInMenuTrigger.type="button","string"==typeof(profileImg=getProfileImg(store,user))?loggedInMenuTrigger.innerHTML=profileImg:loggedInMenuTrigger.appendChild(profileImg),loggedInMenuContainer=document.createElement("div"),(0,_headerFooterHelpers.addStyleClassToElement)(loggedInMenuContainer,["header-banner__user-menu"]),(0,_headerFooterHelpers.addStyleClassToElement)(loggedInMenuContainer,["header-user-menu"]),loggedInMenuContainer.appendChild(loggedInMenuTrigger),loggedInMenuContainer.appendChild(loggedInMenu),throttledMenuToggle=(0,_headerFooterHelpers.throttle)((function(event){return toggleMenu(event,loggedInMenuTrigger,loggedInMenu)}),50),loggedInMenuTrigger.addEventListener("click",throttledMenuToggle),timer=setTimeout((function(){return null}),0),loggedInMenuContainer.addEventListener("mouseover",(function(event){clearTimeout(timer),throttledMenuToggle(event)})),loggedInMenuContainer.addEventListener("mouseout",(function(event){timer=setTimeout((function(){return throttledMenuToggle(event)}),200)})),_context4.abrupt("return",loggedInMenuContainer);case 27:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)}function createUserMenuItem(child){var menuProfileItem=document.createElement("li");return(0,_headerFooterHelpers.addStyleClassToElement)(menuProfileItem,["header-user-menu__list-item"]),menuProfileItem.appendChild(child),menuProfileItem}function getProfileImg(store,user){var profileUrl=null;try{if(!(profileUrl=widgets.findImage(user)))return _emptyProfile.emptyProfile}catch(_unused){return _emptyProfile.emptyProfile}var profileImage=document.createElement("div");return(0,_headerFooterHelpers.addStyleClassToElement)(profileImage,["header-user-menu__photo"]),profileImage.style.backgroundImage="url(".concat(profileUrl,")"),profileImage}function toggleMenu(event,trigger,menu){var isExpanded="true"===trigger.getAttribute("aria-expanded"),expand="mouseover"===event.type,close="mouseout"===event.type;isExpanded&&expand||!isExpanded&&close||(trigger.setAttribute("aria-expanded",(!isExpanded).toString()),menu.setAttribute("aria-hidden",isExpanded.toString()))}},"./lib/header/styleMap.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.styleMap=void 0;exports.styleMap={"header-user-menu":{},"header-user-menu__link":{background:"none",border:"0",color:"black",cursor:"pointer",display:"block",fontFamily:"Arial",fontSize:"1em",textAlign:"left",padding:"1em",width:"100%","&:focus, &:hover":{backgroundColor:"linear-gradient(to right, #7C4DFF 0%, #18A9E6 50%, #01C9EA 100%)"},a:{textDecoration:"none"}},"header-user-menu__trigger":{background:"none",border:"0",cursor:"pointer",width:"60px",height:"60px",img:{borderRadius:"50%",height:"56px",width:"56px"}},"header-user-menu__button":{background:"none",border:"0",color:"black",cursor:"pointer",display:"block",fontFamily:"Arial",fontSize:"1em",textAlign:"left",padding:"1em",width:"100%","&:focus, &:hover":{backgroundColor:"linear-gradient(to right, #7C4DFF 0%, #18A9E6 50%, #01C9EA 100%)"}},"header-user-menu__list":{listStyle:"none",margin:"0",padding:"0"},"header-user-menu__navigation-menu":{background:"white",border:"solid 1px #000000",borderRight:"0",position:"absolute",right:"0",top:"60px",width:"200px","z-index":"1","&[aria-hidden = true]":{display:"none"}},"header-user-menu__list-item":{borderBottom:"solid 1px #000000","&:last-child":{border:"0"}},"header-user-menu__photo":{borderRadius:"50%",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"50px",width:"50px"},"header-banner":{boxShadow:"0px 1px 4px #000000",display:"flex",justifyContent:"space-between",padding:"0 1.5em",marginBottom:"4px"},"header-banner__link":{display:"block"},"header-banner__right-menu":{display:"flex"},"header-banner__login":{marginLeft:"auto",input:{margin:"0.75em 0 0.75em 0.5em !important",padding:"0.5em !important"}},"header-banner__user-menu":{borderLeft:"solid 1px #000000",marginLeft:"auto"},"header-banner__help-menu":{borderLeft:"solid 1px #000000",marginLeft:"auto"},"header-banner__icon":{backgroundSize:"65px 60px",height:"60px !important",width:"65px !important"},"header-banner__help-icon":{width:"28px !important"}}},"./lib/iconBase.js":(module,exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.last-index-of.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.originalIconBase=exports.icons=exports.iconBase=void 0;var _debug=__webpack_require__("./lib/debug.js"),icons=module.scriptURI?{iconBase:module.scriptURI.slice(0,module.scriptURI.lastIndexOf("/"))+"/icons/",originalIconBase:module.scriptURI.slice(0,module.scriptURI.lastIndexOf("/"))+"/originalIcons/"}:"undefined"!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.iconBase?{iconBase:$SolidTestEnvironment.iconBase,originalIconBase:$SolidTestEnvironment.originalIconBase}:{iconBase:"https://solid.github.io/solid-ui/src/icons/",originalIconBase:"https://solid.github.io/solid-ui/src/originalIcons/"};exports.icons=icons,(0,_debug.log)("   icons.iconBase is set to : "+icons.iconBase);var iconBase=icons.iconBase;exports.iconBase=iconBase;var originalIconBase=icons.originalIconBase;exports.originalIconBase=originalIconBase},"./lib/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"acl",{enumerable:!0,get:function get(){return _index.acl}}),Object.defineProperty(exports,"aclControl",{enumerable:!0,get:function get(){return _index.aclControl}}),Object.defineProperty(exports,"authn",{enumerable:!0,get:function get(){return _solidLogic.authn}}),Object.defineProperty(exports,"create",{enumerable:!0,get:function get(){return _index2.create}}),exports.dom=exports.createTypes=void 0,Object.defineProperty(exports,"icons",{enumerable:!0,get:function get(){return _iconBase.icons}}),Object.defineProperty(exports,"infiniteMessageArea",{enumerable:!0,get:function get(){return _infinite.infiniteMessageArea}}),Object.defineProperty(exports,"initFooter",{enumerable:!0,get:function get(){return _footer.initFooter}}),Object.defineProperty(exports,"initHeader",{enumerable:!0,get:function get(){return _header.initHeader}}),exports.login=exports.log=exports.language=void 0,Object.defineProperty(exports,"matrix",{enumerable:!0,get:function get(){return _index3.matrix}}),Object.defineProperty(exports,"media",{enumerable:!0,get:function get(){return _index4.media}}),Object.defineProperty(exports,"messageArea",{enumerable:!0,get:function get(){return _messageArea.messageArea}}),exports.rdf=exports.preferences=exports.participation=exports.pad=exports.ns=void 0,Object.defineProperty(exports,"store",{enumerable:!0,get:function get(){return _solidLogic.store}}),exports.style=void 0,Object.defineProperty(exports,"table",{enumerable:!0,get:function get(){return _table.renderTableViewPane}}),exports.utils=exports.tabs=void 0,Object.defineProperty(exports,"versionInfo",{enumerable:!0,get:function get(){return _versionInfo.versionInfo}}),exports.widgets=void 0;var rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js"));exports.rdf=rdf;var ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js"));exports.ns=ns;var _index=__webpack_require__("./lib/acl/index.js"),_index2=__webpack_require__("./lib/create/index.js"),_iconBase=__webpack_require__("./lib/iconBase.js"),language=_interopRequireWildcard(__webpack_require__("./lib/widgets/forms/autocomplete/language.js"));exports.language=language;var log=_interopRequireWildcard(__webpack_require__("./lib/log.js"));exports.log=log;var _index3=__webpack_require__("./lib/matrix/index.js"),_index4=__webpack_require__("./lib/media/index.js"),_messageArea=__webpack_require__("./lib/messageArea.js"),_infinite=__webpack_require__("./lib/chat/infinite.js"),pad=_interopRequireWildcard(__webpack_require__("./lib/pad.js"));exports.pad=pad;var participation=_interopRequireWildcard(__webpack_require__("./lib/participation.js"));exports.participation=participation;var preferences=_interopRequireWildcard(__webpack_require__("./lib/preferences.js"));exports.preferences=preferences;var style=_interopRequireWildcard(__webpack_require__("./lib/style.js"));exports.style=style;var _table=__webpack_require__("./lib/table.js"),tabs=_interopRequireWildcard(__webpack_require__("./lib/tabs.js"));exports.tabs=tabs;var utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js"));exports.utils=utils;var login=_interopRequireWildcard(__webpack_require__("./lib/login/login.js"));exports.login=login;var widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js"));exports.widgets=widgets;var _versionInfo=__webpack_require__("./lib/versionInfo.js"),_header=__webpack_require__("./lib/header/index.js"),_footer=__webpack_require__("./lib/footer/index.js"),createTypes=_interopRequireWildcard(__webpack_require__("./lib/create/types.js"));exports.createTypes=createTypes;var _solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var dom=window?window.document:null;exports.dom=dom,"undefined"!=typeof window&&(window.UI={authn:_solidLogic.authn,store:_solidLogic.store,ns,rdf,acl:_index.acl,aclControl:_index.aclControl,create:_index2.create,createTypes,dom,icons:_iconBase.icons,language,log,login,matrix:_index3.matrix,media:_index4.media,messageArea:_messageArea.messageArea,infiniteMessageArea:_infinite.infiniteMessageArea,pad,participation,preferences,style,table:_table.renderTableViewPane,tabs,utils,widgets,versionInfo:_versionInfo.versionInfo,initHeader:_header.initHeader,initFooter:_footer.initFooter})},"./lib/jss/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getClasses=function getClasses(insertionPoint,styles){return getStylesheet(insertionPoint).createStyleSheet(styles).attach()},exports.getStylesheet=getStylesheet;var _jss=__webpack_require__("./node_modules/jss/dist/jss.esm.js"),_jssPresetDefault=_interopRequireDefault(__webpack_require__("./node_modules/jss-preset-default/dist/jss-preset-default.esm.js")),stylesheetsMap=new Map;function getStylesheet(insertionPoint){var cachedStylesheet=stylesheetsMap.get(insertionPoint);if(cachedStylesheet)return cachedStylesheet;var stylesheet=(0,_jss.create)({insertionPoint,plugins:(0,_jssPresetDefault.default)().plugins});return stylesheetsMap.set(insertionPoint,stylesheet),stylesheet}},"./lib/log.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LogLevel=void 0,exports.alert=function alert(message){_window&&void 0!==_window.alert?_window.alert(message):warn(message)},exports.clear=function clear(){var _dom2,logArea=null===(_dom2=_dom)||void 0===_dom2?void 0:_dom2.getElementById("status");if(!logArea)return;logArea.innerHTML=""},exports.debug=debug,exports.dumpHTML=function dumpHTML(){var _dom3,_dom3$body;if(!_dom)return;var level=_level;_level=63,debug((null===(_dom3=_dom)||void 0===_dom3||null===(_dom3$body=_dom3.body)||void 0===_dom3$body?void 0:_dom3$body.innerHTML)||""),_level=level},exports.error=function error(message){log(message,1,"eror")},exports.escapeForXML=escapeForXML,exports.info=function info(message){log(message,16,"info")},exports.logAscending=function logAscending(){_ascending=!0},exports.logDescending=function logDescending(){_ascending=!1},exports.msg=function msg(message){log(message)},exports.setInternals=function setInternals(window,document){_window=window,_dom=document},exports.setLevel=function setLevel(level){_level=63,debug("Log level is now "+level),_level=level},exports.success=function success(message){log(message,8,"good")},exports.warn=warn;var LogLevel;exports.LogLevel=LogLevel,function(LogLevel){LogLevel[LogLevel.Error=1]="Error",LogLevel[LogLevel.Warning=2]="Warning",LogLevel[LogLevel.Message=4]="Message",LogLevel[LogLevel.Success=8]="Success",LogLevel[LogLevel.Info=16]="Info",LogLevel[LogLevel.Debug=32]="Debug",LogLevel[LogLevel.All=63]="All"}(LogLevel||(exports.LogLevel=LogLevel={}));var _level=7,_ascending=!1,_dom=document,_window=window;function log(str){var type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,typestr=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mesg";if(_level&type)if(void 0!==_dom){var logArea=_dom.getElementById("status");if(!logArea)return;var addendum=_dom.createElement("span");addendum.setAttribute("class",typestr);var now=new Date;addendum.innerHTML="".concat(now.getHours(),":").concat(now.getMinutes(),":").concat(now.getSeconds()," [").concat(typestr,"] ").concat(escapeForXML(str),"<br/>"),_ascending?logArea.insertBefore(addendum,logArea.firstChild):logArea.appendChild(addendum)}else"undefined"!=typeof console&&console.log(str)}function warn(message){log(message,2,"warn")}function debug(message){log(message,32,"dbug")}function escapeForXML(str){return str.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},"./lib/login/login.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.url.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureLoadedPreferences=ensureLoadedPreferences,exports.ensureLoadedProfile=ensureLoadedProfile,exports.ensureLoggedIn=ensureLoggedIn,exports.filterAvailablePanes=function filterAvailablePanes(_x14){return _filterAvailablePanes.apply(this,arguments)},exports.findAppInstances=findAppInstances,exports.getUserRoles=getUserRoles,exports.loginStatusBox=loginStatusBox,exports.newAppInstance=function newAppInstance(dom,appDetails,callback){var gotWS=function gotWS(ws,base){callback(ws,base)},div=dom.createElement("div"),b=dom.createElement("button");return b.setAttribute("type","button"),div.appendChild(b),b.innerHTML="Make new ".concat(appDetails.noun),b.addEventListener("click",(function(_event){div.appendChild(selectWorkspace(dom,appDetails,gotWS))}),!1),div.appendChild(b),div},exports.registrationControl=function registrationControl(_x7,_x8,_x9){return _registrationControl.apply(this,arguments)},exports.registrationList=function registrationList(_x10,_x11){return _registrationList.apply(this,arguments)},exports.renderSignInPopup=renderSignInPopup,exports.selectWorkspace=selectWorkspace;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_rdflib=__webpack_require__("./node_modules/rdflib/esm/index.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_log=__webpack_require__("./lib/log.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),_signup=__webpack_require__("./lib/signup/signup.js"),_style=__webpack_require__("./lib/style.js"),_index=__webpack_require__("./lib/utils/index.js"),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function ensureLoggedIn(context){var me=_solidLogic.authn.currentUser();return me?(_solidLogic.authn.saveUser(me,context),Promise.resolve(context)):new Promise((function(resolve){_solidLogic.authn.checkUser().then((function(webId){if(webId)return debug.log("logIn: Already logged in as ".concat(webId)),resolve(context);if(!context.div||!context.dom)return resolve(context);var box=loginStatusBox(context.dom,(function(webIdUri){_solidLogic.authn.saveUser(webIdUri,context),resolve(context)}));context.div.appendChild(box)}))}))}function ensureLoadedPreferences(_x2){return _ensureLoadedPreferences.apply(this,arguments)}function _ensureLoadedPreferences(){return(_ensureLoadedPreferences=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(context){var statusArea,complain,preferencesFile,m2;return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(complain=function _complain(message){message="ensureLoadedPreferences: ".concat(message),statusArea&&statusArea.appendChild(widgets.errorMessageBlock(context.dom,message)),debug.log(message)},!context.preferencesFile){_context4.next=3;break}return _context4.abrupt("return",Promise.resolve(context));case 3:return statusArea=context.statusArea||context.div||null,_context4.prev=4,_context4.next=7,ensureLoadedProfile(context);case 7:return context=_context4.sent,_context4.next=10,_solidLogic.solidLogicSingleton.loadPreferences(context.me);case 10:preferencesFile=_context4.sent,context.preferencesFile=preferencesFile,_context4.next=48;break;case 15:if(_context4.prev=15,_context4.t0=_context4.catch(4),!(_context4.t0 instanceof _solidLogic.UnauthorizedError)){_context4.next=22;break}m2="Ooops - you are not authenticated (properly logged in) to for me to read your preference file.  Try loggin out and logging in?",(0,_log.alert)(m2),_context4.next=48;break;case 22:if(!(_context4.t0 instanceof _solidLogic.CrossOriginForbiddenError)){_context4.next=28;break}return m2="Unauthorized: Assuming preference file blocked for origin ".concat(window.location.origin),context.preferencesFileError=m2,_context4.abrupt("return",context);case 28:if(!(_context4.t0 instanceof _solidLogic.SameOriginForbiddenError)){_context4.next=33;break}m2="You are not authorized to read your preference file. This may be because you are using an untrusted web app.",debug.warn(m2),_context4.next=48;break;case 33:if(!(_context4.t0 instanceof _solidLogic.NotFoundError)){_context4.next=42;break}if(!confirm("You do not currently have a preference file. OK for me to create an empty one? ".concat(_context4.t0.preferencesFile||""))){_context4.next=39;break}(0,_log.alert)("Sorry; I am not prepared to do this. Please create an empty file at ".concat(_context4.t0.preferencesFile||"(?)")),complain(new Error("Sorry; no code yet to create a preference file at ")),_context4.next=40;break;case 39:throw new Error("User declined to create a preference file at ".concat(_context4.t0.preferencesFile||"(?)"));case 40:_context4.next=48;break;case 42:if(!(_context4.t0 instanceof _solidLogic.FetchError)){_context4.next=47;break}m2="Strange: Error ".concat(_context4.t0.status," trying to read your preference file.").concat(_context4.t0.message),(0,_log.alert)(m2),_context4.next=48;break;case 47:throw new Error("(via loadPrefs) ".concat(_context4.t0));case 48:return _context4.abrupt("return",context);case 49:case"end":return _context4.stop()}}),_callee4,null,[[4,15]])})))).apply(this,arguments)}function ensureLoadedProfile(_x3){return _ensureLoadedProfile.apply(this,arguments)}function _ensureLoadedProfile(){return(_ensureLoadedProfile=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee5(context){var logInContext;return _regenerator.default.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!context.publicProfile){_context5.next=2;break}return _context5.abrupt("return",context);case 2:return _context5.prev=2,_context5.next=5,ensureLoggedIn(context);case 5:if((logInContext=_context5.sent).me){_context5.next=8;break}throw new Error("Could not log in");case 8:return _context5.next=10,_solidLogic.solidLogicSingleton.loadProfile(logInContext.me);case 10:context.publicProfile=_context5.sent,_context5.next=17;break;case 13:throw _context5.prev=13,_context5.t0=_context5.catch(2),context.div&&context.dom&&context.div.appendChild(widgets.errorMessageBlock(context.dom,_context5.t0.message)),new Error("Can't log in: ".concat(_context5.t0));case 17:return _context5.abrupt("return",context);case 18:case"end":return _context5.stop()}}),_callee5,null,[[2,13]])})))).apply(this,arguments)}function findAppInstances(_x4,_x5,_x6){return _findAppInstances.apply(this,arguments)}function _findAppInstances(){return(_findAppInstances=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee6(context,theClass,isPublic){var visibility,index,thisIndex,registrations,instances,containers,unique,e,i,cont;return _regenerator.default.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(unique=function _unique(arr){return Array.from(new Set(arr))},void 0!==isPublic){_context6.next=7;break}return _context6.next=4,findAppInstances(context,theClass,!0);case 4:return _context6.next=6,findAppInstances(context,theClass,!1);case 6:return _context6.abrupt("return",context);case 7:return _context6.prev=7,_context6.next=10,isPublic?ensureLoadedProfile(context):ensureLoadedPreferences(context);case 10:_context6.next=15;break;case 12:_context6.prev=12,_context6.t0=_context6.catch(7),widgets.complain(context,"loadIndex: login and load problem ".concat(_context6.t0));case 15:return visibility=isPublic?"public":"private",_context6.prev=16,_context6.next=19,(0,_solidLogic.loadIndex)(context,isPublic);case 19:_context6.next=24;break;case 21:_context6.prev=21,_context6.t1=_context6.catch(16),debug.error(_context6.t1);case 24:if(index=context.index,thisIndex=index[visibility],registrations=thisIndex.map((function(ix){return _solidLogic.solidLogicSingleton.store.each(void 0,ns.solid("forClass"),theClass,ix)})).reduce((function(acc,curr){return acc.concat(curr)}),[]),instances=registrations.map((function(reg){return _solidLogic.solidLogicSingleton.store.each(reg,ns.solid("instance"))})).reduce((function(acc,curr){return acc.concat(curr)}),[]),containers=registrations.map((function(reg){return _solidLogic.solidLogicSingleton.store.each(reg,ns.solid("instanceContainer"))})).reduce((function(acc,curr){return acc.concat(curr)}),[]),context.instances=context.instances||[],context.instances=unique(context.instances.concat(instances)),context.containers=context.containers||[],context.containers=unique(context.containers.concat(containers)),containers.length){_context6.next=35;break}return _context6.abrupt("return",context);case 35:return _context6.prev=35,_context6.next=38,_solidLogic.solidLogicSingleton.load(containers);case 38:_context6.next=45;break;case 40:_context6.prev=40,_context6.t2=_context6.catch(35),e=new Error("[FAI] Unable to load containers".concat(_context6.t2)),debug.log(e),widgets.complain(context,"Error looking for ".concat(_index.utils.label(theClass),":  ").concat(_context6.t2));case 45:i=0;case 46:if(!(i<containers.length)){_context6.next=56;break}return cont=containers[i],_context6.t3=context.instances,_context6.next=51,_solidLogic.solidLogicSingleton.getContainerMembers(cont.value);case 51:_context6.t4=_context6.sent.map((function(uri){return _solidLogic.solidLogicSingleton.store.sym(uri)})),context.instances=_context6.t3.concat.call(_context6.t3,_context6.t4);case 53:i++,_context6.next=46;break;case 56:return _context6.abrupt("return",context);case 57:case"end":return _context6.stop()}}),_callee6,null,[[7,12],[16,21],[35,40]])})))).apply(this,arguments)}function _registrationControl(){return(_registrationControl=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee7(context,instance,theClass){var dom,box,context2,msg,tbody,form,registrationStatements,index,statements,_msg;return _regenerator.default.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if((dom=context.dom)&&context.div){_context7.next=3;break}return _context7.abrupt("return",context);case 3:if(box=dom.createElement("div"),context.div.appendChild(box),context.me=_solidLogic.authn.currentUser(),context.me){_context7.next=9;break}return box.innerHTML='<p style="margin:2em;">(Log in to save a link to this)</p>',_context7.abrupt("return",context);case 9:return _context7.prev=9,_context7.next=12,(0,_solidLogic.ensureTypeIndexes)(context);case 12:context2=_context7.sent,_context7.next=19;break;case 15:_context7.prev=15,_context7.t0=_context7.catch(9),context.div&&context.preferencesFileError?(msg="(Preferences not available)",context.div.appendChild(dom.createElement("p")).textContent=msg):context.div&&(msg="registrationControl: Type indexes not available: ".concat(_context7.t0),context.div.appendChild(widgets.errorMessageBlock(context.dom,_context7.t0))),debug.log(msg);case 19:box.innerHTML="<table><tbody><tr></tr><tr></tr></tbody></table>",box.setAttribute("style","font-size: 120%; text-align: right; padding: 1em; border: solid gray 0.05em;"),tbody=box.children[0].children[0],form=new _rdflib.BlankNode,registrationStatements=function registrationStatements(index){var registrations=_solidLogic.solidLogicSingleton.getRegistrations(instance,theClass),reg=registrations.length?registrations[0]:widgets.newThing(index);return[(0,_rdflib.st)(reg,ns.solid("instance"),instance,index),(0,_rdflib.st)(reg,ns.solid("forClass"),theClass,index)]};try{context2.index&&context2.index.public&&context2.index.public.length>0&&(index=context2.index.public[0],statements=registrationStatements(index),tbody.children[0].appendChild(widgets.buildCheckboxForm(context2.dom,_solidLogic.solidLogicSingleton.store,"Public link to this ".concat(context2.noun),null,statements,form,index))),context2.index&&context2.index.private&&context2.index.private.length>0&&(index=context2.index.private[0],statements=registrationStatements(index),tbody.children[1].appendChild(widgets.buildCheckboxForm(context2.dom,_solidLogic.solidLogicSingleton.store,"Personal note of this ".concat(context2.noun),null,statements,form,index)))}catch(e){_msg="registrationControl: Error making panel: ".concat(e),context.div&&context.div.appendChild(widgets.errorMessageBlock(context.dom,e)),debug.log(_msg)}return _context7.abrupt("return",context2);case 26:case"end":return _context7.stop()}}),_callee7,null,[[9,15]])})))).apply(this,arguments)}function _registrationList(){return(_registrationList=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee8(context0,options){var dom,div,box;return _regenerator.default.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(dom=context0.dom,div=context0.div,box=dom.createElement("div"),div.appendChild(box),context0.me=_solidLogic.authn.currentUser(),context0.me){_context8.next=8;break}return box.innerHTML='<p style="margin:2em;">(Log in list your stuff)</p>',_context8.abrupt("return",context0);case 8:return _context8.abrupt("return",(0,_solidLogic.ensureTypeIndexes)(context0).then((function(context){box.innerHTML="<table><tbody></tbody></table>",box.setAttribute("style","font-size: 120%; text-align: right; padding: 1em; border: solid #eee 0.5em;");var table=box.firstChild,ix=[],sts=[];["private","public"].forEach((function(visibility){context.index&&context.index[visibility].length>0&&options[visibility]&&(ix=ix.concat(context.index[visibility][0]),sts=sts.concat(_solidLogic.solidLogicSingleton.store.statementsMatching(void 0,ns.solid("instance"),void 0,context.index[visibility][0])))}));for(var _loop=function _loop(i){var statement=sts[i];if(options.type&&!_solidLogic.solidLogicSingleton.store.holds(statement.subject,ns.solid("forClass"),options.type,statement.why))return"continue";var inst=statement.object;table.appendChild(widgets.personTR(dom,ns.solid("instance"),inst,{deleteFunction:function deleteFunction(_x){if(!_solidLogic.solidLogicSingleton.store.updater)throw new Error("Cannot delete this, store has no updater");_solidLogic.solidLogicSingleton.store.updater.update([statement],[],(function(uri,ok,errorBody){ok?debug.log("Removed from index: ".concat(statement.subject)):debug.log("Error: Cannot delete ".concat(statement,": ").concat(errorBody))}))}}))},i=0;i<sts.length;i++)_loop(i);return context})));case 9:case"end":return _context8.stop()}}),_callee8)})))).apply(this,arguments)}function signInOrSignUpBox(dom,setUserCallback){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},signInButtonStyle=(options=options||{}).buttonStyle||"padding: 1em; border-radius:0.5em; font-size: 100%;",box=dom.createElement("div"),magicClassName="SolidSignInOrSignUpBox";debug.log("widgets.signInOrSignUpBox"),box.setUserCallback=setUserCallback,box.setAttribute("class",magicClassName),box.style="display:flex;";var signInPopUpButton=dom.createElement("input");box.appendChild(signInPopUpButton),signInPopUpButton.setAttribute("type","button"),signInPopUpButton.setAttribute("value","Log in"),signInPopUpButton.setAttribute("style","".concat(signInButtonStyle,"background-color: #eef;")),_solidLogic.authSession.onLogin((function(){var me=_solidLogic.authn.currentUser();if(me){var webIdURI=me.uri,divs=dom.getElementsByClassName(magicClassName);debug.log("Logged in, ".concat(divs.length," panels to be serviced"));for(var i=0;i<divs.length;i++){var div=divs[i];if(div.setUserCallback)try{div.setUserCallback(webIdURI);var parent=div.parentNode;parent&&parent.removeChild(div)}catch(e){debug.log("## Error satisfying login box: ".concat(e)),div.appendChild(widgets.errorMessageBlock(dom,e))}}}})),signInPopUpButton.addEventListener("click",(function(){var offline=(0,_solidLogic.offlineTestID)();if(offline)return setUserCallback(offline.uri);renderSignInPopup(dom)}),!1);var signupButton=dom.createElement("input");return box.appendChild(signupButton),signupButton.setAttribute("type","button"),signupButton.setAttribute("value","Sign Up for Solid"),signupButton.setAttribute("style","".concat(signInButtonStyle,"background-color: #efe;")),signupButton.addEventListener("click",(function(_event){(new _signup.Signup).signup().then((function(uri){debug.log("signInOrSignUpBox signed up "+uri),setUserCallback(uri)}))}),!1),box}function renderSignInPopup(dom){var issuerPopup=dom.createElement("div");issuerPopup.setAttribute("style","position: fixed; top: 0; left: 0; right: 0; bottom: 0; display: flex; justify-content: center; align-items: center;"),dom.body.appendChild(issuerPopup);var issuerPopupBox=dom.createElement("div");issuerPopupBox.setAttribute("style","\n      background-color: white;\n      box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      -webkit-box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      -moz-box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      -o-box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n      border-radius: 4px;\n      min-width: 400px;\n      padding: 10px;\n    "),issuerPopup.appendChild(issuerPopupBox);var issuerPopupBoxTopMenu=dom.createElement("div");issuerPopupBoxTopMenu.setAttribute("style","\n      border-bottom: 1px solid #DDD;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: space-between;\n    "),issuerPopupBox.appendChild(issuerPopupBoxTopMenu);var issuerPopupBoxLabel=dom.createElement("label");issuerPopupBoxLabel.setAttribute("style","margin-right: 5px; font-weight: 800"),issuerPopupBoxLabel.innerText="Select an identity provider";var issuerPopupBoxCloseButton=dom.createElement("button");issuerPopupBoxCloseButton.innerHTML='<img src="https://solid.github.io/solid-ui/src/icons/noun_1180156.svg" style="width: 2em; height: 2em;" title="Cancel">',issuerPopupBoxCloseButton.setAttribute("style","background-color: transparent; border: none;"),issuerPopupBoxCloseButton.addEventListener("click",(function(){issuerPopup.remove()})),issuerPopupBoxTopMenu.appendChild(issuerPopupBoxLabel),issuerPopupBoxTopMenu.appendChild(issuerPopupBoxCloseButton);var loginToIssuer=function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(issuerUri){var preLoginRedirectHash;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,(preLoginRedirectHash=new URL(window.location.href).hash)&&window.localStorage.setItem("preLoginRedirectHash",preLoginRedirectHash),window.localStorage.setItem("loginIssuer",issuerUri),_context.next=6,_solidLogic.authSession.login({redirectUrl:window.location.href,oidcIssuer:issuerUri});case 6:_context.next=11;break;case 8:_context.prev=8,_context.t0=_context.catch(0),(0,_log.alert)(_context.t0.message);case 11:case"end":return _context.stop()}}),_callee,null,[[0,8]])})));return function loginToIssuer(_x12){return _ref.apply(this,arguments)}}(),issuerTextContainer=dom.createElement("div");issuerTextContainer.setAttribute("style","\n      border-bottom: 1px solid #DDD;\n      display: flex;\n      flex-direction: column;\n      padding-top: 10px;\n    ");var issuerTextInputContainer=dom.createElement("div");issuerTextInputContainer.setAttribute("style","\n      display: flex;\n      flex-direction: row;\n    ");var issuerTextLabel=dom.createElement("label");issuerTextLabel.innerText="Enter the URL of your identity provider:",issuerTextLabel.setAttribute("style","color: #888");var issuerTextInput=dom.createElement("input");issuerTextInput.setAttribute("type","text"),issuerTextInput.setAttribute("style","margin-left: 0 !important; flex: 1; margin-right: 5px !important"),issuerTextInput.setAttribute("placeholder","https://example.com"),issuerTextInput.value=localStorage.getItem("loginIssuer")||"";var issuerTextGoButton=dom.createElement("button");issuerTextGoButton.innerText="Go",issuerTextGoButton.setAttribute("style","margin-top: 12px; margin-bottom: 12px;"),issuerTextGoButton.addEventListener("click",(function(){loginToIssuer(issuerTextInput.value)})),issuerTextContainer.appendChild(issuerTextLabel),issuerTextInputContainer.appendChild(issuerTextInput),issuerTextInputContainer.appendChild(issuerTextGoButton),issuerTextContainer.appendChild(issuerTextInputContainer),issuerPopupBox.appendChild(issuerTextContainer);var issuerButtonContainer=dom.createElement("div");issuerButtonContainer.setAttribute("style","\n      display: flex;\n      flex-direction: column;\n      padding-top: 10px;\n    ");var issuerBottonLabel=dom.createElement("label");issuerBottonLabel.innerText="Or pick an identity provider from the list below:",issuerBottonLabel.setAttribute("style","color: #888"),issuerButtonContainer.appendChild(issuerBottonLabel),(0,_solidLogic.getSuggestedIssuers)().forEach((function(issuerInfo){var issuerButton=dom.createElement("button");issuerButton.innerText=issuerInfo.name,issuerButton.setAttribute("style","height: 38px; margin-top: 10px"),issuerButton.addEventListener("click",(function(){loginToIssuer(issuerInfo.uri)})),issuerButtonContainer.appendChild(issuerButton)})),issuerPopupBox.appendChild(issuerButtonContainer)}function loginStatusBox(dom){var listener=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},me=(0,_solidLogic.offlineTestID)(),box=dom.createElement("div");function setIt(newidURI){newidURI&&(me=_solidLogic.authn.saveUser(newidURI),box.refresh(),listener&&listener(me.uri))}function logoutButtonHandler(_event){var oldMe=me;_solidLogic.authSession.logout().then((function(){var message="Your WebID was ".concat(oldMe,". It has been forgotten.");me=null;try{(0,_log.alert)(message)}catch(e){window.alert(message)}box.refresh(),listener&&listener(null)}),(function(err){(0,_log.alert)("Fail to log out:"+err)}))}function logoutButton(me,options){var signInButtonStyle=options.buttonStyle||"padding: 1em; border-radius:0.5em; font-size: 100%;",logoutLabel="WebID logout";if(me){var nick=_solidLogic.solidLogicSingleton.store.any(me,ns.foaf("nick"))||_solidLogic.solidLogicSingleton.store.any(me,ns.foaf("name"));nick&&(logoutLabel="Logout "+nick.value)}var signOutButton=dom.createElement("input");return signOutButton.setAttribute("type","button"),signOutButton.setAttribute("value",logoutLabel),signOutButton.setAttribute("style","".concat(signInButtonStyle,"background-color: #eee;")),signOutButton.addEventListener("click",logoutButtonHandler,!1),signOutButton}function trackSession(){me=_solidLogic.authn.currentUser(),box.refresh()}return box.refresh=function(){((me=_solidLogic.authn.currentUser())&&box.me!==me.uri||!me&&box.me)&&(widgets.clearElement(box),me?box.appendChild(logoutButton(me,options)):box.appendChild(signInOrSignUpBox(dom,setIt,options))),box.me=me?me.uri:null},box.refresh(),trackSession(),_solidLogic.authSession.onLogin(trackSession),_solidLogic.authSession.onLogout(trackSession),box.me="99999",box.refresh(),box}function selectWorkspace(dom,appDetails,callbackWS){var noun=appDetails.noun,appPathSegment=appDetails.appPathSegment,me=(0,_solidLogic.offlineTestID)(),box=dom.createElement("div"),context={me,dom,div:box};function say(s,background){box.appendChild(widgets.errorMessageBlock(dom,s,background))}function figureOutBase(ws){var newBaseString,newBaseNode=_solidLogic.solidLogicSingleton.store.any(ws,ns.space("uriPrefix"));"/"!==(newBaseString=newBaseNode?newBaseNode.value:ws.uri.split("#")[0]).slice(-1)&&(debug.log("".concat(appPathSegment,": No / at end of uriPrefix ").concat(newBaseString)),newBaseString="".concat(newBaseString,"/"));var now=new Date;return newBaseString+="".concat(appPathSegment,"/id").concat(now.getTime(),"/")}return ensureLoadedPreferences(context).then((function displayOptions(context){function _makeNewWorkspace(){return _makeNewWorkspace=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(_event){var row,cell,newBase,newWs,newData;return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return row=table.appendChild(dom.createElement("tr")),(cell=row.appendChild(dom.createElement("td"))).setAttribute("colspan","3"),cell.style.padding="0.5em",_context3.t0=encodeURI,_context3.next=7,widgets.askName(dom,_solidLogic.solidLogicSingleton.store,cell,ns.solid("URL"),ns.space("Workspace"),"Workspace");case 7:if(_context3.t1=_context3.sent,newBase=(0,_context3.t0)(_context3.t1),newWs=widgets.newThing(context.preferencesFile),newData=[(0,_rdflib.st)(context.me,ns.space("workspace"),newWs,context.preferencesFile),(0,_rdflib.st)(newWs,ns.space("uriPrefix"),newBase,context.preferencesFile)],_solidLogic.solidLogicSingleton.store.updater){_context3.next=13;break}throw new Error("store has no updater");case 13:return _context3.next=15,_solidLogic.solidLogicSingleton.store.updater.update([],newData);case 15:case"end":return _context3.stop()}}),_callee3)}))),_makeNewWorkspace.apply(this,arguments)}var id=context.me,preferencesFile=context.preferencesFile,newBase=null,w=_solidLogic.solidLogicSingleton.store.each(id,ns.space("workspace"),void 0,preferencesFile),storages=_solidLogic.solidLogicSingleton.store.each(id,ns.space("storage"));0===w.length&&storages&&(say("You don't seem to have any workspaces. You have ".concat(storages.length," storage spaces."),"white"),storages.map((function(s){return w=w.concat(_solidLogic.solidLogicSingleton.store.each(s,ns.ldp("contains")))})).filter((function(file){return file.id?["public","private"].includes(file.id().toLowerCase()):""}))),1===w.length&&(say("Workspace used: ".concat(w[0].uri),"white"),newBase=figureOutBase(w[0]));var table=dom.createElement("table");table.setAttribute("style","border-collapse:separate; border-spacing: 0.5em;"),box.appendChild(table),box.appendChild(dom.createElement("hr"));var p=box.appendChild(dom.createElement("p"));p.style=_style.commentStyle,p.textContent="Where would you like to store the data for the ".concat(noun,"?\n    Give the URL of the folder where you would like the data stored.\n    It can be anywhere in solid world - this URI is just an idea.");var baseField=box.appendChild(dom.createElement("input"));baseField.setAttribute("type","text"),baseField.style=_style.textInputStyle,baseField.size=80,baseField.label="base URL",baseField.autocomplete="on",newBase&&(baseField.value=newBase),context.baseField=baseField,box.appendChild(dom.createElement("br"));var col1,col2,col3,tr,ws,style,comment,button=box.appendChild(dom.createElement("button"));button.style=_style.buttonStyle,button.textContent="Start new ".concat(noun," at this URI"),button.addEventListener("click",(function(_event){var newBase=baseField.value.replace(" ","%20");"/"!==newBase.slice(-1)&&(newBase+="/"),callbackWS(null,newBase)})),w=w.filter((function(x){return!_solidLogic.solidLogicSingleton.store.holds(x,ns.rdf("type"),ns.space("MasterWorkspace"))}));for(var cellStyle="height: 3em; margin: 1em; padding: 1em white; border-radius: 0.3em;",deselectedStyle="".concat(cellStyle,"border: 0px;"),i=0;i<w.length;i++){if(ws=w[i],tr=dom.createElement("tr"),0===i&&((col1=dom.createElement("td")).setAttribute("rowspan","".concat(w.length)),col1.textContent="Choose a workspace for this:",col1.setAttribute("style","vertical-align:middle;"),tr.appendChild(col1)),col2=dom.createElement("td"),!(style=_solidLogic.solidLogicSingleton.store.anyValue(ws,ns.ui("style")))){var bgcolor="#".concat((16777215&function hash(x){return x.split("").reduce((function(a,b){return(a=(a<<5)-a+b.charCodeAt(0))&a}),0)}(ws.uri)|12632256).toString(16));style="color: black ; background-color: ".concat(bgcolor,";")}col2.setAttribute("style",deselectedStyle+style),tr.target=ws.uri;var label=_solidLogic.solidLogicSingleton.store.any(ws,ns.rdfs("label"));label||(label=ws.uri.split("/").slice(-1)[0]||ws.uri.split("/").slice(-2)[0]),col2.textContent=label||"???",tr.appendChild(col2),0===i&&((col3=dom.createElement("td")).setAttribute("rowspan","".concat(w.length,"1")),col3.setAttribute("style","width:50%;"),tr.appendChild(col3)),table.appendChild(tr),comment=(comment=_solidLogic.solidLogicSingleton.store.any(ws,ns.rdfs("comment")))?comment.value:"Use this workspace",col2.addEventListener("click",(function(_event){col3.textContent=comment?comment.value:"",col3.setAttribute("style",deselectedStyle+style);var button=dom.createElement("button");button.textContent="Continue";var newBase=figureOutBase(ws);baseField.value=newBase,button.addEventListener("click",(function(_event){button.disabled=!0,callbackWS(ws,newBase),button.textContent="----\x3e"}),!0),col3.appendChild(button)}),!0)}var trLast=dom.createElement("tr");(col2=dom.createElement("td")).setAttribute("style",cellStyle),col2.textContent="+ Make a new workspace",col2.addEventListener("click",(function makeNewWorkspace(_x13){return _makeNewWorkspace.apply(this,arguments)})),trLast.appendChild(col2),table.appendChild(trLast)})).catch((function(err){box.appendChild(widgets.errorMessageBlock(context.dom,err))})),box}function getUserRoles(){return _getUserRoles.apply(this,arguments)}function _getUserRoles(){return(_getUserRoles=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee9(){var _yield$ensureLoadedPr,me,preferencesFile,preferencesFileError;return _regenerator.default.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.prev=0,_context9.next=3,ensureLoadedPreferences({});case 3:if(_yield$ensureLoadedPr=_context9.sent,me=_yield$ensureLoadedPr.me,preferencesFile=_yield$ensureLoadedPr.preferencesFile,preferencesFileError=_yield$ensureLoadedPr.preferencesFileError,preferencesFile&&!preferencesFileError){_context9.next=9;break}throw new Error(preferencesFileError);case 9:return _context9.abrupt("return",_solidLogic.solidLogicSingleton.store.each(me,ns.rdf("type"),null,preferencesFile.doc()));case 12:_context9.prev=12,_context9.t0=_context9.catch(0),debug.warn("Unable to fetch your preferences - this was the error: ",_context9.t0);case 15:return _context9.abrupt("return",[]);case 16:case"end":return _context9.stop()}}),_callee9,null,[[0,12]])})))).apply(this,arguments)}function _filterAvailablePanes(){return(_filterAvailablePanes=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee10(panes){var userRoles;return _regenerator.default.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,getUserRoles();case 2:return userRoles=_context10.sent,_context10.abrupt("return",panes.filter((function(pane){return isMatchingAudience(pane,userRoles)})));case 4:case"end":return _context10.stop()}}),_callee10)})))).apply(this,arguments)}function isMatchingAudience(pane,userRoles){return(pane.audience||[]).reduce((function(isMatch,audienceRole){return isMatch&&!!userRoles.find((function(role){return role.equals(audienceRole)}))}),!0)}_solidLogic.authSession.onLogout((0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(){var issuer,wellKnownUri,wellKnownResult,openidConfiguration;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!(issuer=window.localStorage.getItem("loginIssuer"))){_context2.next=19;break}return _context2.prev=2,(wellKnownUri=new URL(issuer)).pathname="/.well-known/openid-configuration",_context2.next=7,fetch(wellKnownUri.toString());case 7:if(200!==(wellKnownResult=_context2.sent).status){_context2.next=15;break}return _context2.next=11,wellKnownResult.json();case 11:if(!(openidConfiguration=_context2.sent)||!openidConfiguration.end_session_endpoint){_context2.next=15;break}return _context2.next=15,fetch(openidConfiguration.end_session_endpoint,{credentials:"include"});case 15:_context2.next=19;break;case 17:_context2.prev=17,_context2.t0=_context2.catch(2);case 19:window.location.reload();case 20:case"end":return _context2.stop()}}),_callee2,null,[[2,17]])}))))},"./lib/matrix/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.matrix=void 0;var matrix={matrixForQuery:__webpack_require__("./lib/matrix/matrix.js").matrixForQuery};exports.matrix=matrix},"./lib/matrix/matrix.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.matrixForQuery=function matrixForQuery(dom,query,vx,vy,vvalue,options,whenDone){var matrix=dom.createElement("table"),header=dom.createElement("tr");header.appendChild(dom.createElement("td")).setAttribute("class","MatrixCorner"),matrix.appendChild(header),matrix.lastHeader=header;var columns=[],rows=[],setCell=function setCell(cell,x,y,value){for(;cell.firstChild;)cell.removeChild(cell.firstChild);cell.setAttribute("style",""),cell.style.textAlign="center",options.cellFunction?options.cellFunction(cell,x,y,value):(cell.textContent=utils.label(value),cell.setAttribute("style","padding: 0.3em")),delete cell.old},rowFor=function rowFor(y1){var y=y1.toNT();if(rows[y])return rows[y];var tr=dom.createElement("tr"),header=tr.appendChild(dom.createElement("td"));header.setAttribute("style","padding: 0.3em;"),header.textContent=utils.label(y1),"NamedNode"===y1.termType&&kb.fetcher.nowOrWhenFetched(y1.uri.split("#")[0],void 0,(function(ok,_body,_response){ok&&(header.textContent=utils.label(y1))}));for(var i=0;i<columns.length;i++)setCell(tr.appendChild(dom.createElement("td")),$rdf.fromNT(columns[i]),y1,null);tr.dataValueNT=y,rows[y]=tr;for(var ele=matrix.lastHeader.nextSibling;ele;ele=ele.nextSibling)if(y>ele.dataValueNT&&options&&options.yDecreasing||y<ele.dataValueNT&&(!options||!options.yDecreasing))return matrix.insertBefore(tr,ele);return matrix.appendChild(tr)},columnNumberFor=function columnNumberFor(x1){for(var xNT=x1.toNT(),col=null,i=0;i<columns.length;i++){if(columns[i]===xNT)return i;if(xNT>columns[i]&&options.xDecreasing||xNT<columns[i]&&!options.xDecreasing){columns=columns.slice(0,i).concat([xNT]).concat(columns.slice(i)),col=i;break}}null===col&&(col=columns.length,columns.push(xNT));for(var row=matrix.firstChild;row;row=row.nextSibling){var y=row.dataValueNT,td=dom.createElement("td");if(td.style.textAlign="center",row===matrix.firstChild?td.textContent=utils.label(x1):setCell(td,x1,$rdf.fromNT(y),null),col===columns.length-1)row.appendChild(td);else{for(var t=row.firstChild,j=0;j<col+1;j++)t=t.nextSibling;row.insertBefore(td,t)}}return col},clearOldCells=function clearOldCells(){var row,cell,colsUsed=[],rowsUsed=[];if(options.set_y)for(var k=0;k<options.set_y.length;k++)rowsUsed[options.set_y[k]]=!0;if(options.set_x)for(var _k=0;_k<options.set_x.length;_k++)colsUsed[columnNumberFor(options.set_x[_k])+1]=!0;for(var i=1;i<matrix.children.length;i++){row=matrix.children[i];for(var j=1;j<row.children.length;j++)if((cell=row.children[j]).old){var y=$rdf.fromNT(row.dataValueNT),x=$rdf.fromNT(columns[j-1]);setCell(cell,x,y,null)}else rowsUsed[row.dataValueNT]=!0,colsUsed[j]=!0}for(var _i=0;_i<matrix.children.length;_i++)if(row=matrix.children[_i],_i>0&&!rowsUsed[row.dataValueNT])delete rows[row.dataValueNT],matrix.removeChild(row);else for(var _j=row.children.length-1;_j>0;_j--){var _cell=row.children[_j];colsUsed[_j]||row.removeChild(_cell)}for(var newcolumns=[],_j2=0;_j2<columns.length;_j2++)colsUsed[_j2+1]&&newcolumns.push(columns[_j2]);columns=newcolumns};matrix.refresh=function(){!function markOldCells(){for(var i=1;i<matrix.children.length;i++)for(var row=matrix.children[i],j=1;j<row.children.length;j++)row.children[j].old=!0}(),kb.query(query,addCellFromBindings,void 0,clearOldCells)};var addCellFromBindings=function addCellFromBindings(bindings){var x=bindings[vx.toString()],y=bindings[vy.toString()],value=bindings[vvalue.toString()],row=rowFor(y),colNo=columnNumberFor(x),cell=row.children[colNo+1];setCell(cell,x,y,value)};if(options.set_y)for(var k=0;k<options.set_y.length;k++)rowFor(options.set_y[k]);if(options.set_x)for(var _k2=0;_k2<options.set_x.length;_k2++)columnNumberFor(options.set_x[_k2]);return kb.query(query,addCellFromBindings,void 0,whenDone),matrix};var utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),$rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var kb=__webpack_require__("./node_modules/solid-logic/lib/index.js").solidLogicSingleton.store},"./lib/media/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.media=void 0;var _mediaCapture=__webpack_require__("./lib/media/media-capture.js"),media={cameraCaptureControl:_mediaCapture.cameraCaptureControl,cameraButton:_mediaCapture.cameraButton};exports.media=media},"./lib/media/media-capture.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.cameraButton=function cameraButton(dom,store,getImageDoc,doneCallback){var control,div=dom.createElement("div"),but=widgets.button(dom,cameraIcon,"Take picture");function restoreButton(_x){return _restoreButton.apply(this,arguments)}function _restoreButton(){return(_restoreButton=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(imageDoc){return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:div.removeChild(control),div.appendChild(but),doneCallback(imageDoc);case 3:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}return div.appendChild(but),but.addEventListener("click",(function(_event){div.removeChild(but),control=cameraCaptureControl(dom,store,getImageDoc,restoreButton),div.appendChild(control)})),div},exports.cameraCaptureControl=cameraCaptureControl;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_iconBase=__webpack_require__("./lib/iconBase.js"),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var cameraIcon=_iconBase.icons.iconBase+"noun_Camera_1618446_000000.svg",retakeIcon=_iconBase.icons.iconBase+"noun_479395.svg",controlStyle="border-radius: 0.5em; margin: 0.8em; width: ".concat("640","; height:").concat("480",";");function cameraCaptureControl(dom,store,getImageDoc,doneCallback){var destination,imageBlob,player,canvas,div=dom.createElement("div"),table=div.appendChild(dom.createElement("table")),main=table.appendChild(dom.createElement("tr")).appendChild(dom.createElement("td"));main.setAttribute("colspan","4");var buttons=table.appendChild(dom.createElement("tr"));buttons.appendChild(dom.createElement("td")).appendChild(widgets.cancelButton(dom)).addEventListener("click",(function(_event){stopVideo(),doneCallback(null)}));var retakeButton=buttons.appendChild(dom.createElement("td")).appendChild(widgets.button(dom,retakeIcon,"Retake"));retakeButton.addEventListener("click",(function(_event){!function retake(){main.removeChild(canvas),displayPlayer()}()})),retakeButton.style.visibility="collapse";var shutterButton=buttons.appendChild(dom.createElement("td")).appendChild(widgets.button(dom,_iconBase.icons.iconBase+"noun_10636.svg","Snap"));shutterButton.addEventListener("click",(function grabCanvas(){(canvas=dom.createElement("canvas")).setAttribute("width","640"),canvas.setAttribute("height","480"),canvas.setAttribute("style",controlStyle),main.appendChild(canvas),canvas.getContext("2d").drawImage(player,0,0,canvas.width,canvas.height),player.parentNode.removeChild(player),canvas.toBlob((function(blob){var msg="got blob type ".concat(blob.type," size ").concat(blob.size);debug.log(msg),destination=getImageDoc(),imageBlob=blob,function reviewImage(){sendButton.style.visibility="visible",retakeButton.style.visibility="visible",shutterButton.style.visibility="collapse"}()}),"image/png")})),shutterButton.style.visibility="collapse";var sendButton=buttons.appendChild(dom.createElement("td")).appendChild(widgets.continueButton(dom));function displayPlayer(){if((player=main.appendChild(dom.createElement("video"))).setAttribute("controls","1"),player.setAttribute("autoplay","1"),player.setAttribute("style",controlStyle),!navigator.mediaDevices)throw new Error("navigator.mediaDevices not available");navigator.mediaDevices.getUserMedia(constraints).then((function(stream){player.srcObject=stream,shutterButton.style.visibility="visible",sendButton.style.visibility="collapse",retakeButton.style.visibility="collapse"}))}sendButton.addEventListener("click",(function(_event){!function saveBlob(blob,destination){var contentType=blob.type;debug.log("Putting "+blob.size+" bytes of "+contentType+" to "+destination),store.fetcher.webOperation("PUT",destination.uri,{data:blob,contentType}).then((function(_resp){debug.log("ok saved "+destination),stopVideo(),doneCallback(destination)}),(function(err){stopVideo(),alert(err)}))}(imageBlob,destination)})),sendButton.style.visibility="collapse";var constraints={video:!0};function stopVideo(){player&&player.srcObject&&player.srcObject.getVideoTracks().forEach((function(track){return track.stop()}))}return displayPlayer(),div}},"./lib/messageArea.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.messageArea=function messageArea(dom,kb,subject,messageStore,options){kb=kb||_solidLogic.solidLogicSingleton.store,messageStore=messageStore.doc();var messageTable,me,ns=UI.ns,WF=rdf.Namespace("http://www.w3.org/2005/01/wf/flow#"),DCT=rdf.Namespace("http://purl.org/dc/terms/"),newestFirst=!!(options=options||{}).newestFirst,messageBodyStyle="white-space: pre-wrap; width: 90%; font-size:100%; border: 0.07em solid #eee; padding: .2em 0.5em; margin: 0.1em 1em 0.1em 1em;",div=dom.createElement("div"),updater=_solidLogic.solidLogicSingleton.store.updater,anchor=function anchor(text,term){var a=dom.createElement("a");return term&&term.uri&&(a.setAttribute("href",term.uri),a.addEventListener("click",UI.widgets.openHrefInOutlineMode,!0),a.setAttribute("style","color: #3B5998; text-decoration: none; ")),a.textContent=text,a},mention=function mention(message,style){var pre=dom.createElement("pre");return pre.setAttribute("style",style||"color: grey"),div.appendChild(pre),pre.appendChild(dom.createTextNode(message)),pre},announce={log:function log(message){mention(message,"color: #111;")},warn:function warn(message){mention(message,"color: #880;")},error:function error(message){mention(message,"color: #800;")}};function nick(person){var s=_solidLogic.solidLogicSingleton.store.any(person,UI.ns.foaf("nick"));return s?""+s.value:""+utils.label(person)}function creatorAndDate(td1,creator,date,message){var nickAnchor=td1.appendChild(anchor(nick(creator),creator));creator.uri&&_solidLogic.solidLogicSingleton.store.fetcher.nowOrWhenFetched(creator.doc(),void 0,(function(_ok,_body){nickAnchor.textContent=nick(creator)})),td1.appendChild(dom.createElement("br")),td1.appendChild(anchor(date,message))}function syncMessages(about,messageTable){var ele,ele2,displayed={};for(ele=messageTable.firstChild;ele;ele=ele.nextSibling)ele.AJAR_subject&&(displayed[ele.AJAR_subject.uri]=!0);var messages=kb.each(about,ns.wf("message")),stored={};for(messages.forEach((function(m){stored[m.uri]=!0,displayed[m.uri]||addMessage(m)})),ele=messageTable.firstChild;ele;)ele2=ele.nextSibling,ele.AJAR_subject&&!stored[ele.AJAR_subject.uri]&&messageTable.removeChild(ele),ele=ele2}var addMessage=function addMessage(message){var bindings={"?msg":message,"?creator":kb.any(message,ns.foaf("maker")),"?date":kb.any(message,DCT("created")),"?content":kb.any(message,ns.sioc("content"))};renderMessage(bindings,!0)},renderMessage=function renderMessage(bindings,fresh){var creator=bindings["?creator"],message=bindings["?msg"],date=bindings["?date"],content=bindings["?content"],dateString=date.value,tr=dom.createElement("tr");tr.AJAR_date=dateString,tr.AJAR_subject=message;for(var done=!1,ele=messageTable.firstChild;ele;ele=ele.nextSibling)if(dateString>ele.AJAR_date&&newestFirst||dateString<ele.AJAR_date&&!newestFirst){messageTable.insertBefore(tr,ele),done=!0;break}done||messageTable.appendChild(tr);var td1=dom.createElement("td");tr.appendChild(td1),creatorAndDate(td1,creator,UI.widgets.shortDate(dateString),message);var td2=dom.createElement("td");tr.appendChild(td2);var pre=dom.createElement("p");pre.setAttribute("style",messageBodyStyle+(fresh?"background-color: #e8ffe8;":"background-color: #white;")),td2.appendChild(pre),pre.textContent=content.value;var td3=dom.createElement("td");tr.appendChild(td3);var delButton=dom.createElement("button");td3.appendChild(delButton),delButton.textContent="-",tr.setAttribute("class","hoverControl"),delButton.setAttribute("class","hoverControlHide"),delButton.setAttribute("style","color: red;"),delButton.addEventListener("click",(function(_event){td3.removeChild(delButton);var cancelButton=dom.createElement("button");cancelButton.textContent="cancel",td3.appendChild(cancelButton).addEventListener("click",(function(_event){td3.removeChild(sureButton),td3.removeChild(cancelButton),td3.appendChild(delButton)}),!1);var sureButton=dom.createElement("button");sureButton.textContent="Delete message",td3.appendChild(sureButton).addEventListener("click",(function(_event){td3.removeChild(sureButton),td3.removeChild(cancelButton),function deleteMessage(message){var deletions=kb.statementsMatching(message).concat(kb.statementsMatching(void 0,void 0,message));updater.update(deletions,[],(function(uri,ok,body){ok?syncMessages(subject,messageTable):announce.error("Cant delete messages:"+body)}))}(message)}),!1)}),!1)};(messageTable=dom.createElement("table")).fresh=!1,div.appendChild(messageTable),messageTable.setAttribute("style","width: 100%;");var query,tr=function newMessageForm(){var form=dom.createElement("tr"),lhs=dom.createElement("td"),middle=dom.createElement("td"),rhs=dom.createElement("td");form.appendChild(lhs),form.appendChild(middle),form.appendChild(rhs),form.AJAR_date="9999-01-01T00:00:00Z";var field,sendButton,sendMessage=function sendMessage(){field.setAttribute("class","pendingedit"),field.disabled=!0;var sts=[],now=new Date,timestamp=""+now.getTime(),dateStamp=rdf.term(now),message=kb.sym(messageStore.uri+"#Msg"+timestamp);sts.push(new rdf.Statement(subject,ns.wf("message"),message,messageStore)),sts.push(new rdf.Statement(message,ns.sioc("content"),kb.literal(field.value),messageStore)),sts.push(new rdf.Statement(message,DCT("created"),dateStamp,messageStore)),me&&sts.push(new rdf.Statement(message,ns.foaf("maker"),me,messageStore)),updater.update([],sts,(function sendComplete(uri,success,body){if(success){var bindings={"?msg":message,"?content":kb.literal(field.value),"?date":dateStamp,"?creator":me};renderMessage(bindings,!1),field.value="",field.setAttribute("class",""),field.disabled=!1}else form.appendChild(UI.widgets.errorMessageBlock(dom,"Error writing message: "+body))}))};form.appendChild(dom.createElement("br"));var context={div:middle,dom};return login.ensureLoggedIn(context).then((function(context){me=context.me,function turnOnInput(){creatorAndDate(lhs,me,"",null),field=dom.createElement("textarea"),middle.innerHTML="",middle.appendChild(field),field.rows=3,field.setAttribute("style",messageBodyStyle+"background-color: #eef;"),field.addEventListener("keyup",(function(e){13===e.keyCode&&(e.altKey||sendMessage())}),!1),rhs.innerHTML="",(sendButton=UI.widgets.button(dom,UI.icons.iconBase+"noun_383448.svg","Send")).setAttribute("style",UI.style.buttonStyle+"float: right;"),sendButton.addEventListener("click",sendMessage,!1),rhs.appendChild(sendButton)}()})),form}();newestFirst?messageTable.insertBefore(tr,messageTable.firstChild):messageTable.appendChild(tr);if(options.query)query=options.query;else{query=new rdf.Query("Messages");var v={};["msg","date","creator","content"].forEach((function(x){query.vars.push(v[x]=rdf.variable(x))})),query.pat.add(subject,WF("message"),v.msg),query.pat.add(v.msg,ns.dct("created"),v.date),query.pat.add(v.msg,ns.foaf("maker"),v.creator),query.pat.add(v.msg,ns.sioc("content"),v.content)}return kb.query(query,renderMessage,void 0,(function doneQuery(){messageTable.fresh=!0})),div.refresh=function(){syncMessages(subject,messageTable)},div};var _iconBase=__webpack_require__("./lib/iconBase.js"),login=_interopRequireWildcard(__webpack_require__("./lib/login/login.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js")),style=_interopRequireWildcard(__webpack_require__("./lib/style.js")),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var UI={icons:_iconBase.icons,ns,rdf,style,widgets}},"./lib/ns.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js"),_solidNamespace=_interopRequireDefault(__webpack_require__("./node_modules/solid-namespace/index.js")),$rdf=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./node_modules/rdflib/esm/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}module.exports=(0,_solidNamespace.default)($rdf)},"./lib/pad.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getChunks=getChunks,exports.lightColorHash=lightColorHash,Object.defineProperty(exports,"manageParticipation",{enumerable:!0,get:function get(){return _participation.manageParticipation}}),exports.notepad=function notepad(dom,padDoc,subject,me,options){var exists=(options=options||{}).exists,table=dom.createElement("table"),kb=store;if(me&&!me.uri)throw new Error("UI.pad.notepad:  Invalid userid");var updater=store.updater,PAD=(0,_rdflib.Namespace)("http://www.w3.org/ns/pim/pad#");table.setAttribute("style","padding: 1em; overflow: auto; resize: horizontal; min-width: 40em;");var upstreamStatus=null,downstreamStatus=null;if(options.statusArea){var tr=options.statusArea.appendChild(dom.createElement("table")).appendChild(dom.createElement("tr"));upstreamStatus=tr.appendChild(dom.createElement("td")),downstreamStatus=tr.appendChild(dom.createElement("td")),upstreamStatus&&upstreamStatus.setAttribute("style","width:50%"),downstreamStatus&&downstreamStatus.setAttribute("style","width:50%")}var complain=function complain(message){var upstream=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,_debug.log)(message),options.statusArea&&(upstream?upstreamStatus:downstreamStatus).appendChild((0,_widgets.errorMessageBlock)(dom,message,"pink"))},clearStatus=function clearStatus(_upsteam){options.statusArea&&(options.statusArea.innerHTML="")},setPartStyle=function setPartStyle(part,colors,pending){var chunk=part.subject;colors=colors||"";var author=kb.any(chunk,ns.dc("author"));!colors&&author&&(colors="color: "+(pending?"#888":"black")+"; background-color: "+lightColorHash(author)+";");var indent=kb.any(chunk,PAD("indent")),style=(indent=indent?indent.value:0)>=0?"font-size: 100%; font-family: monospace; width: 100%; border: none; white-space: pre-wrap;text-indent: "+3*indent+"em;":"font-family: sans-serif; font-weight: bold;  border: none;"+["font-size: 110%;  padding-top: 0.5em; padding-bottom: 0.5em; width: 100%;","font-size: 120%; padding-top: 1em; padding-bottom: 1em; width: 100%;","font-size: 150%; padding-top: 1em; padding-bottom: 1em; width: 100%;"][-1-indent];part.setAttribute("style",style+colors)},removePart=function removePart(part){var chunk=part.subject;if(!chunk)throw new Error("No chunk for line to be deleted!");var prev=kb.any(void 0,PAD("next"),chunk),next=kb.any(chunk,PAD("next"));if(prev.sameTerm(subject)&&next.sameTerm(subject))(0,_debug.log)("You can't delete the only line.");else{var del=kb.statementsMatching(chunk,void 0,void 0,padDoc).concat(kb.statementsMatching(void 0,void 0,chunk,padDoc)),ins=[(0,_rdflib.st)(prev,PAD("next"),next,padDoc)];if(chunk instanceof _rdflib.NamedNode){var label=chunk.uri.slice(-4);(0,_debug.log)("Deleting line "+label)}if(!updater)throw new Error("have no updater");updater.update(del,ins,(function(uri,ok,errorMessage,response){if(ok){var row=part.parentNode;if(row){var before=row.previousSibling;row.parentNode&&row.parentNode.removeChild(row),before&&before.firstChild&&before.firstChild.focus()}}else if(response&&409===response.status)setPartStyle(part,"color: black;  background-color: #ffd;"),part.state=0,(0,_utils.beep)(.5,512),setTimeout((function(){reloadAndSync()}),1e3);else{(0,_debug.log)("    removePart FAILED "+chunk+": "+errorMessage),(0,_debug.log)("    removePart was deleteing :'"+del),setPartStyle(part,"color: black;  background-color: #fdd;");var res=response?response.status:" [no response field] ";complain("Error "+res+" saving changes: "+errorMessage.true)}}))}},addListeners=function addListeners(part,chunk){part.addEventListener("keydown",(function(event){if(!updater)throw new Error("no updater");var queueProperty,queue;switch(event.keyCode){case 13:var before=event.shiftKey;if((0,_debug.log)("enter"),before?(queue=kb.any(void 0,PAD("next"),chunk),queueProperty="newlinesAfter"):(queue=kb.any(chunk,PAD("next")),queueProperty="newlinesBefore"),queue[queueProperty]=queue[queueProperty]||0,queue[queueProperty]+=1,queue[queueProperty]>1)return void(0,_debug.log)("    queueing newline queue = "+queue[queueProperty]);(0,_debug.log)("    go ahead line before "+queue[queueProperty]),newChunk(part,before);break;case 8:if(0===part.value.length)switch((0,_debug.log)("Delete key line "+chunk.uri.slice(-4)+" state "+part.state),part.state){case 1:case 2:return void(part.state=4);case 3:case 4:return;case void 0:case 0:part.state=3,removePart(part),event.preventDefault();break;default:throw new Error("pad: Unexpected state "+part)}break;case 9:var delta=event.shiftKey?-1:1;!function changeIndent(part,chunk,delta){var del=kb.statementsMatching(chunk,PAD("indent")),current=del.length?Number(del[0].object.value):0;if(!(current+delta<-3)){var newIndent=current+delta,ins=(0,_rdflib.st)(chunk,PAD("indent"),newIndent,padDoc);if(!updater)throw new Error("no updater");updater.update(del,ins,(function(uri,ok,errorBody){ok?setPartStyle(part):((0,_debug.log)("Indent change FAILED '"+newIndent+"' for "+padDoc+": "+errorBody),setPartStyle(part,"color: black;  background-color: #fdd;"),updater.requestDownstreamAction(padDoc,reloadAndSync))}))}}(part,chunk,delta),event.preventDefault();break;case 27:(0,_debug.log)("escape"),updater.requestDownstreamAction(padDoc,reloadAndSync),event.preventDefault();break;case 38:part.parentNode.previousSibling&&(part.parentNode.previousSibling.firstChild.focus(),event.preventDefault());break;case 40:part.parentNode.nextSibling&&(part.parentNode.nextSibling.firstChild.focus(),event.preventDefault())}}));var updateStore=function updateStore(part){var chunk=part.subject;setPartStyle(part,void 0,!0);var ins,old=kb.any(chunk,ns.sioc("content")).value,del=[(0,_rdflib.st)(chunk,ns.sioc("content"),old,padDoc)];part.value&&(ins=[(0,_rdflib.st)(chunk,ns.sioc("content"),part.value,padDoc)]);var newOne=part.value;if(part.lastSent&&old!==part.lastSent)throw new Error("Out of order, last sent expected '"+old+"' but found '"+part.lastSent+"'");if(part.lastSent=newOne,!updater)throw new Error("no updater");updater.update(del,ins,(function(uri,ok,errorBody,xhr){ok?(clearStatus(),setPartStyle(part),(0,_debug.log)("    Patch ok '"+old+"' -> '"+newOne+"' "),4===part.state?(part.state=3,removePart(part)):3===part.state||(2===part.state?(part.state=1,updateStore(part)):part.state=0)):((0,_debug.log)("    patch FAILED "+xhr.status+" for '"+old+"' -> '"+newOne+"': "+errorBody),409===xhr.status?(setPartStyle(part,"color: black;  background-color: #fdd;"),part.state=0,(0,_utils.beep)(.5,512),setTimeout((function(){updater.requestDownstreamAction(padDoc,reloadAndSync)}),1e3)):(setPartStyle(part,"color: black;  background-color: #fdd;"),part.state=0,complain("    Error "+xhr.status+" sending data: "+errorBody,!0),(0,_utils.beep)(1,128)))}))};part.addEventListener("input",(function inputChangeListener(_event){switch(setPartStyle(part,void 0,!0),(0,_debug.log)("Input event state "+part.state+" value '"+part.value+"'"),part.state){case 3:case 4:case 2:return;case 1:return void(part.state=2);case 0:case void 0:part.state=1,updateStore(part)}}))},newPartAfter=function newPartAfter(tr1,chunk,before){var text=kb.any(chunk,ns.sioc("content"));text=text?text.value:"";var tr=dom.createElement("tr");before?table.insertBefore(tr,tr1):tr1&&tr1.nextSibling?table.insertBefore(tr,tr1.nextSibling):table.appendChild(tr);var part=tr.appendChild(dom.createElement("input"));return part.subject=chunk,part.setAttribute("type","text"),part.value=text,me?(setPartStyle(part,""),addListeners(part,chunk)):(setPartStyle(part,"color: #222; background-color: #fff"),(0,_debug.log)("Note can't add listeners - not logged in")),part},newChunk=function newChunk(ele,before){var here,prev,next,queue,tr1,kb=store,indent=0,queueProperty=null;ele?("input"!==ele.tagName.toLowerCase()&&(0,_debug.log)("return pressed when current document is: "+ele.tagName),here=ele.subject,indent=(indent=kb.any(here,PAD("indent")))?Number(indent.value):0,before?(prev=kb.any(void 0,PAD("next"),here),next=here,queue=prev,queueProperty="newlinesAfter"):(prev=here,next=kb.any(here,PAD("next")),queue=next,queueProperty="newlinesBefore"),tr1=ele.parentNode):(prev=subject,next=subject,tr1=void 0);var chunk=(0,_widgets.newThing)(padDoc),label=chunk.uri.slice(-4),del=[(0,_rdflib.st)(prev,PAD("next"),next,padDoc)],ins=[(0,_rdflib.st)(prev,PAD("next"),chunk,padDoc),(0,_rdflib.st)(chunk,PAD("next"),next,padDoc),(0,_rdflib.st)(chunk,ns.dc("author"),me,padDoc),(0,_rdflib.st)(chunk,ns.sioc("content"),"",padDoc)];if(indent>0&&ins.push((0,_rdflib.st)(chunk,PAD("indent"),indent,padDoc)),(0,_debug.log)("    Fresh chunk "+label+" proposed"),!updater)throw new Error("no updater");updater.update(del,ins,(function(uri,ok,errorBody,_xhr){if(ok){var newPart=newPartAfter(tr1,chunk,before);setPartStyle(newPart),newPart.focus(),queueProperty&&((0,_debug.log)("    Fresh chunk "+label+" updated, queue = "+queue[queueProperty]),queue[queueProperty]-=1,queue[queueProperty]>0&&((0,_debug.log)("    Implementing queued newlines = "+next.newLinesBefore),newChunk(newPart,before)))}else(0,_debug.log)("    ERROR writing new line "+label+": "+errorBody)}))},consistencyCheck=function consistencyCheck(){var found={},failed=0;function complain2(msg){complain(msg),failed++}if(!kb.the(subject,PAD("next")))return complain2("No initial next pointer"),!1;for(var chunk,prev=subject;(chunk=kb.the(prev,PAD("next")))||complain2("No next pointer from "+prev),!chunk.sameTerm(subject);){prev=chunk;var label=chunk.uri.split("#")[1];if(found[chunk.uri])return complain2("Loop!"),!1;found[chunk.uri]=!0;var k=kb.each(chunk,PAD("next")).length;1!==k&&complain2("Should be 1 not "+k+" next pointer for "+label),(k=kb.each(chunk,PAD("indent")).length)>1&&complain2("Should be 0 or 1 not "+k+" indent for "+label),1!==(k=kb.each(chunk,ns.sioc("content")).length)&&complain2("Should be 1 not "+k+" contents for "+label),1!==(k=kb.each(chunk,ns.dc("author")).length)&&complain2("Should be 1 not "+k+" author for "+label),kb.statementsMatching(void 0,ns.sioc("contents")).forEach((function(st){found[st.subject.value]||complain2("Loose chunk! "+st.subject.value)}))}return!failed},sync=function sync(){if(1!==kb.each(subject,PAD("next")).length){var msg="Pad: Inconsistent data - NEXT pointers: "+kb.each(subject,PAD("next")).length;return(0,_debug.log)(msg),void(options.statusArea&&(options.statusArea.textContent+=msg))}for(var row,manif=[],chunk=kb.the(subject,PAD("next"));!chunk.sameTerm(subject);chunk=kb.the(chunk,PAD("next")))for(var i=0;i<table.children.length;i++){var _tr=table.children[i];_tr.firstChild&&_tr.firstChild.subject.sameTerm(chunk)&&(manif[chunk.uri]=_tr.firstChild)}for(var _i=table.children.length-1;_i>=0;_i--)manif[(row=table.children[_i]).firstChild.subject.uri]||table.removeChild(row);row=table.firstChild;for(var _chunk=kb.the(subject,PAD("next"));!_chunk.sameTerm(subject);_chunk=kb.the(_chunk,PAD("next"))){var text=kb.any(_chunk,ns.sioc("content")).value;if(row&&manif[_chunk.uri]){var part=row.firstChild;text!==part.value&&(part.value=text),setPartStyle(part),part.state=0,delete part.lastSent,row=row.nextSibling}else newPartAfter(row,_chunk,!0)}},refreshTree=function refreshTree(root){if(root.refresh)root.refresh();else for(var i=0;i<root.children.length;i++)refreshTree(root.children[i])},reloading=!1,reloadAndSync=function reloadAndSync(){if(reloading)(0,_debug.log)("   Already reloading - stop");else{reloading=!0;var retryTimeout=1e3;!function tryReload(){if((0,_debug.log)("try reload - timeout = "+retryTimeout),!updater)throw new Error("no updater");updater.reload(updater.store,padDoc,(function(ok,message,xhr){reloading=!1,ok?function checkAndSync(){(0,_debug.log)("    reloaded OK"),clearStatus(),consistencyCheck()?refreshTree(table):complain("CONSITENCY CHECK FAILED")}():0===xhr.status?(complain("Network error refreshing the pad. Retrying in "+retryTimeout/1e3),reloading=!0,retryTimeout*=2,setTimeout(tryReload,retryTimeout)):complain("Error "+xhr.status+"refreshing the pad:"+message+". Stopped. "+padDoc)}))}()}};table.refresh=sync,table.reloadAndSync=reloadAndSync,me||(0,_debug.log)("Warning: must be logged in for pad to be edited");if(exists)(0,_debug.log)("Existing pad."),consistencyCheck()?(sync(),kb.holds(subject,PAD("next"),subject)&&newChunk()):(0,_debug.log)(table.textContent="Inconsistent data. Abort");else{(0,_debug.log)("No pad exists - making new one.");var insertables=[(0,_rdflib.st)(subject,ns.rdf("type"),PAD("Notepad"),padDoc),(0,_rdflib.st)(subject,ns.dc("author"),me,padDoc),(0,_rdflib.st)(subject,ns.dc("created"),new Date,padDoc),(0,_rdflib.st)(subject,PAD("next"),subject,padDoc)];if(!updater)throw new Error("no updater");updater.update([],insertables,(function(uri,ok,errorBody){ok?((0,_debug.log)("Initial pad created"),newChunk()):complain(errorBody||"")}))}return table},exports.notepadToHTML=function notepadToHTML(pad,kb){var chunks=getChunks(pad,kb),html="<html>\n  <head>\n",title=kb.anyValue(pad,ns.dct("title"));title&&(html+="    <title>".concat(xmlEncode(title),"</title>\n"));html+="  </head>\n  <body>\n";var level=0;function decreaseLevel(indent){for(;level>indent;level--)html+="</ul>\n"}return chunks.forEach((function(chunk){var indent=kb.anyJS(chunk,PAD("indent")),rawContent=kb.anyJS(chunk,ns.sioc("content"));if(rawContent){var content=xmlEncode(rawContent);if(indent<0){decreaseLevel(0);var h=indent>=-3?4+indent:1;html+="\n<h".concat(h,">").concat(content,"</h").concat(h,">\n")}else indent>0?(decreaseLevel(indent),function increaseLevel(indent){for(;level<indent;level++)html+="<ul>\n"}(indent),html+="<li>".concat(content,"</li>\n")):(decreaseLevel(indent),html+="<p>".concat(content,"</p>\n"))}})),decreaseLevel(0),html+="  </body>\n</html>\n"},Object.defineProperty(exports,"participationObject",{enumerable:!0,get:function get(){return _participation.participationObject}}),Object.defineProperty(exports,"recordParticipation",{enumerable:!0,get:function get(){return _participation.recordParticipation}}),Object.defineProperty(exports,"renderPartipants",{enumerable:!0,get:function get(){return _participation.renderPartipants}}),exports.xmlEncode=xmlEncode;var _createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_assertThisInitialized2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),_inherits2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/inherits.js")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),_getPrototypeOf2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),_wrapNativeSuper2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js")),_defineProperty2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js")),ns=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./lib/ns.js")),_rdflib=__webpack_require__("./node_modules/rdflib/esm/index.js"),_widgets=__webpack_require__("./lib/widgets/index.js"),_utils=__webpack_require__("./lib/utils/index.js"),_debug=__webpack_require__("./lib/debug.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),_participation=__webpack_require__("./lib/participation.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=(0,_getPrototypeOf2.default)(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,result)}}var store=_solidLogic.solidLogicSingleton.store,PAD=(0,_rdflib.Namespace)("http://www.w3.org/ns/pim/pad#");HTMLElement,HTMLElement;function lightColorHash(author){return author&&author.uri?"#"+(16777215&function hash(x){return x.split("").reduce((function(a,b){return(a=(a<<5)-a+b.charCodeAt(0))&a}),0)}(author.uri)|12632256).toString(16):"#ffffff"}function getChunks(subject,kb){for(var chunks=[],chunk=kb.the(subject,PAD("next"));!chunk.sameTerm(subject);chunk=kb.the(chunk,PAD("next")))chunks.push(chunk);return chunks}function xmlEncode(str){return str.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;")}},"./lib/participation.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.manageParticipation=function manageParticipation(dom,container,padDoc,subject,me,options){var table=dom.createElement("table");container.appendChild(table),renderPartipants(dom,table,padDoc,subject,me,options);try{recordParticipation(subject,padDoc,table)}catch(e){container.appendChild((0,_widgets.errorMessageBlock)(dom,"Error recording your partipation: "+e))}return table},exports.participationObject=function participationObject(subject,padDoc,me){return new Promise((function(resolve,reject){if(!me)throw new Error("No user id");var parps=store.each(subject,ns.wf("participation")).filter((function(pn){return store.holds(pn,ns.wf("participant"),me)}));if(parps.length>1){var _step,candidates=[],_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(parps);try{for(_iterator.s();!(_step=_iterator.n()).done;){var participation=_step.value,date=store.anyValue(participation,ns.cal("dtstart"));date&&candidates.push([date,participation])}}catch(err){_iterator.e(err)}finally{_iterator.f()}candidates.sort(),debug.warn("Multiple particpation objects, picking earliest, in "+padDoc),resolve(candidates[0][1])}if(parps.length)resolve(parps[0]);else{var _participation2=(0,_widgets.newThing)(padDoc),ins=[(0,_rdflib.st)(subject,ns.wf("participation"),_participation2,padDoc),(0,_rdflib.st)(_participation2,ns.wf("participant"),me,padDoc),(0,_rdflib.st)(_participation2,ns.cal("dtstart"),new Date,padDoc),(0,_rdflib.st)(_participation2,ns.ui("backgroundColor"),(0,_pad.lightColorHash)(me),padDoc)];store.updater.update([],ins,(function(uri,ok,errorMessage){ok?resolve(_participation2):reject(new Error("Error recording your partipation: "+errorMessage))})),resolve(_participation2)}}))},exports.recordParticipation=recordParticipation,exports.renderPartipants=renderPartipants;var _createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_assertThisInitialized2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),_inherits2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/inherits.js")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),_getPrototypeOf2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),_wrapNativeSuper2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js")),_defineProperty2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_rdflib=__webpack_require__("./node_modules/rdflib/esm/index.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),_widgets=__webpack_require__("./lib/widgets/index.js"),_utils=__webpack_require__("./lib/utils/index.js"),_pad=__webpack_require__("./lib/pad.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=(0,_getPrototypeOf2.default)(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,result)}}HTMLTableElement;var store=_solidLogic.solidLogicSingleton.store;function renderPartipants(dom,table,unused1,subject,unused2,options){table.setAttribute("style","margin: 0.8em;");var newRowForParticpation=function newRowForParticpation(parp){var tr,person=store.any(parp,ns.wf("participant"));if(!person)return(tr=dom.createElement("tr")).textContent="???",tr;var bg=store.anyValue(parp,ns.ui("backgroundColor"))||"white",block=dom.createElement("div");block.setAttribute("style","height: 1.5em; width: 1.5em; margin: 0.3em; border 0.01em solid #888; background-color: "+bg),tr=(0,_widgets.personTR)(dom,null,person,options),table.appendChild(tr);var td=dom.createElement("td");return td.setAttribute("style","vertical-align: middle;"),td.appendChild(block),tr.insertBefore(td,tr.firstChild),tr},syncTable=function syncTable(){var parps=store.each(subject,ns.wf("participation")).map((function(parp){return(0,debug.log)("in participants"),[store.anyValue(parp,ns.cal("dtstart"))||"9999-12-31",parp]}));parps.sort();var participations=parps.map((function(p){return p[1]}));(0,_utils.syncTableToArray)(table,participations,newRowForParticpation)};return table.refresh=syncTable,syncTable(),table}function recordParticipation(subject,padDoc,refreshable){var me=_solidLogic.authn.currentUser();if(me){var parps=store.each(subject,ns.wf("participation")).filter((function(pn){return store.holds(pn,ns.wf("participant"),me)}));if(parps.length>1)throw new Error("Multiple records of your participation");if(parps.length)return parps[0];if(!store.updater.editable(padDoc))return debug.log("Not recording participation, as no write acesss as "+me+" to "+padDoc),null;var participation=(0,_widgets.newThing)(padDoc),ins=[(0,_rdflib.st)(subject,ns.wf("participation"),participation,padDoc),(0,_rdflib.st)(participation,ns.wf("participant"),me,padDoc),(0,_rdflib.st)(participation,ns.cal("dtstart"),new Date,padDoc),(0,_rdflib.st)(participation,ns.ui("backgroundColor"),(0,_pad.lightColorHash)(me),padDoc)];return store.updater.update([],ins,(function(uri,ok,errorMessage){if(!ok)throw new Error("Error recording your partipation: "+errorMessage);refreshable&&refreshable.refresh&&refreshable.refresh()})),participation}}},"./lib/preferences.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.get=function get(k){return value[k]},exports.getPreferencesForClass=function getPreferencesForClass(subject,theClass,predicates,context){return new Promise((function(resolve,reject){recordSharedPreferences(subject,context).then((function(context){var sharedPreferences=context.sharedPreferences;if(context.me)participation.participationObject(subject,subject.doc(),context.me).then((function(participation){recordPersonalDefaults(theClass,context).then((function(context){var results=[],personalDefaults=context.personalDefaults;predicates.forEach((function(pred){var v1=kb.any(participation,pred)||kb.any(sharedPreferences,pred)||kb.any(personalDefaults,pred);v1&&(results[pred.uri]=toJS(v1))})),resolve(results)}),reject)}),reject);else{var results=[];predicates.forEach((function(pred){var v1=kb.any(sharedPreferences,pred);v1&&(results[pred.uri]=toJS(v1))})),resolve(results)}}))}))},exports.recordPersonalDefaults=recordPersonalDefaults,exports.recordSharedPreferences=recordSharedPreferences,exports.renderPreferencesForm=function renderPreferencesForm(subject,theClass,preferencesForm,context){var prefContainer=context.dom.createElement("div");return participation.participationObject(subject,subject.doc(),context.me).then((function(participation){var dom=context.dom;function heading(text){prefContainer.appendChild(dom.createElement("h5")).textContent=text}heading("My view of this "+context.noun),widgets.appendForm(dom,prefContainer,{},participation,preferencesForm,subject.doc(),(function(ok,mes){ok||widgets.complain(context,mes)})),heading("Everyone's  view of this "+context.noun),recordSharedPreferences(subject,context).then((function(context){var sharedPreferences=context.sharedPreferences;widgets.appendForm(dom,prefContainer,{},sharedPreferences,preferencesForm,subject.doc(),(function(ok,mes){ok||widgets.complain(context,mes)})),heading("My default view of any "+context.noun),recordPersonalDefaults(theClass,context).then((function(context){widgets.appendForm(dom,prefContainer,{},context.personalDefaults,preferencesForm,context.preferencesFile,(function(ok,mes){ok||widgets.complain(context,mes)}))}),(function(err){widgets.complain(context,err)}))}))}),(function(err){prefContainer.appendChild(widgets.errorMessageBlock(context.dom,err))})),prefContainer},exports.set=function set(k,v){if("string"!=typeof v)throw debug.log("Non-string value of preference "+k+": "+v),new Error("Non-string value of preference "+k+": "+v);this.value[k]=v},exports.value=void 0;var $rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_login=__webpack_require__("./lib/login/login.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),participation=_interopRequireWildcard(__webpack_require__("./lib/participation.js")),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var kb=_solidLogic.store,value=[];function recordSharedPreferences(subject,context){return new Promise((function(resolve,reject){var sharedPreferences=kb.any(subject,ns.ui("sharedPreferences"));if(sharedPreferences)context.sharedPreferences=sharedPreferences,resolve(context);else{var sp=$rdf.sym(subject.doc().uri+"#SharedPreferences"),ins=[$rdf.st(subject,ns.ui("sharedPreferences"),sp,subject.doc())];debug.log("Creating shared preferences "+sp),kb.updater.update([],ins,(function(uri,ok,errorMessage){ok?(context.sharedPreferences=sp,resolve(context)):reject(new Error("Error creating shared prefs: "+errorMessage))}))}}))}function recordPersonalDefaults(theClass,context){return new Promise((function(resolve,reject){(0,_login.ensureLoadedPreferences)(context).then((function(context){if(context.preferencesFile){var prefs,reg,regs=kb.each(null,ns.solid("forClass"),theClass,context.preferencesFile),ins=[];if(regs.length){if(regs.forEach((function(r){prefs=prefs||kb.any(r,ns.solid("personalDefaults"))})),prefs)return context.personalDefaults=prefs,void resolve(context);prefs=widgets.newThing(context.preferencesFile),reg=regs[0]}else reg=widgets.newThing(context.preferencesFile),ins=[$rdf.st(reg,ns.rdf("type"),ns.solid("TypeRegistration"),context.preferencesFile),$rdf.st(reg,ns.solid("forClass"),theClass,context.preferencesFile)];prefs=widgets.newThing(context.preferencesFile),ins.push($rdf.st(reg,ns.solid("personalDefaults"),prefs,context.preferencesFile)),kb.updater.update([],ins,(function(uri,ok,errm){ok?(context.personalDefaults=prefs,resolve(context)):reject(new Error("Setting preferences for "+theClass+": "+errm))}))}else debug.log("Not doing private class preferences as no access to preferences file. "+context.preferencesFileError)}),(function(err){reject(err)}))}))}function toJS(term){return term.datatype?term.datatype.equals(ns.xsd("boolean"))?"1"===term.value:term.datatype.equals(ns.xsd("dateTime"))||term.datatype.equals(ns.xsd("date"))?new Date(term.value):term.datatype.equals(ns.xsd("integer"))||term.datatype.equals(ns.xsd("float"))||term.datatype.equals(ns.xsd("decimal"))?Number(term.value):term.value:term}exports.value=value},"./lib/signup/config-default.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default={authEndpoint:"",fallbackAuthEndpoint:"https://databox.me/",signupEndpoint:"https://solidproject.org/use-solid/",signupWindowHeight:600,signupWindowWidth:1024,key:"",cert:""}},"./lib/signup/signup.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Signup=Signup;var _configDefault=_interopRequireDefault(__webpack_require__("./lib/signup/config-default.js"));function Signup(config){this.config=config||_configDefault.default}Signup.prototype.listen=function listen(){return new Promise((function(resolve,reject){var eventMethod=window.addEventListener?"addEventListener":"attachEvent";(0,window[eventMethod])("attachEvent"===eventMethod?"onmessage":"message",(function(e){var u=e.data;if("User:"===u.slice(0,5)){var user=u.slice(5,u.length);return user&&user.length>0&&"http"===user.slice(0,4)?resolve(user):reject(user)}}),!0)}))},Signup.prototype.signup=function signup(signupUrl){signupUrl=signupUrl||this.config.signupEndpoint;var width=this.config.signupWindowWidth,height=this.config.signupWindowHeight,leftPosition=window.screen.width/2-(width/2+10),topPosition=window.screen.height/2-(height/2+50),windowUrl=signupUrl+"?origin="+encodeURIComponent(window.location.origin),windowSpecs="resizable,scrollbars,status,width="+width+",height="+height+",left="+leftPosition+",top="+topPosition;window.open(windowUrl,"Solid signup",windowSpecs);var self=this;return new Promise((function(resolve){self.listen().then((function(webid){return resolve(webid)}))}))}},"./lib/style.js":(module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.style=void 0;var style={checkboxStyle:"colour: black; font-size: 100%; padding-left: 0.5 em; padding-right: 0.5 em;",checkboxInputStyle:"font-size: 150%; height: 1.2em; width: 1.2em; background-color: #eef; border-radius:0.2em; margin: 0.1em",fieldLabelStyle:"color: #3B5998; text-decoration: none;",formSelectSTyle:"background-color: #eef; padding: 0.5em;  border: .05em solid #88c;  border-radius:0.2em; font-size: 100%; margin:0.4em;",textInputStyle:"background-color: #eef; padding: 0.5em;  border: .05em solid #88c;  border-radius:0.2em; font-size: 100%; margin:0.4em;",textInputStyleUneditable:"background-color: white; padding: 0.5em;  border: .05em solid white;  border-radius:0.2em; font-size: 100%; margin:0.4em;",textInputSize:20,buttonStyle:"background-color: #fff; padding: 0.7em;  border: .01em solid white;  border-radius:0.2em; font-size: 100%; margin: 0.3em;",commentStyle:"padding: 0.7em;  border: none; font-size: 100%; white-space: pre-wrap;",iconStyle:"width: 3em; height: 3em; margin: 0.1em; border-radius: 1em;",smallButtonStyle:"margin: 0.2em; width: 1em; height:1em;",classIconStyle:"width: 3em; height: 3em; margin: 0.1em; border-radius: 0.2em; border: 0.1em solid green; padding: 0.2em; background-color: #efe;",confirmPopupStyle:"padding: 0.7em; border-radius: 0.2em; border: 0.1em solid orange; background-color: white; box-shadow: 0.5em 0.9em #888;",tabBorderRadius:"0.2em",messageBodyStyle:"white-space: pre-wrap; width: 99%; font-size:100%; border: 0.07em solid #eee; border-radius:0.2em; padding: .3em 0.5em; margin: 0.1em;",pendingeditModifier:"color: #bbb;",highlightColor:"#7C4DFF",personaBarStyle:"width: 100%; height: 4em; background-color: #eee; vertical-align: middle;",searchInputStyle:"border: 0.1em solid #444; border-radius: 0.2em; width: 100%; font-size: 100%; padding: 0.1em 0.6em; margin 0.2em;",autocompleteRowStyle:"border: 0.2em solid straw;",signInButtonStyle:"padding: 1em; border-radius:0.2em; font-size: 100%;",heading1Style:"font-size: 180%; font-weight: bold; color: #888888; padding: 0.5em; margin: 0.7em 0.0m;",heading2Style:"font-size: 130%; font-weight: bold; color: #888888; padding: 0.4em; margin: 0.7em 0.0em;",heading3Style:"font-size: 120%; font-weight: bold; color: #888888; padding: 0.3em; margin: 0.7em 0.0em;",heading4Style:"font-size: 110%; font-weight: bold; color: #888888; padding: 0.2em; margin: 0.7em 0.0em;",formBorderColor:"#888888",formHeadingColor:"#888888",formHeadingStyle:"font-size: 110%; font-weight: bold; color: #888888; padding: 0.2em;  margin: 0.7em 0.0em;",formTextInput:"font-size: 100%; margin: 0.1em; padding: 0.1em;",formGroupStyle:["padding-left: 0em; border: 0.0em solid ".concat("#888888","; border-radius: 0.2em;"),"padding-left: 2em; border: 0.05em solid ".concat("#888888","; border-radius: 0.2em;"),"padding-left: 2em; border: 0.1em solid ".concat("#888888","; border-radius: 0.2em;"),"padding-left: 2em; border: 0.2em solid ".concat("#888888","; border-radius: 0.2em;")],formFieldLabelStyle:"'color: ".concat("#3B5998","; text-decoration: none;'"),formFieldNameBoxWidth:"8em",formFieldNameBoxStyle:"padding: 0.3em; vertical-align: middle; width:".concat("8em",";"),textInputBackgroundColor:"#eef",textInputBackgroundColorUneditable:"#fff",textInputColor:"#000",textInputColorPending:"#888",multilineTextInputStyle:"font-size:100%; white-space: pre-wrap; background-color: #eef; border: 0.07em solid gray; padding: 1em 0.5em; margin: 1em 1em;",renderAsDivStyle:"display: flex; align-items: center; justify-content: space-between; height: 2.5em; padding: 1em;",imageDivStyle:"width:2.5em; padding:0.5em; height: 2.5em;",linkDivStyle:"width:2em; padding:0.5em; height: 4em;"};exports.style=style,style.setStyle=function setStyle(ele,styleName){ele.style=style[styleName]},module.exports=style},"./lib/table.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.date.now.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderTableViewPane=function renderTableViewPane(doc,options){var allType,types,typeSelectorDiv,addColumnDiv,sourceDocument=options.sourceDocument,tableClass=options.tableClass,givenQuery=options.query,ns=UI.ns,kb=_solidLogic.store,rowsLookup={},FORBIDDEN_COLUMNS={"http://www.w3.org/2002/07/owl#sameAs":!0,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":!0},XSD_NUMBER_TYPES={"http://www.w3.org/2001/XMLSchema#decimal":!0,"http://www.w3.org/2001/XMLSchema#float":!0,"http://www.w3.org/2001/XMLSchema#double":!0,"http://www.w3.org/2001/XMLSchema#integer":!0,"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":!0,"http://www.w3.org/2001/XMLSchema#positiveInteger":!0,"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":!0,"http://www.w3.org/2001/XMLSchema#negativeInteger":!0,"http://www.w3.org/2001/XMLSchema#long":!0,"http://www.w3.org/2001/XMLSchema#int":!0,"http://www.w3.org/2001/XMLSchema#short":!0,"http://www.w3.org/2001/XMLSchema#byte":!0,"http://www.w3.org/2001/XMLSchema#unsignedLong":!0,"http://www.w3.org/2001/XMLSchema#unsignedInt":!0,"http://www.w3.org/2001/XMLSchema#unsignedShort":!0,"http://www.w3.org/2001/XMLSchema#unsignedByte":!0},XSD_DATE_TYPES={"http://www.w3.org/2001/XMLSchema#dateTime":!0,"http://www.w3.org/2001/XMLSchema#date":!0},IMAGE_TYPES={"http://xmlns.com/foaf/0.1/Image":!0,"http://purl.org/dc/terms/Image":!0},keyVariable=options.keyVariable||"?_row",subjectIdCounter=0,lastQuery=null,mostCommonType=null,resultDiv=doc.createElement("div");resultDiv.className="tableViewPane",resultDiv.appendChild(function generateControlBar(){var result=doc.createElement("table");result.setAttribute("class","toolbar");var tr=doc.createElement("tr");return typeSelectorDiv=doc.createElement("td"),tr.appendChild(typeSelectorDiv),addColumnDiv=doc.createElement("td"),tr.appendChild(addColumnDiv),result.appendChild(tr),result}());var table,tableDiv=doc.createElement("div");if(resultDiv.appendChild(tableDiv),resultDiv.refresh=function(){runQuery(table.query,table.logicalRows,table.columns,table)},givenQuery)table=renderTableForQuery(givenQuery),tableDiv.appendChild(table);else{var s=function calculateTable(){var subjects,types,s=function discoverTypes(){for(var types={},subjectList=kb.statementsMatching(void 0,UI.ns.rdf("type"),tableClass,sourceDocument),subjects={},i=0;i<subjectList.length;++i){var type=subjectList[i].object;if("NamedNode"===type.termType){var typeObj=getTypeForObject(types,type);type.uri in subjects||(subjects[type.uri]=[]),subjects[type.uri].push(subjectList[i].subject),typeObj.addUse()}}return[subjects,types]}();for(var typeUrl in subjects=s[0],types=s[1],subjects){var subjectList=subjects[typeUrl];identifyColumnsForType(types[typeUrl],subjectList)}return[new SubjectType(null),objectToArray(types)]}();allType=s[0],types=s[1],tableClass||typeSelectorDiv.appendChild(function generateTypeSelector(allType,types){var resultDiv=doc.createElement("div");resultDiv.appendChild(doc.createTextNode("Select type: "));var dropdown=doc.createElement("select");for(var uri in dropdown.appendChild(optionElement("All types","null")),types)dropdown.appendChild(optionElement(types[uri].getLabel(),uri));return dropdown.addEventListener("click",(function(){(function typeSelectorChanged(selectedType){buildFilteredTable(selectedType)})("null"===dropdown.value?allType:types[dropdown.value])}),!1),resultDiv.appendChild(dropdown),resultDiv}(allType,types)),mostCommonType=function getMostCommonType(types){var typeUri,bestCount=-1,best=null;for(typeUri in types){var type=types[typeUri];type.useCount>bestCount&&(best=type,bestCount=type.useCount)}return best}(types),buildFilteredTable(mostCommonType||allType)}return resultDiv;function generateQuery(type){var query=new rdf.Query,rowVar=kb.variable(keyVariable.slice(1));return function addSelectToQuery(query,type){for(var selectedColumns=type.getColumns(),i=0;i<selectedColumns.length;++i){var variable=kb.variable("_col"+i);query.vars.push(variable),selectedColumns[i].setVariable(variable)}}(query,type),function addWhereToQuery(query,rowVar,type){var queryType=type.type;queryType||(queryType=kb.variable("_any")),query.pat.add(rowVar,UI.ns.rdf("type"),queryType)}(query,rowVar,type),function addColumnsToQuery(query,rowVar,type){for(var selectedColumns=type.getColumns(),i=0;i<selectedColumns.length;++i){var column=selectedColumns[i],formula=kb.formula();formula.add(rowVar,column.predicate,column.getVariable()),query.pat.optional.push(formula)}}(query,rowVar,type),query}function buildFilteredTable(type){clearElement(addColumnDiv),addColumnDiv.appendChild(function generateColumnAddDropdown(type){var resultDiv=doc.createElement("div"),unusedColumns=type.getUnusedColumns();if(unusedColumns.sort((function(a,b){var aLabel=a.sortKey(),bLabel=b.sortKey();return(aLabel>bLabel)-(aLabel<bLabel)})),unusedColumns.length>0){resultDiv.appendChild(doc.createTextNode("Add column: "));var dropdown=doc.createElement("select");dropdown.appendChild(optionElement("","-1"));for(var i=0;i<unusedColumns.length;++i){var column=unusedColumns[i];dropdown.appendChild(optionElement(column.getLabel(),""+i))}resultDiv.appendChild(dropdown),dropdown.addEventListener("click",(function(){var columnIndex=Number(dropdown.value);columnIndex>=0&&(type.addColumn(unusedColumns[columnIndex]),buildFilteredTable(type))}),!1)}return resultDiv}(type)),function updateTable(query,type){lastQuery&&(lastQuery.running=!1);var htmlTable=renderTableForQuery(query,type);clearElement(tableDiv),tableDiv.appendChild(htmlTable),lastQuery=query}(generateQuery(type),type)}function clearElement(element){for(;element.childNodes.length>0;)element.removeChild(element.childNodes[0])}function SubjectType(type){this.type=type,this.columns=null,this.allColumns=[],this.useCount=0,this.getAllColumns=function(){return this.allColumns},this.getColumns=function(){if(!this.columns){var allColumns=this.getAllColumns();this.columns=allColumns.slice(0,7)}return this.columns},this.getUnusedColumns=function(){for(var allColumns=this.getAllColumns(),columns=this.getColumns(),result=[],i=0;i<allColumns.length;++i)-1===columns.indexOf(allColumns[i])&&result.push(allColumns[i]);return result},this.addColumn=function(column){this.columns.push(column)},this.removeColumn=function(column){this.columns=this.columns.filter((function(x){return x!==column}))},this.getLabel=function(){return utils.label(this.type)},this.addUse=function(){this.useCount+=1}}function Column(){this.useCount=0,this.checkedAnyValues=!1,this.possiblyLiteral=!0,this.possiblyNumber=!0,this.constraints=[],this.checkValue=function(term){var termType=term.termType;if(this.possiblyLiteral&&"Literal"!==termType&&"NamedNode"!==termType)this.possiblyNumber=!1,this.possiblyLiteral=!1;else if(this.possiblyNumber){if("Literal"!==termType)this.possiblyNumber=!1;else term.value.match(/^-?\d+(\.\d*)?$/)||(this.possiblyNumber=!1)}this.checkedAnyValues=!0},this.getVariable=function(){return this.variable},this.setVariable=function(variable){this.variable=variable},this.getKey=function(){return this.variable.toString()},this.addUse=function(){this.useCount+=1},this.getHints=function(){return options&&options.hints&&this.variable&&options.hints[this.variable.toNT()]?options.hints[this.variable.toNT()]:{}},this.getLabel=function(){return this.getHints().label?this.getHints().label:this.predicate?this.predicate.sameTerm(ns.rdf("type"))&&this.superClass?utils.label(this.superClass,!0):utils.label(this.predicate):this.variable?this.variable.toString():"unlabeled column?"},this.setPredicate=function(predicate,inverse,other){inverse?(this.inverse=predicate,this.constraints=this.constraints.concat(kb.each(predicate,UI.ns.rdfs("domain"))),predicate.sameTerm(ns.rdfs("subClassOf"))&&"NamedNode"===other.termType&&(this.superClass=other,this.alternatives=kb.each(void 0,ns.rdfs("subClassOf"),other))):(this.predicate=predicate,this.constraints=this.constraints.concat(kb.each(predicate,UI.ns.rdfs("range"))))},this.getConstraints=function(){return this.constraints},this.filterFunction=function(){return!0},this.sortKey=function(){return this.getLabel().toLowerCase()},this.isImageColumn=function(){for(var i=0;i<this.constraints.length;i++)if(this.constraints[i].uri in IMAGE_TYPES)return!0;return!1}}function objectToArray(obj,filter){var result=[];for(var property in obj){var value=obj[property];filter&&!filter(property,value)||result.push(value)}return result}function optionElement(label,value){var result=doc.createElement("option");return result.setAttribute("value",value),result.appendChild(doc.createTextNode(label)),result}function getColumnForPredicate(columns,predicate){var column;return predicate.uri in columns?column=columns[predicate.uri]:((column=new Column).setPredicate(predicate),columns[predicate.uri]=column),column}function getTypeForObject(types,type){var subjectType;return type.uri in types?subjectType=types[type.uri]:(subjectType=new SubjectType(type),types[type.uri]=subjectType),subjectType}function getSubjectProperties(subject,columns){for(var properties=kb.statementsMatching(subject,void 0,void 0,sourceDocument),result={},j=0;j<properties.length;++j){var predicate=properties[j].predicate;if(!(predicate.uri in FORBIDDEN_COLUMNS)){var column=getColumnForPredicate(columns,predicate);column.checkValue(properties[j].object),result[predicate.uri]=column}}return result}function identifyColumnsForType(type,subjects){for(var allColumns={},i=0;i<subjects.length;++i){var columns=getSubjectProperties(subjects[i],allColumns);for(var predicateUri in columns){columns[predicateUri].addUse()}}var allColumnsList=objectToArray(allColumns);!function sortColumns(columns){function sortFunction(a,b){return(a.useCount<b.useCount)-(a.useCount>b.useCount)}columns.sort(sortFunction)}(allColumnsList),type.allColumns=allColumnsList}function renderColumnDeleteButton(type,column){var button=doc.createElement("a");return button.appendChild(doc.createTextNode("[x]")),button.addEventListener("click",(function(){type.removeColumn(column),buildFilteredTable(type)}),!1),button}function applyColumnFiltersToRow(row,columns){for(var rowDisplayed=!0,c=0;c<columns.length;++c){var column=columns[c],columnKey=column.getKey(),columnValue=null;if(columnKey in row.values&&(columnValue=row.values[columnKey][0]),!column.filterFunction(columnValue)){rowDisplayed=!1;break}}var htmlRow=row._htmlRow;htmlRow.style.display=rowDisplayed?"":"none"}function applyColumnFilters(rows,columns){for(var r=0;r<rows.length;++r){applyColumnFiltersToRow(rows[r],columns)}}function literalSort(rows,column,reverse){function literalToString(colValue){return colValue?"Literal"===colValue.termType?colValue.value.toLowerCase():"NamedNode"===colValue.termType?utils.label(colValue).toLowerCase():colValue.value.toLowerCase():""}!function applyColumnSort(rows,column,sortFunction,reverse){var columnKey=column.getKey();if(rows.sort((function(row1,row2){var row1Value=null,row2Value=null;columnKey in row1.values&&(row1Value=row1.values[columnKey][0]),columnKey in row2.values&&(row2Value=row2.values[columnKey][0]);var result=sortFunction(row1Value,row2Value);return reverse?-result:result})),rows.length){for(var parentTable=rows[0]._htmlRow.parentNode,i=0;i<rows.length;++i)parentTable.removeChild(rows[i]._htmlRow);for(var _i=0;_i<rows.length;++_i)parentTable.appendChild(rows[_i]._htmlRow)}}(rows,column,(function literalCompare(value1,value2){var strValue1=literalToString(value1),strValue2=literalToString(value2);return strValue1<strValue2?-1:strValue1>strValue2?1:0}),reverse)}function renderLiteralSelector(rows,columns,column){var result=doc.createElement("div"),textBox=doc.createElement("input");textBox.setAttribute("type","text"),textBox.style.width="70%",result.appendChild(textBox);var sort1=doc.createElement("span");sort1.appendChild(doc.createTextNode("")),sort1.addEventListener("click",(function(){literalSort(rows,column,!1)}),!1),result.appendChild(sort1);var sort2=doc.createElement("span");sort2.appendChild(doc.createTextNode("")),sort2.addEventListener("click",(function(){literalSort(rows,column,!0)}),!1),result.appendChild(sort2);var substring=null;return column.filterFunction=function(colValue){return!substring||!!colValue&&("Literal"===colValue.termType?colValue.value:"NamedNode"===colValue.termType?utils.label(colValue):"").toLowerCase().indexOf(substring)>=0},textBox.addEventListener("keyup",(function(){substring=""!==textBox.value?textBox.value.toLowerCase():null,applyColumnFilters(rows,columns)}),!1),result}function renderEnumSelector(rows,columns,column,list){for(var result=doc.createElement("div"),dropdown=doc.createElement("select"),searchValue={},i=0;i<list.length;++i){var value=list[i];searchValue[value.uri]=!0}var initialSelection=getHints(column).initialSelection;initialSelection&&(searchValue=initialSelection),dropdown.setAttribute("multiple","true");for(var _i2=0;_i2<list.length;++_i2){var _value=list[_i2],ele=optionElement(utils.label(_value),_i2);searchValue[_value.uri]&&(ele.selected=!0),dropdown.appendChild(ele)}return result.appendChild(dropdown),column.filterFunction=function(colValue){return!searchValue||colValue&&searchValue[colValue.uri]},dropdown.addEventListener("click",(function(){searchValue={};for(var opt=dropdown.options,_i3=0;_i3<opt.length;_i3++){var option=opt[_i3],index=Number(option.value);opt[_i3].selected&&(searchValue[list[index].uri]=!0)}applyColumnFilters(rows,columns)}),!0),result}function renderNumberSelector(rows,columns,column){var result=doc.createElement("div"),minSelector=doc.createElement("input");minSelector.setAttribute("type","text"),minSelector.style.width="40px",result.appendChild(minSelector);var maxSelector=doc.createElement("input");maxSelector.setAttribute("type","text"),maxSelector.style.width="40px",result.appendChild(maxSelector);var min=null,max=null;function eventListener(){min=""===minSelector.value?null:Number(minSelector.value),max=""===maxSelector.value?null:Number(maxSelector.value),applyColumnFilters(rows,columns)}return column.filterFunction=function(colValue){return colValue&&(colValue=Number(colValue)),!(min&&(!colValue||colValue<min))&&!(max&&(!colValue||colValue>max))},minSelector.addEventListener("keyup",eventListener,!1),maxSelector.addEventListener("keyup",eventListener,!1),result}function renderTableSelector(rows,columns,column){if(column.superClass&&column.alternatives.length>0)return renderEnumSelector(rows,columns,column,column.alternatives);for(var range,cs=column.getConstraints(),i=0;i<cs.length;i++){if(range=cs[i],column.checkedAnyValues&&column.possiblyNumber||range.uri in XSD_NUMBER_TYPES)return renderNumberSelector(rows,columns,column);if("http://www.w3.org/2000/01/rdf-schema#Literal"===range.uri)return renderLiteralSelector(rows,columns,column);var choices=kb.each(range,UI.ns.owl("oneOf"));if(choices.length>0)return renderEnumSelector(rows,columns,column,choices.elements)}return function fallbackRenderTableSelector(rows,columns,column){return column.checkedAnyValues&&column.possiblyNumber?renderNumberSelector(rows,columns,column):column.possiblyLiteral?renderLiteralSelector(rows,columns,column):null}(rows,columns,column)}function linkTo(uri,linkText,hints){hints=hints||{};var result=doc.createElement("a"),linkFunction=hints.linkFunction;return result.setAttribute("href",uri),result.appendChild(doc.createTextNode(linkText)),linkFunction?result.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var uri=utils.getTarget(e).getAttribute("href");uri||debug.log("No href found \n"),linkFunction(uri)}),!0):result.addEventListener("click",UI.widgets.openHrefInOutlineMode,!0),result}function getHints(column){return options&&options.hints&&column.variable&&options.hints[column.variable.toNT()]?options.hints[column.variable.toNT()]:{}}function renderValue(obj,column){var hints=getHints(column),cellFormat=hints.cellFormat;if(!cellFormat){if("Literal"===obj.termType){if(obj.datatype){if(XSD_DATE_TYPES[obj.datatype.uri])return doc.createTextNode(UI.widgets.shortDate(obj.value));if(XSD_NUMBER_TYPES[obj.datatype.uri]){var span=doc.createElement("span");return span.textContent=obj.value,span.setAttribute("style","text-align: right"),span}}return doc.createTextNode(obj.value)}if("NamedNode"===obj.termType&&column.isImageColumn())return function renderImage(obj){var result=doc.createElement("img");return result.setAttribute("src",obj.uri),result.style.height="40px",result}(obj);if("NamedNode"===obj.termType||"BlankNode"===obj.termType)return function linkToObject(obj,hints){var match=!1;return obj.uri&&(match=obj.uri.match(/^mailto:(.*)/)),linkTo(obj.uri,match?match[1]:utils.label(obj),hints)}(obj,hints);if("Collection"===obj.termType){var _span=doc.createElement("span");return _span.appendChild(doc.createTextNode("[")),obj.elements.forEach((function(x){_span.appendChild(renderValue(x,column)),_span.appendChild(doc.createTextNode(", "))})),_span.removeChild(_span.lastChild),_span.appendChild(doc.createTextNode("]")),_span}return doc.createTextNode("unknown termtype '"+obj.termType+"'!")}if("shortDate"===cellFormat)return doc.createTextNode(UI.widgets.shortDate(obj.value))}function valueInList(value,list){var i,key=null;if("Literal"===value.termType)key="value";else{if("NamedNode"!==value.termType)return list.indexOf(value)>=0;key="uri"}for(i=0;i<list.length;++i)if(list[i].termType===value.termType&&list[i][key]===value[key])return!0;return!1}function updateRow(row,columns,values){var key,needUpdate=!1;for(key in values){var value=values[key];key in row.values||(row.values[key]=[]),valueInList(value,row.values[key])||(row.values[key].push(value),needUpdate=!0)}needUpdate&&(clearElement(row._htmlRow),function renderTableRowInto(tr,row,columns,_downstream){var linkTd=doc.createElement("td");row._subject&&"uri"in row._subject&&linkTd.appendChild(linkTo(row._subject.uri,"")),tr.appendChild(linkTd);for(var i=0;i<columns.length;++i){var column=columns[i],td=doc.createElement("td"),orig=void 0,columnKey=column.getKey();if(columnKey in row.values){var objects=row.values[columnKey],different=!1;row.originalValues&&row.originalValues[columnKey]&&objects.length!==row.originalValues[columnKey].length&&(different=!0);for(var j=0;j<objects.length;++j){var obj=objects[j];row.originalValues&&row.originalValues[columnKey]&&row.originalValues[columnKey].length>j&&(orig=row.originalValues[columnKey][j],obj.toString()!==orig.toString()&&(different=!0)),td.appendChild(renderValue(obj,column)),j!==objects.length-1&&td.appendChild(doc.createTextNode(",\n")),different&&(td.style.background="#efe")}}tr.appendChild(td)}return row._htmlRow=tr,tr}(row._htmlRow,row,columns)),applyColumnFiltersToRow(row,columns)}function getSubjectId(subject){if("uri"in subject)return subject.uri;if("_subject_id"in subject)return subject._subject_id;var result=""+subjectIdCounter;return subject._subject_id=result,++subjectIdCounter,result}function runQuery(query,rows,columns,table){query.running=!0;var startTime=Date.now(),progressMessage=doc.createElement("tr");table.appendChild(progressMessage),progressMessage.textContent="Loading ...";for(var i=0;i<rows.length;i++)rows[i].original=!0,rows[i].originalValues||(rows[i].originalValues=rows[i].values),rows[i].values={};kb.query(query,(function onResult(values){if(query.running){progressMessage.textContent+=".";var rowKeyId,row=null,rowKey=null;if(keyVariable in values&&(rowKeyId=getSubjectId(rowKey=values[keyVariable]))in rowsLookup&&(row=rowsLookup[rowKeyId]),!row){var tr=doc.createElement("tr");table.appendChild(tr),row={_htmlRow:tr,_subject:rowKey,values:{}},rows.push(row),rowKey&&(rowsLookup[rowKeyId]=row)}delete row.original,updateRow(row,columns,values)}}),void 0,(function onDone(){progressMessage&&progressMessage.parentNode&&progressMessage.parentNode.removeChild&&(progressMessage.parentNode.removeChild(progressMessage),progressMessage=null);var elapsedTimeMS=Date.now()-startTime;debug.log("Query done: "+rows.length+" rows, "+elapsedTimeMS+"ms");for(var _i4=rows.length-1;_i4>=0;_i4--)if(rows[_i4].original){debug.log("   deleting row "+rows[_i4]._subject);var tr=rows[_i4]._htmlRow;tr.parentNode.removeChild(tr),delete rowsLookup[getSubjectId(rows[_i4]._subject)],rows.splice(_i4,1)}if(options.sortBy){var column=function getColumnForVariable(columns,variableNT){for(var predicateUri in columns){var column=columns[predicateUri];if(column.variable.toNT()===variableNT)return column}throw new Error("getColumnForVariable: no column for variable ".concat(variableNT))}(columns,options.sortBy);literalSort(rows,column,options.sortReverse)}options.onDone&&options.onDone(resultDiv)}))}function inferColumnsFromFormula(columns,formula){UI.log.debug(">> processing formula");for(var i=0;i<formula.statements.length;++i){var statement=formula.statements[i];if("NamedNode"===statement.predicate.termType&&"Variable"===statement.object.termType){var variable=statement.object.toString();if(variable in columns)columns[variable].setPredicate(statement.predicate,!1,statement.subject)}if("NamedNode"===statement.predicate.termType&&"Variable"===statement.subject.termType){var _variable=statement.subject.toString();if(_variable in columns)columns[_variable].setPredicate(statement.predicate,!0,statement.object)}}for(var _i5=0;_i5<formula.optional.length;++_i5)UI.log.debug("recurse to optional subformula "+_i5),inferColumnsFromFormula(columns,formula.optional[_i5]);UI.log.debug("<< finished processing formula")}function inferColumns(query){for(var result=[],columns={},i=0;i<query.vars.length;++i){var column=new Column,queryVar=query.vars[i];UI.log.debug("column "+i+" : "+queryVar),column.setVariable(queryVar),columns[queryVar]=column,result.push(column)}return inferColumnsFromFormula(columns,query.pat),result}function renderTableForQuery(query,type){var columns;columns=givenQuery?inferColumns(query):type.getColumns();var rows=[],table=doc.createElement("table");return table.appendChild(function renderTableHeader(columns,type){var tr=doc.createElement("tr"),linkTd=doc.createElement("th");tr.appendChild(linkTd);for(var i=0;i<columns.length;++i){var th=doc.createElement("th"),column=columns[i];th.appendChild(doc.createTextNode(column.getLabel())),type&&th.appendChild(renderColumnDeleteButton(type,column)),tr.appendChild(th)}return tr}(columns,type)),table.appendChild(function renderTableSelectors(rows,columns){var tr=doc.createElement("tr");tr.className="selectors",tr.appendChild(doc.createElement("td"));for(var i=0;i<columns.length;++i){var td=doc.createElement("td"),selector=renderTableSelector(rows,columns,columns[i]);selector&&td.appendChild(selector),tr.appendChild(td)}return tr}(rows,columns)),table.logicalRows=rows,table.columns=columns,table.query=query,runQuery(query,rows,columns,table),table}};var debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_iconBase=__webpack_require__("./lib/iconBase.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),log=_interopRequireWildcard(__webpack_require__("./lib/log.js")),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js")),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var UI={icons:_iconBase.icons,log,ns,utils,widgets}},"./lib/tabs.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabWidgetElement=void 0,exports.tabWidget=function tabWidget(options){var subject=options.subject,dom=options.dom||document,orientation=parseInt(options.orientation||"0"),backgroundColor=options.backgroundColor||"#ddddcc",flipped=2&orientation,vertical=1&orientation,onClose=options.onClose,_getColors=function getColors(backgroundColor){return function isLight(x){for(var total=0,i=0;i<3;i++)total+=parseInt(x.slice(2*i+1,2*i+3),16);return total>384}(backgroundColor)?[colorBlend(backgroundColor,"#ffffff",.3),"#000000"]:[colorBlend(backgroundColor,"#000000",.3),"#ffffff"]}(backgroundColor),_getColors2=(0,_slicedToArray2.default)(_getColors,2),selectedColor=_getColors2[0],color=_getColors2[1],bodyMainStyle="flex: 2; width: auto; height: 100%; border: 0.1em; border-style: solid; border-color: ".concat(selectedColor,"; padding: 1em;"),rootElement=dom.createElement("div");rootElement.setAttribute("style","display: flex; height: 100%; width: 100%; flex-direction: "+(vertical?"row":"column")+(flipped?"-reverse;":";"));var navElement=rootElement.appendChild(dom.createElement("nav"));navElement.setAttribute("style","margin: 0;");var mainElement=rootElement.appendChild(dom.createElement("main"));mainElement.setAttribute("style","margin: 0; width:100%; height: 100%;");var tabContainer=navElement.appendChild(dom.createElement("ul"));tabContainer.setAttribute("style","\n    list-style-type: none;\n    display: flex;\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n    flex-direction: ".concat(vertical?"column":"row","\n  "));var bodyContainer=mainElement;rootElement.tabContainer=tabContainer,rootElement.bodyContainer=bodyContainer;var corners=["0.2em","0.2em","0","0"],cornersPrepped=corners.concat(corners).slice(orientation,orientation+4),cornersStyle="border-radius: ".concat(cornersPrepped.join(" "),";"),margins=["0.3em","0.3em","0","0.3em"],marginsPrepped=margins.concat(margins).slice(orientation,orientation+4),marginsStyle="margin: ".concat(marginsPrepped.join(" "),";"),paddingStyle="padding: ".concat(marginsPrepped.join(" "),";"),tabStyle=cornersStyle+"padding: 0.7em; max-width: 20em; color: ".concat(color,";"),unselectedStyle="".concat(tabStyle+marginsStyle,"opacity: 50%; background-color: ").concat(backgroundColor,";"),selectedStyle="".concat(tabStyle+marginsStyle,"background-color: ").concat(selectedColor,";"),hiddenStyle="height: 100%; width: 100%;display: none;";if(rootElement.refresh=orderedSync,orderedSync(),!options.startEmpty&&tabContainer.children.length&&options.selectedTab){var selectedTab0=Array.from(tabContainer.children).map((function(tab){return tab.firstChild})).find((function(tab){return tab.dataset.name===options.selectedTab})),selectedTabURI=options.selectedTab.uri,selectedTab1=Array.from(tabContainer.children).find((function(tab){return tab.subject&&tab.subject.uri&&tab.subject.uri===selectedTabURI})),clickMe=(selectedTab1||selectedTab0||tabContainer.children[0]).firstChild;clickMe&&clickMe.click()}else options.startEmpty||tabContainer.children[0].firstChild.click();return rootElement;function makeNewSlot(item){var ele=dom.createElement("li");ele.subject=item;var div=ele.appendChild(dom.createElement("div"));return div.setAttribute("style",unselectedStyle),div.addEventListener("click",(function(e){if(e.metaKey||(!function resetTabStyle(){for(var i=0;i<tabContainer.children.length;i++){var _tab=tabContainer.children[i];_tab.classList.contains("unstyled")||_tab.children[0]&&_tab.children[0].setAttribute("style",unselectedStyle)}}(),function resetBodyStyle(){for(var i=0;i<bodyContainer.children.length;i++)bodyContainer.children[i].setAttribute("style",hiddenStyle)}()),div.setAttribute("style",selectedStyle),ele.bodyTR){ele.bodyTR.setAttribute("style","height: 100%; width: 100%;");var bodyMain=function getOrCreateContainerElement(ele){var _ele$bodyTR,bodyMain=null===(_ele$bodyTR=ele.bodyTR)||void 0===_ele$bodyTR?void 0:_ele$bodyTR.children[0];if(bodyMain)return bodyMain;var newBodyMain=ele.bodyTR.appendChild(dom.createElement("main"));return newBodyMain.setAttribute("style",bodyMainStyle),newBodyMain}(ele);options.renderTabSettings&&e.altKey&&ele.subject&&!0!==bodyMain.asSettings?(bodyMain.innerHTML="loading settings ..."+item,options.renderTabSettings(bodyMain,ele.subject),bodyMain.asSettings=!0):options.renderMain&&ele.subject&&!1!==bodyMain.asSettings&&(bodyMain.innerHTML="loading item ..."+item,options.renderMain(bodyMain,ele.subject),bodyMain.asSettings=!1)}})),options.renderTab?options.renderTab(div,item):div.textContent=(0,_utils.label)(item),ele}function orderedSync(){var slot,i,j,left,right,items=function getItems(){return options.items?options.items:!1!==options.ordered?_solidLogic.store.the(subject,options.predicate).elements:_solidLogic.store.each(subject,options.predicate)}(),differ=!1;for(left=0;left<tabContainer.children.length;left++)if(slot=tabContainer.children[left],left>=items.length||slot.subject&&!slot.subject.sameTerm(items[left])){differ=!0;break}if(differ||items.length!==tabContainer.children.length){for(right=tabContainer.children.length-1;right>=0&&(slot=tabContainer.children[right],j=right-tabContainer.children.length+items.length,!slot.subject||slot.subject.sameTerm(items[j]));right--);for(var insertables=items.slice(left,right-tabContainer.children.length+items.length+1);right>=left;)tabContainer.removeChild(tabContainer.children[left]),bodyContainer.removeChild(bodyContainer.children[left]),right-=1;for(i=0;i<insertables.length;i++){var newSlot=makeNewSlot(insertables[i]),newBodyDiv=dom.createElement("div");newSlot.bodyTR=newBodyDiv,left===tabContainer.children.length?(tabContainer.appendChild(newSlot),bodyContainer.appendChild(newBodyDiv)):(tabContainer.insertBefore(newSlot,tabContainer.children[left+i]),bodyContainer.insertBefore(newBodyDiv,bodyContainer.children[left+i]))}onClose&&function addCancelButton(tabContainer){if(tabContainer.dataset.onCloseSet){var existingCancelButton=tabContainer.querySelector(".unstyled");tabContainer.removeChild(existingCancelButton)}var extraTab=dom.createElement("li");extraTab.classList.add("unstyled");var tabCancelButton=(0,_widgets.cancelButton)(dom,onClose);tabCancelButton.setAttribute("style",tabCancelButton.getAttribute("style")+paddingStyle),extraTab.appendChild(tabCancelButton),tabContainer.appendChild(extraTab),tabContainer.dataset.onCloseSet="true"}(tabContainer)}}};var _slicedToArray2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_assertThisInitialized2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),_inherits2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/inherits.js")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),_getPrototypeOf2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),_wrapNativeSuper2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js")),_defineProperty2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js")),_widgets=__webpack_require__("./lib/widgets/index.js"),_utils=__webpack_require__("./lib/utils/index.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js");function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=(0,_getPrototypeOf2.default)(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,result)}}HTMLElement;var TabWidgetElement=function(_HTMLElement2){(0,_inherits2.default)(TabWidgetElement,_HTMLElement2);var _super2=_createSuper(TabWidgetElement);function TabWidgetElement(){var _this2;(0,_classCallCheck2.default)(this,TabWidgetElement);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return _this2=_super2.call.apply(_super2,[this].concat(args)),(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this2),"bodyContainer",void 0),(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this2),"refresh",void 0),(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this2),"tabContainer",void 0),_this2}return(0,_createClass2.default)(TabWidgetElement)}((0,_wrapNativeSuper2.default)(HTMLElement));exports.TabWidgetElement=TabWidgetElement;HTMLElement;function colorBlend(a,b,mix){for(var ca,cb,str="#",hex="0123456789abcdef",i=0;i<3;i++){ca=parseInt(a.slice(2*i+1,2*i+3),16),cb=parseInt(b.slice(2*i+1,2*i+3),16);var res2=parseInt((""+(ca*(1-mix)+cb*mix)).split(".")[0]),h=parseInt((""+res2/16).split(".")[0]),l=parseInt((""+res2%16).split(".")[0]);str+=hex[h]+hex[l]}return str}},"./lib/utils/headerFooterHelpers.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.date.now.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.addStyleClassToElement=function addStyleClassToElement(element,styleClasses,type){styleClasses.forEach((function(styleClass){var style=function getStyle(styleClass,type){return type&&"footer"===type?_styleMap2.styleMap[styleClass]:_styleMap.styleMap[styleClass]}(styleClass,type),classes=(0,_jss.getClasses)(document.head,(0,_defineProperty2.default)({},styleClass,style)).classes;element.classList.add(classes[styleClass])}))},exports.getName=function getName(store,user){return store.anyValue(user,_.ns.vcard("fn"),null,user.doc())||store.anyValue(user,_.ns.foaf("name"),null,user.doc())||user.uri},exports.getPod=function getPod(){return(0,_rdflib.sym)(document.location.origin).site()},exports.getPodOwner=function getPodOwner(_x,_x2){return _getPodOwner.apply(this,arguments)},exports.throttle=function throttle(func,wait){var context,args,result,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},timeout=null,previous=0,later=function later(){previous=options.leading?Date.now():0,timeout=null,result=func.apply(context,args),timeout||(context=args=null)};return function(){var now=Date.now();previous||options.leading||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0||remaining>wait?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||!1===options.trailing||(timeout=setTimeout(later,remaining)),result}};var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_defineProperty2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js")),_rdflib=__webpack_require__("./node_modules/rdflib/esm/index.js"),_=__webpack_require__("./lib/index.js"),_styleMap=__webpack_require__("./lib/header/styleMap.js"),_styleMap2=__webpack_require__("./lib/footer/styleMap.js"),_jss=__webpack_require__("./lib/jss/index.js");function _getPodOwner(){return(_getPodOwner=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(pod,store){var podOwner,guess;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:_context.prev=0,store.fetcher.load(pod),_context.next=8;break;case 4:return _context.prev=4,_context.t0=_context.catch(0),console.error("Error loading pod "+pod+": "+_context.t0),_context.abrupt("return",null);case 8:if(store.holds(pod,_.ns.rdf("type"),_.ns.space("Storage"),pod)){_context.next=11;break}return console.warn("Pod  "+pod+" does not declare itself as a space:Storage"),_context.abrupt("return",null);case 11:if(!(podOwner=store.any(pod,_.ns.solid("owner"),null,pod)||store.any(null,_.ns.space("storage"),pod,pod))){_context.next=25;break}_context.prev=13,store.fetcher.load(podOwner.doc()),_context.next=21;break;case 17:return _context.prev=17,_context.t1=_context.catch(13),console.warn("Unable to load profile of pod owner "+podOwner),_context.abrupt("return",null);case 21:return store.holds(podOwner,_.ns.space("storage"),pod,podOwner.doc())||console.warn("Pod owner ".concat(podOwner," does NOT list pod ").concat(pod," as their storage")),_context.abrupt("return",podOwner);case 25:guess=(0,_rdflib.sym)("".concat(pod.uri,"profile/card#me")),_context.prev=26,store.fetcher.load(guess),_context.next=34;break;case 30:return _context.prev=30,_context.t2=_context.catch(26),console.error("Ooops. Guessed wrong pod owner webid {$guess} : can't load it."),_context.abrupt("return",null);case 34:if(!store.holds(guess,_.ns.space("storage"),pod,guess.doc())){_context.next=37;break}return console.warn("Using guessed pod owner webid but it links back."),_context.abrupt("return",guess);case 37:return _context.abrupt("return",null);case 38:case"end":return _context.stop()}}),_callee,null,[[0,4],[13,17],[26,30]])})))).apply(this,arguments)}},"./lib/utils/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.last-index-of.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.AJARImage=function AJARImage(src,alt,tt,doc){doc||(doc=document);var image=doc.createElement("img");image.setAttribute("src",src),image.addEventListener("copy",(function(e){e.clipboardData.setData("text/plain",""),e.clipboardData.setData("text/html",""),e.preventDefault()})),void 0!==tt&&image.setAttribute("title",tt);return image},exports.RDFComparePredicateObject=function RDFComparePredicateObject(self,other){var x=self.predicate.compareTerm(other.predicate);return 0!==x?x:self.object.compareTerm(other.object)},exports.RDFComparePredicateSubject=function RDFComparePredicateSubject(self,other){var x=self.predicate.compareTerm(other.predicate);return 0!==x?x:self.subject.compareTerm(other.subject)},exports.addLoadEvent=function addLoadEvent(func){var oldonload=window.onload;"function"!=typeof window.onload?window.onload=func:window.onload=function(){oldonload(),func()}},exports.ancestor=function ancestor(target,tagName){var level;for(level=target;level;level=level.parentNode)try{if(level.tagName===tagName)return level}catch(e){return}return},exports.beep=function beep(){if(!audioContext)return;var ctx=new audioContext;return function(duration,frequency,type,finishedCallback){duration=+(duration||.3),type=type||"sine","function"!=typeof finishedCallback&&(finishedCallback=function finishedCallback(){});var osc=ctx.createOscillator();osc.type=type,osc.frequency.value=frequency||256,osc.connect(ctx.destination),osc.start(0),osc.stop(duration)}},exports.clearVariableNames=function clearVariableNames(){nextVariable=0},exports.emptyNode=function emptyNode(node){for(var nodes=node.childNodes,i=nodes.length-1;i>=0;i--)node.removeChild(nodes[i]);return node},exports.escapeForXML=escapeForXML,exports.findPos=findPos,exports.genUuid=function genUuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}))},exports.getAbout=getAbout,exports.getEyeFocus=function getEyeFocus(element,instantly,isBottom,myWindow){myWindow||(myWindow=window);var elementPosY=findPos(element)[1],appContext=window.SolidAppContext||{},scrollDiff=appContext&&appContext.scroll||52,totalScroll=elementPosY-scrollDiff-myWindow.scrollY;if(instantly)return isBottom?void myWindow.scrollBy(0,elementPosY+element.clientHeight-(myWindow.scrollY+myWindow.innerHeight)):void myWindow.scrollBy(0,totalScroll);var id=myWindow.setInterval((function scrollAmount(){myWindow.scrollBy(0,totalScroll/10),10===++times&&myWindow.clearInterval(id)}),50),times=0},exports.getTarget=function getTarget(e){var target;(e=e||window.event).target?target=e.target:e.srcElement&&(target=e.srcElement);3===target.nodeType&&(target=target.parentNode);return target},exports.getTerm=function getTerm(target){var statementTr=target.parentNode,st=statementTr?statementTr.AJAR_statement:void 0;switch(st?target.className:""){case"pred":case"pred selected":return st.predicate;case"obj":case"obj selected":return statementTr.AJAR_inverse?st.subject:st.object;case"":case"selected":return getAbout(_solidLogic.store,target);case"undetermined selected":return target.nextSibling?st.predicate:statementTr.AJAR_inverse?st.subject:st.object}},exports.hashColor=function hashColor(who){return"#"+(16777215&function hash(x){return x.split("").reduce((function(a,b){return(a=(a<<5)-a+b.charCodeAt(0))&a}),0)}(who=who.uri||who)|12632256).toString(16)},exports.include=function include(document,linkstr){var lnk=document.createElement("script");return lnk.setAttribute("type","text/javascript"),lnk.setAttribute("src",linkstr),lnk},Object.defineProperty(exports,"label",{enumerable:!0,get:function get(){return _label.label}}),exports.labelForXML=function labelForXML(x){return escapeForXML((0,_label.label)(x))},exports.labelWithOntology=function labelWithOntology(x,initialCap){var t=_solidLogic.store.findTypeURIs(x);if(t[UI.ns.rdf("Predicate").uri]||t[UI.ns.rdfs("Class").uri])return(0,_label.label)(x,initialCap)+" ("+ontologyLabel(x)+")";return(0,_label.label)(x,initialCap)},exports.newVariableName=function newVariableName(){return"v"+nextVariable++},exports.ontologyLabel=ontologyLabel,exports.predParentOf=function predParentOf(node){var n=node;for(;;){if(n.getAttribute("predTR"))return n;if(!n.previousSibling||"TR"!==n.previousSibling.nodeName)return UI.log.error("Could not find predParent"),node;n=n.previousSibling}},exports.predicateLabel=predicateLabel,exports.predicateLabelForXML=function predicateLabelForXML(p,inverse){return escapeForXML(predicateLabel(p,inverse))},exports.shortName=function shortName(uri){var p=uri;"#/".indexOf(p[p.length-1])>=0&&(p=p.slice(0,-1));var pok,namespaces=[];for(var _ns in this.prefixes)namespaces[this.prefixes[_ns]]=_ns;var i,canUse=function canUse(pp){return"ns"!==pp&&(pok=pp,!0)},hash=p.lastIndexOf("#");hash>=0&&(p=p.slice(hash-1));for(;;){var slash=p.lastIndexOf("/");for(slash>=0&&(p=p.slice(slash+1)),i=0;i<p.length&&this.prefixchars.indexOf(p[i]);)i++;if((p=p.slice(0,i)).length<6&&canUse(p))return pok;if(canUse(p.slice(0,3)))return pok;if(canUse(p.slice(0,2)))return pok;if(canUse(p.slice(0,4)))return pok;if(canUse(p.slice(0,1)))return pok;if(canUse(p.slice(0,5)))return pok;for(i=0;;i++)if(canUse(p.slice(0,3)+i))return pok}},exports.stackString=function stackString(e){var i,str=e+"\n";if(!e.stack)return str+"No stack available.\n";var lines=e.stack.toString().split("\n"),toPrint=[];for(i=0;i<lines.length;i++){var line=lines[i];if(line.indexOf("ecmaunit.js")>-1)break;"("===line.charAt(0)&&(line="function"+line);var chunks=line.split("@");toPrint.push(chunks)}for(i=0;i<toPrint.length;i++)str+="  "+toPrint[i][1]+"\n    "+toPrint[i][0];return str},exports.syncTableToArray=function syncTableToArray(table,things,createNewRow){var foundOne,row,i;for(i=0;i<table.children.length;i++)(row=table.children[i]).trashMe=!0;for(var g=0;g<things.length;g++){var thing=things[g];for(foundOne=!1,i=0;i<table.children.length;i++)if((row=table.children[i]).subject&&row.subject.sameTerm(thing)){row.trashMe=!1,foundOne=!0;break}if(!foundOne){var newRow=createNewRow(thing);if(g>=table.children.length)table.appendChild(newRow);else{var ele=table.children[g];table.insertBefore(newRow,ele)}newRow.subject=thing}}for(i=0;i<table.children.length;i++)(row=table.children[i]).trashMe&&table.removeChild(row)},exports.syncTableToArrayReOrdered=function syncTableToArrayReOrdered(table,things,createNewRow){for(var elementMap={},i=0;i<table.children.length;i++){var row=table.children[i];elementMap[row.subject.toNT()]=row}for(var g=0;g<things.length;g++){var thing=things[g];if(g>=table.children.length){var newRow=createNewRow(thing);newRow.subject=thing,table.appendChild(newRow)}else{var _row=table.children[g];if(_row.subject.sameTerm(thing));else{var existingRow=elementMap[thing.toNT()];if(existingRow)table.removeChild(existingRow),table.insertBefore(existingRow,_row);else{var _newRow=createNewRow(thing);_row.before(_newRow),_newRow.subject=thing}}}}for(;table.children.length>things.length;)table.removeChild(table.children[table.children.length-1])};var log=_interopRequireWildcard(__webpack_require__("./lib/log.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js")),_label=__webpack_require__("./lib/utils/label.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var audioContext,UI={log,ns,rdf},nextVariable=0;function getAbout(kb,target){var level,aa;for(level=target;level&&1===level.nodeType;level=level.parentNode)if(aa=level.getAttribute("about"))return kb.fromNT(aa);UI.log.debug("getAbout: No about found")}function findPos(obj){var DocBox=obj.ownerDocument.documentElement.getBoundingClientRect(),box=obj.getBoundingClientRect();return[box.left-DocBox.left,box.top-DocBox.top]}function ontologyLabel(term){if(void 0===term.uri)return"??";var part,s=term.uri,namespaces=[],i=s.lastIndexOf("#");if(i>=0)s=s.slice(0,i+1);else{if(!((i=s.lastIndexOf("/"))>=0))return term.uri+"?!";s=s.slice(0,i+1)}for(var _ns2 in UI.ns)namespaces[UI.ns[_ns2]]=_ns2;try{return namespaces[s]}catch(e){}for(s=s.slice(0,-1);s;){if(!((i=s.lastIndexOf("/"))>=0))return term.uri+"!?";if(part=s.slice(i+1),s=s.slice(0,i),"ns"!==part&&"0123456789".indexOf(part[0])<0)return part}}function escapeForXML(str){return str.replace(/&/g,"&amp;").replace(/</g,"&lt;")}function predicateLabel(p,inverse){var lab=(0,_label.label)(p);if(inverse){var ip=_solidLogic.store.any(p,UI.ns.owl("inverseOf"))||_solidLogic.store.any(void 0,UI.ns.owl("inverseOf"),p);return ip?(0,_label.label)(ip):"type"===lab?"...":"is "+lab+" of"}return lab}"undefined"!=typeof AudioContext?audioContext=AudioContext:"undefined"!=typeof window&&(audioContext=window.AudioContext||window.webkitAudioContext)},"./lib/utils/label.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.last-index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.string.link.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.label=function label(thing){var initialCap=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function doCap(label){return initialCap?label.slice(0,1).toUpperCase()+label.slice(1):label}function cleanUp(label){var result="";"/"===label.slice(-1)&&(label=label.slice(0,-1));for(var i=0;i<label.length;i++)"_"!==label[i]&&"-"!==label[i]?(result+=label[i],i+1<label.length&&label[i].toUpperCase()!==label[i]&&label[i+1].toLowerCase()!==label[i+1]&&(result+=" ")):result+=" ";return"has "===result.slice(0,4)&&(result=result.slice(4)),doCap(result)}var label=getWellKnownLabel(thing);if(label)return doCap(label.value);if("BlankNode"===thing.termType)return"...";if("Collection"===thing.termType)return"("+thing.elements.length+")";var s=thing.uri;if(void 0===s)return thing.toString();try{s=s.split("/").map(decodeURIComponent).join("/")}catch(e){for(var i=s.length-3;i>0;i--)for(var hex="0123456789abcefABCDEF";"%"===s[i]&&hex.indexOf(s[i+1])>=0&&hex.indexOf(s[i+2])>=0;)s=s.slice(0,i)+String.fromCharCode(parseInt(s.slice(i+1,i+3),16))+s.slice(i+3)}s=slice(s,"/profile/card#me"),s=slice(s,"#this");var hash=(s=slice(s,"#me")).indexOf("#");if(hash>=0)return cleanUp(s.slice(hash+1));var slash=s.lastIndexOf("/",s.length-2);return slash>=0&&slash<thing.uri.length?cleanUp(s.slice(slash+1)):doCap(decodeURIComponent(thing.uri))};var log=_interopRequireWildcard(__webpack_require__("./lib/log.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var UI={log,ns:_interopRequireWildcard(__webpack_require__("./lib/ns.js")),rdf:_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js"))};function slice(s,suffix){var length=-1*suffix.length;return s.slice(length)===suffix?s.slice(0,length):s}function getWellKnownLabel(thing){return _solidLogic.store.any(thing,UI.ns.ui("label"))||_solidLogic.store.any(thing,UI.ns.link("message"))||_solidLogic.store.any(thing,UI.ns.vcard("fn"))||_solidLogic.store.any(thing,UI.ns.foaf("name"))||_solidLogic.store.any(thing,UI.ns.dct("title"))||_solidLogic.store.any(thing,UI.ns.dc("title"))||_solidLogic.store.any(thing,UI.ns.rss("title"))||_solidLogic.store.any(thing,UI.ns.contact("fullName"))||_solidLogic.store.any(thing,_solidLogic.store.sym("http://www.w3.org/2001/04/roadmap/org#name"))||_solidLogic.store.any(thing,UI.ns.cal("summary"))||_solidLogic.store.any(thing,UI.ns.foaf("nick"))||_solidLogic.store.any(thing,UI.ns.as("name"))||_solidLogic.store.any(thing,UI.ns.schema("name"))||_solidLogic.store.any(thing,UI.ns.rdfs("label"))}},"./lib/versionInfo.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.versionInfo=void 0;exports.versionInfo={buildTime:"2022-03-31T14:26:03Z",commit:"8af353df5e826d7795123d61f2adc8ab29238fbb",npmInfo:{"solid-ui":"2.4.20",npm:"6.14.16",ares:"1.18.1",brotli:"1.0.9",cldr:"40.0",icu:"70.1",llhttp:"2.1.4",modules:"83",napi:"8",nghttp2:"1.42.0",node:"14.19.0",openssl:"1.1.1m",tz:"2021a3",unicode:"14.0",uv:"1.42.0",v8:"8.4.371.23-node.85",zlib:"1.2.11"}}},"./lib/widgets/buttons.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-iso-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/core-js/modules/es.string.link.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.last-index-of.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.addStyleSheet=function addStyleSheet(dom,href){for(var links=dom.querySelectorAll("link"),i=0;i<links.length;i++)if("stylesheet"===(links[i].getAttribute("rel")||"")&&(links[i].getAttribute("href")||"")===href)return;var link=dom.createElement("link");link.setAttribute("rel","stylesheet"),link.setAttribute("type","text/css"),link.setAttribute("href",href),dom.getElementsByTagName("head")[0].appendChild(link)},exports.allClassURIs=function allClassURIs(){var set={};return _solidLogic.store.statementsMatching(void 0,ns.rdf("type"),void 0).forEach((function(st){st.object.value&&(set[st.object.value]=!0)})),_solidLogic.store.statementsMatching(void 0,ns.rdfs("subClassOf"),void 0).forEach((function(st){st.object.value&&(set[st.object.value]=!0),st.subject.value&&(set[st.subject.value]=!0)})),_solidLogic.store.each(void 0,ns.rdf("type"),ns.rdfs("Class")).forEach((function(c){c.value&&(set[c.value]=!0)})),set},exports.askName=function askName(dom,kb,container,predicate,theClass,noun){return new Promise((function(resolve,_reject){var form=dom.createElement("div");predicate=predicate||ns.foaf("name");var prompt=(noun=noun||(theClass?utils.label(theClass):"  "))+" "+utils.label(predicate)+": ";form.appendChild(dom.createElement("p")).textContent=prompt;var namefield=dom.createElement("input");function gotName(){form.parentNode.removeChild(form),resolve(namefield.value.trim())}namefield.setAttribute("type","text"),namefield.setAttribute("size","100"),namefield.setAttribute("maxLength","2048"),namefield.setAttribute("style",style.textInputStyle),namefield.select(),form.appendChild(namefield),container.appendChild(form),namefield.addEventListener("keyup",(function(e){13===e.keyCode&&gotName()}),!1),form.appendChild(dom.createElement("br")),form.appendChild(cancelButton(dom,(function(_event){form.parentNode.removeChild(form),resolve(null)}))),form.appendChild(continueButton(dom,(function(_event){gotName()}))),namefield.focus()}))},exports.attachmentList=function attachmentList(dom,subject,div){var options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},deleteAttachment=function deleteAttachment(target){if(!kb.updater)throw new Error("kb has no updater");kb.updater.update((0,_rdflib.st)(subject,predicate,target,doc),[],(function(uri,ok,errorBody,_xhr){ok?refresh():complain(void 0,"Error deleting one: "+errorBody)}))};function createNewRow(target){var theTarget=target,opt={noun};return modify&&(opt.deleteFunction=function(){deleteAttachment(theTarget)}),personTR(dom,predicate,target,opt)}var refresh=function refresh(){var things=kb.each(subject,predicate);things.sort(),utils.syncTableToArray(attachmentTable,things,createNewRow)};function droppedURIHandler(uris){var ins=[];if(uris.forEach((function(u){var target=(0,_rdflib.sym)(u);debug.log("Dropped on attachemnt "+u),ins.push((0,_rdflib.st)(subject,predicate,target,doc))})),!kb.updater)throw new Error("kb has no updater");kb.updater.update([],ins,(function(uri,ok,errorBody,_xhr){ok?refresh():complain(void 0,"Error adding one: "+errorBody)}))}function droppedFileHandler(files){var _options$uploadFolder,_options$uploadFolder2;(0,_dragAndDrop.uploadFiles)(kb.fetcher,files,null===(_options$uploadFolder=options.uploadFolder)||void 0===_options$uploadFolder?void 0:_options$uploadFolder.uri,null===(_options$uploadFolder2=options.uploadFolder)||void 0===_options$uploadFolder2?void 0:_options$uploadFolder2.uri,(function(theFile,destURI){var ins=[(0,_rdflib.st)(subject,predicate,kb.sym(destURI),doc)];if(!kb.updater)throw new Error("kb has no updater");kb.updater.update([],ins,(function(uri,ok,errorBody,_xhr){ok?refresh():complain(void 0,"Error adding link to uploaded file: "+errorBody)}))}))}var doc=options.doc||subject.doc();void 0===options.modify&&(options.modify=!0);var modify=options.modify,promptIcon=options.promptIcon||iconBase+"noun_748003.svg",predicate=options.predicate||ns.wf("attachment"),noun=options.noun||"attachment",kb=_solidLogic.store,attachmentOuter=div.appendChild(dom.createElement("table"));attachmentOuter.setAttribute("style","margin-top: 1em; margin-bottom: 1em;");var attachmentOne=attachmentOuter.appendChild(dom.createElement("tr")),attachmentLeft=attachmentOne.appendChild(dom.createElement("td")),attachmentRight=attachmentOne.appendChild(dom.createElement("td")),attachmentTable=attachmentRight.appendChild(dom.createElement("table"));if(attachmentTable.appendChild(dom.createElement("tr")),attachmentOuter.refresh=refresh,refresh(),modify){var paperclip=button(dom,promptIcon,"Drop attachments here");attachmentLeft.appendChild(paperclip);var fhandler=options.uploadFolder?droppedFileHandler:null;if((0,_dragAndDrop.makeDropTarget)(paperclip,droppedURIHandler,fhandler),(0,_dragAndDrop.makeDropTarget)(attachmentLeft,droppedURIHandler,fhandler),options.uploadFolder){var buttonDiv=fileUploadButtonDiv(dom,droppedFileHandler);attachmentLeft.appendChild(buttonDiv)}}return attachmentOuter},exports.button=button,exports.cancelButton=cancelButton,exports.clearElement=function clearElement(ele){for(;ele.firstChild;)ele.removeChild(ele.firstChild);return ele},exports.complain=complain,exports.continueButton=continueButton,exports.createLinkDiv=createLinkDiv,exports.createNameDiv=createNameDiv,exports.defaultAnnotationStore=function defaultAnnotationStore(subject){if(void 0===subject.uri)return;var s=subject.uri;if("http://"!==s.slice(0,7))return;var hash=(s=s.slice(7)).indexOf("#");if(hash>=0)s=s.slice(0,hash);else{var slash=s.lastIndexOf("/");if(slash<0)return;s=s.slice(0,slash)}return _solidLogic.store.sym("http://tabulator.org/wiki/annnotation/"+s)},exports.deleteButtonWithCheck=deleteButtonWithCheck,exports.extractLogURI=function extractLogURI(fullURI){var logPos=fullURI.search(/logFile=/),rulPos=fullURI.search(/&rulesFile=/);return fullURI.substring(logPos+8,rulPos)},exports.faviconOrDefault=faviconOrDefault,exports.fileUploadButtonDiv=fileUploadButtonDiv,exports.findImage=findImage,exports.findImageFromURI=findImageFromURI,exports.formatDateTime=formatDateTime,exports.iconForClass=void 0,exports.imagesOf=function imagesOf(x,kb){return kb.each(x,ns.sioc("avatar")).concat(kb.each(x,ns.foaf("img"))).concat(kb.each(x,ns.vcard("logo"))).concat(kb.each(x,ns.vcard("hasPhoto"))).concat(kb.each(x,ns.vcard("photo"))).concat(kb.each(x,ns.foaf("depiction")))},exports.index=void 0,exports.isAudio=function isAudio(file){return isImage(file,"audio")},exports.isImage=isImage,exports.isVideo=function isVideo(file){return isImage(file,"video")},exports.linkButton=function linkButton(dom,object){var b=dom.createElement("button");return b.setAttribute("type","button"),b.textContent="Goto "+utils.label(object),b.addEventListener("click",(function(_event){dom.outlineManager.GotoSubject(object,!0,void 0,!0,void 0)}),!0),b},exports.openHrefInOutlineMode=function openHrefInOutlineMode(e){e.preventDefault(),e.stopPropagation();var uri=utils.getTarget(e).getAttribute("href");if(!uri)return debug.log("openHrefInOutlineMode: No href found!\n");var dom=window.document;dom.outlineManager?dom.outlineManager.GotoSubject(_solidLogic.store.sym(uri),!0,void 0,!0,void 0):window&&window.panes&&window.panes.getOutliner?window.panes.getOutliner().GotoSubject(_solidLogic.store.sym(uri),!0,void 0,!0,void 0):debug.log("ERROR: Can't access outline manager in this config")},exports.personTR=void 0,exports.propertyTriage=function propertyTriage(kb){var possibleProperties={},dp={},op={},no=0,nd=0,nu=0,pi=kb.predicateIndex;for(var p in pi){"Literal"===pi[p][0].object.termType?(dp[p]=!0,nd++):(op[p]=!0,no++)}for(var ps=kb.each(void 0,ns.rdf("type"),ns.rdf("Property")),i=0;i<ps.length;i++){var _p=ps[i].toNT();op[_p]||dp[_p]||(dp[_p]=!0,op[_p]=!0,nu++)}return possibleProperties.op=op,possibleProperties.dp=dp,(0,_log.info)("propertyTriage: ".concat(no," non-lit, ").concat(nd," literal. ").concat(nu," unknown.")),possibleProperties},exports.refreshTree=function refreshTree(root){if(root.refresh)return void root.refresh();for(var i=0;i<root.children.length;i++)refreshTree(root.children[i])},exports.removeButton=function removeButton(dom,element){var b=dom.createElement("button");return b.setAttribute("type","button"),b.textContent="",b.addEventListener("click",(function(_event){element.parentNode.removeChild(element)}),!0),b},exports.renderAsDiv=function renderAsDiv(dom,obj,options){var div=dom.createElement("div");div.setAttribute("style",style.renderAsDivStyle);var image=(options=options||{}).image||faviconOrDefault(dom,obj);(0,_widgetHelpers.createImageDiv)(dom,div,image),createNameDiv(dom,div,options.title,obj),createLinkDiv(dom,div,obj,options),options.clickable&&options.onClickFunction&&(0,_widgetHelpers.addClickListenerToElement)(div,options.onClickFunction);if(options.wrapInATR){return(0,_widgetHelpers.wrapDivInATR)(dom,div,obj)}return div},exports.renderAsRow=renderAsRow,exports.selectorPanel=function selectorPanel(dom,kb,type,predicate,inverse,possible,options,callbackFunction,linkCallback){return selectorPanelRefresh(dom.createElement("div"),dom,kb,type,predicate,inverse,possible,options,callbackFunction,linkCallback)},exports.selectorPanelRefresh=selectorPanelRefresh,exports.setImage=setImage,exports.setName=setName,exports.shortDate=function shortDate(str,noTime){if(!str)return"???";try{var nowZ=(new Date).toISOString();return str.slice(0,10)!==nowZ.slice(0,10)||noTime?str.slice(0,4)===nowZ.slice(0,4)?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(str.slice(5,7),10)-1]+" "+parseInt(str.slice(8,10),10):str.slice(0,10):str.slice(11,16)}catch(e){return"shortdate:"+e}},exports.shortTime=function shortTime(){return formatDateTime(new Date,"{Hours}:{Minutes}:{Seconds}.{Milliseconds}")},exports.timestamp=function timestamp(){return formatDateTime(new Date,"{FullYear}-{Month}-{Date}T{Hours}:{Minutes}:{Seconds}.{Milliseconds}")};var _rdflib=__webpack_require__("./node_modules/rdflib/esm/index.js"),_iconBase=__webpack_require__("./lib/iconBase.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),style=_interopRequireWildcard(__webpack_require__("./lib/style.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_log=__webpack_require__("./lib/log.js"),_jss=__webpack_require__("./lib/jss/index.js"),_dragAndDrop=__webpack_require__("./lib/widgets/dragAndDrop.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),_error=__webpack_require__("./lib/widgets/error.js"),_widgetHelpers=__webpack_require__("./lib/widgets/widgetHelpers.js"),_iconLinks=__webpack_require__("./lib/widgets/buttons/iconLinks.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var iconBase=_iconBase.icons.iconBase,cancelIconURI=iconBase+"noun_1180156.svg",checkIconURI=iconBase+"noun_1180158.svg";function complain(context,err){if(err){var ele=function getStatusArea(context){var box=context&&context.statusArea||context&&context.div||null;if(box)return box;var dom=context&&context.dom;if(dom||"undefined"==typeof document||(dom=document),dom){var body=dom.getElementsByTagName("body")[0];return box=dom.createElement("div"),body.insertBefore(box,body.firstElementChild),context&&(context.statusArea=box),box}return null}(context);debug.log("Complaint: "+err),ele?ele.appendChild((0,_error.errorMessageBlock)(context&&context.dom||document,err)):alert(err)}}function formatDateTime(date,format){return format.split("{").map((function(s){var k=s.split("}")[0];return s?("000"+(date["get"+k]()+({Month:1}[k]||0))).slice(-({Milliseconds:3,FullYear:4}[k]||2))+s.split("}")[1]:""})).join("")}function setName(element,x){var kb=_solidLogic.store,findName=function findName(x){var name=kb.any(x,ns.vcard("fn"))||kb.any(x,ns.foaf("name"))||kb.any(x,ns.vcard("organization-name"));return name?name.value:null},name=x.sameTerm(ns.foaf("Agent"))?"Everyone":findName(x);if(element.textContent=name||utils.label(x),!name&&x.uri){if(!kb.fetcher)throw new Error("kb has no fetcher");kb.fetcher.nowOrWhenFetched(x.doc(),void 0,(function(_ok){element.textContent=findName(x)||utils.label(x)}))}}var iconForClass={"solid:AppProviderClass":"noun_144.svg","solid:AppProvider":"noun_15177.svg","solid:Pod":"noun_Cabinet_1434380.svg","vcard:Group":"noun_339237.svg","vcard:Organization":"noun_143899.svg","vcard:Individual":"noun_15059.svg","schema:Person":"noun_15059.svg","foaf:Person":"noun_15059.svg","foaf:Agent":"noun_98053.svg","acl:AuthenticatedAgent":"noun_99101.svg","prov:SoftwareAgent":"noun_Robot_849764.svg","vcard:AddressBook":"noun_15695.svg","trip:Trip":"noun_581629.svg","meeting:LongChat":"noun_1689339.svg","meeting:Meeting":"noun_66617.svg","meeting:Project":"noun_1036577.svg","ui:Form":"noun_122196.svg","rdfs:Class":"class-rectangle.svg","rdf:Property":"property-diamond.svg","owl:Ontology":"noun_classification_1479198.svg","wf:Tracker":"noun_122196.svg","wf:Task":"noun_17020_gray-tick.svg","wf:Open":"noun_17020_sans-tick.svg","wf:Closed":"noun_17020.svg"};function tempSite(x){var str=x.uri.split("#")[0],p=str.indexOf("//");if(p<0)throw new Error("This URI does not have a web site part (origin)");var q=str.indexOf("/",p+2);return q<0?str.slice(0)+"/":str.slice(0,q+1)}function findImageFromURI(x){var iconDir=iconBase;return"string"!=typeof x&&x.uri?4!==x.uri.split("/").length||x.uri.split("/")[1]||x.uri.split("/")[3]?x.uri.startsWith("message:")||x.uri.startsWith("mid:")?iconDir+"noun_480183.svg":x.uri.startsWith("mailto:")?iconDir+"noun_567486.svg":x.uri.startsWith("https:")&&x.uri.indexOf("#")<0?tempSite(x)+"favicon.ico":null:iconDir+"noun_15177.svg":iconDir+"noun_10636_grey.svg"}function findImage(thing){var kb=_solidLogic.store,iconDir=iconBase;if(thing.sameTerm(ns.foaf("Agent"))||thing.sameTerm(ns.rdf("Resource")))return iconDir+"noun_98053.svg";var image=kb.any(thing,ns.sioc("avatar"))||kb.any(thing,ns.foaf("img"))||kb.any(thing,ns.vcard("logo"))||kb.any(thing,ns.vcard("hasPhoto"))||kb.any(thing,ns.vcard("photo"))||kb.any(thing,ns.foaf("depiction"));return image?image.uri:null}function trySetImage(element,thing,iconForClassMap){var kb=_solidLogic.store,explitImage=findImage(thing);if(explitImage)return element.setAttribute("src",explitImage),!0;var typeIcon=iconForClassMap[thing.uri];if(typeIcon)return element.setAttribute("src",typeIcon),element.style=style.classIconStyle,!0;var schemeIcon=findImageFromURI(thing);if(schemeIcon)return element.setAttribute("src",schemeIcon),!0;var types=kb.findTypeURIs(thing);for(var typeURI in types)if(iconForClassMap[typeURI])return element.setAttribute("src",iconForClassMap[typeURI]),!1;return element.setAttribute("src",iconBase+"noun_10636_grey.svg"),!1}function setImage(element,thing){var kb=_solidLogic.store,iconForClassMap={};for(var k in iconForClass){var pref=k.split(":")[0],id=k.split(":")[1],theClass=ns[pref](id);iconForClassMap[theClass.uri]=_rdflib.uri.join(iconForClass[k],iconBase)}if(!trySetImage(element,thing,iconForClassMap)&&thing.uri){if(!kb.fetcher)throw new Error("kb has no fetcher");kb.fetcher.nowOrWhenFetched(thing.doc(),void 0,(function(ok){ok&&trySetImage(element,thing,iconForClassMap)}))}}function faviconOrDefault(dom,x){var image=dom.createElement("img");image.style=style.iconStyle;if(image.setAttribute("src",iconBase+(function isOrigin(x){if(!x.uri)return!1;var parts=x.uri.split("/");return 3===parts.length||4===parts.length&&""===parts[3]}(x)?"noun_15177.svg":"noun_681601.svg")),x.uri&&x.uri.startsWith("https:")&&x.uri.indexOf("#")<0){var res=dom.createElement("object");return res.setAttribute("data",tempSite(x)+"favicon.ico"),res.setAttribute("type","image/x-icon"),res.appendChild(image),res}return setImage(image,x),image}function deleteButtonWithCheck(dom,container,noun,deleteFunction){var minusIconURI=iconBase+"noun_2188_red.svg",deleteButton=dom.createElement("img");deleteButton.setAttribute("src",minusIconURI),deleteButton.setAttribute("style",style.smallButtonStyle),deleteButton.style.float="right";var prompt="Remove this "+noun;return deleteButton.title=prompt,deleteButton.classList.add("hoverControlHide"),deleteButton.addEventListener("click",(function createPopup(){var refererenceElement=dom.createElement("div");container.insertBefore(refererenceElement,deleteButton),refererenceElement.style.position="relative",refererenceElement.appendChild(function renderDeleteConfirmPopup(dom,refererenceElement,prompt,deleteFunction){function removePopup(){refererenceElement.parentElement.removeChild(refererenceElement)}function removePopupAndDoDeletion(){removePopup(),deleteFunction()}var popup=dom.createElement("div");popup.style=style.confirmPopupStyle,popup.style.position="absolute",popup.style.top="-1em",popup.style.display="grid",popup.style.gridTemplateColumns="auto auto";var affirm=dom.createElement("div");affirm.style.gridColumn="1/2",affirm.style.gridRow="1";var cancel=dom.createElement("div");cancel.style.gridColumn="1/2",cancel.style.gridRow="2";var xButton=cancelButton(dom,removePopup);popup.appendChild(xButton),xButton.style.gridColumn="1",xButton.style.gridRow="2";var cancelPrompt=popup.appendChild(dom.createElement("button"));cancelPrompt.style=style.buttonStyle,cancelPrompt.style.gridRow="2",cancelPrompt.style.gridColumn="2",cancelPrompt.textContent="Cancel";var affirmIcon=button(dom,_iconBase.icons.iconBase+"noun_925021.svg","Delete it");popup.appendChild(affirmIcon),affirmIcon.style.gridRow="1",affirmIcon.style.gridColumn="1";var sureButtonElt=popup.appendChild(dom.createElement("button"));return sureButtonElt.style=style.buttonStyle,sureButtonElt.style.gridRow="1",sureButtonElt.style.gridColumn="2",sureButtonElt.textContent=prompt,popup.appendChild(sureButtonElt),affirmIcon.addEventListener("click",removePopupAndDoDeletion),sureButtonElt.addEventListener("click",removePopupAndDoDeletion),cancelPrompt.addEventListener("click",removePopup),popup}(dom,refererenceElement,prompt,deleteFunction))})),container.classList.add("hoverControl"),container.appendChild(deleteButton),deleteButton.setAttribute("data-testid","deleteButtonWithCheck"),deleteButton}function getButtonStyle(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},color="Secondary"===options.buttonColor?"#01c9ea":"#7c4dff",backgroundColor=color,fontColor="#ffffff",borderColor=color,hoverBackgroundColor="Secondary"===options.buttonColor?"#37cde6":"#9f7dff",hoverFontColor=fontColor;return options.needsBorder&&(fontColor=color,borderColor=color,hoverBackgroundColor=color,hoverFontColor=backgroundColor="#ffffff"),{"background-color":"".concat(backgroundColor),color:"".concat(fontColor),"font-family":"Raleway, Roboto, sans-serif","border-radius":"0.25em","border-color":"".concat(borderColor),border:"1px solid",cursor:"pointer","font-size":".8em","text-decoration":"none",padding:"0.5em 4em",transition:"0.25s all ease-in-out",outline:"none","&:hover":{"background-color":"".concat(hoverBackgroundColor),color:"".concat(hoverFontColor),transition:"0.25s all ease-in-out"}}}function button(dom,iconURI,text,handler){var options=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{buttonColor:"Primary",needsBorder:!1},button=dom.createElement("button");if(button.setAttribute("type","button"),iconURI){var img=button.appendChild(dom.createElement("img"));img.setAttribute("src",iconURI),img.setAttribute("style","width: 2em; height: 2em;"),img.title=text,button.setAttribute("style",style.buttonStyle)}else{button.textContent=text.toLocaleUpperCase();var _style=getButtonStyle(options),_getClasses=(0,_jss.getClasses)(dom.head,{textButton:_style}),classes=_getClasses.classes;button.classList.add(classes.textButton)}return handler&&button.addEventListener("click",handler,!1),button}function cancelButton(dom,handler){var b=button(dom,cancelIconURI,"Cancel",handler);return b.firstChild&&(b.firstChild.style.opacity="0.3"),b}function continueButton(dom,handler){return button(dom,checkIconURI,"Continue",handler)}exports.iconForClass=iconForClass;var personTR=renderAsRow;function renderAsRow(dom,pred,obj,options){var tr=dom.createElement("tr");options=options||{};var td1=tr.appendChild(dom.createElement("td")),td2=tr.appendChild(dom.createElement("td")),td3=tr.appendChild(dom.createElement("td")),image=options.image||faviconOrDefault(dom,obj);if(td1.setAttribute("style","vertical-align: middle; width:2.5em; padding:0.5em; height: 2.5em;"),td2.setAttribute("style","vertical-align: middle; text-align:left;"),td3.setAttribute("style","vertical-align: middle; width:2em; padding:0.5em; height: 4em;"),td1.appendChild(image),options.title?td2.textContent=options.title:setName(td2,obj),options.deleteFunction&&deleteButtonWithCheck(dom,td3,options.noun||"one",options.deleteFunction),obj.uri){if(!1!==options.link)td3.appendChild((0,_iconLinks.linkIcon)(dom,obj)).classList.add("HoverControlHide"),td3.appendChild(dom.createElement("br"));!1!==options.draggable&&(image.setAttribute("draggable","false"),(0,_dragAndDrop.makeDraggable)(tr,obj))}return tr.subject=obj,tr}function createNameDiv(dom,div,title,obj){var nameDiv=div.appendChild(dom.createElement("div"));title?nameDiv.textContent=title:setName(nameDiv,obj)}function createLinkDiv(dom,div,obj,options){var linkDiv=div.appendChild(dom.createElement("div"));linkDiv.setAttribute("style",style.linkDivStyle),options.deleteFunction&&deleteButtonWithCheck(dom,linkDiv,options.noun||"one",options.deleteFunction),obj.uri&&(!1!==options.link&&(0,_iconLinks.createLinkForURI)(dom,linkDiv,obj),(0,_dragAndDrop.makeDraggable)(div,obj))}function selectorPanelRefresh(list,dom,kb,type,predicate,inverse,possible,options,callbackFunction,linkCallback){var style0="border: 0.1em solid #ddd; border-bottom: none; width: 95%; height: 2em; padding: 0.5em;",selected=null;list.innerHTML="";for(var refreshItem=function refreshItem(box,x){var item,image,setStyle=function setStyle(){var already=inverse?kb.each(void 0,predicate,x):kb.each(x,predicate);iconDiv.setAttribute("class",0===already.length?"hideTillHover":""),image.setAttribute("src",options.connectIcon||iconBase+"noun_25830.svg"),image.setAttribute("title",already.length?already.length:"attach")},f=index.twoLine.widgetForClass(type);(item=f(dom,x)).setAttribute("style",style0);var nav=dom.createElement("div");nav.setAttribute("class","hideTillHover"),nav.setAttribute("style","float:right; width:10%");var a=dom.createElement("a");a.setAttribute("href",x.uri),a.setAttribute("style","float:right"),nav.appendChild(a).textContent=">",box.appendChild(nav);var iconDiv=dom.createElement("div");return iconDiv.setAttribute("style",(inverse?"float:left;":"float:right;")+" width:30px;"),image=dom.createElement("img"),setStyle(),iconDiv.appendChild(image),box.appendChild(iconDiv),item.addEventListener("click",(function(event){selected===item?(item.setAttribute("style",style0),selected=null):(selected&&selected.setAttribute("style",style0),item.setAttribute("style",style0+"background-color: #ccc; color:black;"),selected=item),callbackFunction(x,event,selected===item),setStyle()}),!1),image.addEventListener("click",(function(event){linkCallback(x,event,inverse,setStyle)}),!1),box.appendChild(item),box},i=0;i<possible.length;i++){var box=dom.createElement("div");list.appendChild(box),refreshItem(box,possible[i])}return list}exports.personTR=personTR;var index={};function isImage(file,kind){var what=kind||"image",typeURIs=_solidLogic.store.findTypeURIs(file),prefix=_rdflib.Util.mediaTypeClass(what+"/*").uri.split("*")[0];for(var t in typeURIs)if(t.startsWith(prefix))return!0;return{audio:"http://purl.org/dc/dcmitype/Sound",image:"http://purl.org/dc/dcmitype/Image",video:"http://purl.org/dc/dcmitype/MovingImage"}[what]in typeURIs}function fileUploadButtonDiv(dom,droppedFileHandler){var div=dom.createElement("div"),input=div.appendChild(dom.createElement("input"));input.setAttribute("type","file"),input.setAttribute("multiple","true"),input.addEventListener("change",(function(event){debug.log("File drop event: ",event),event.files?droppedFileHandler(event.files):event.target&&event.target.files?droppedFileHandler(event.target.files):alert("Sorry no files .. internal error?")}),!1),input.style="display:none";var buttonElt=div.appendChild(button(dom,iconBase+"noun_Upload_76574_000000.svg","Upload files",(function(_event){input.click()})));return(0,_dragAndDrop.makeDropTarget)(buttonElt,null,droppedFileHandler),div}exports.index=index,exports.index=index={line:{},twoLine:{"":function twoLineDefault(dom,x){var box=dom.createElement("div");return box.textContent=utils.label(x),box},"http://www.w3.org/2000/10/swap/pim/qif#Transaction":function twoLineTransaction(dom,x){var failed="",enc=function enc(p){var y=_solidLogic.store.any(x,ns.qu(p));return y||(failed+="@@ No value for "+p+"! "),y?utils.escapeForXML(y.value):"?"},box=dom.createElement("table");return box.innerHTML='\n      <tr>\n      <td colspan="2"> '.concat(enc("payee"),"</td>\n      < /tr>\n      < tr >\n      <td>").concat(enc("date").slice(0,10),'</td>\n      <td style = "text-align: right;">').concat(enc("amount"),"</td>\n      </tr>"),failed&&(box.innerHTML='\n      <tr>\n        <td><a href="'.concat(utils.escapeForXML(x.uri),'">').concat(utils.escapeForXML(failed),"</a></td>\n      </tr>")),box},"http://www.w3.org/ns/pim/trip#Trip":function twoLineTrip(dom,x){var enc=function enc(p){var y=_solidLogic.store.any(x,p);return y?utils.escapeForXML(y.value):"?"},box=dom.createElement("table");return box.innerHTML='\n    <tr>\n      <td colspan="2">'.concat(enc(ns.dc("title")),'</td>\n    </tr>\n    <tr style="color: #777">\n      <td>').concat(enc(ns.cal("dtstart")),"</td>\n      <td>").concat(enc(ns.cal("dtend")),"</td>\n    </tr>"),box},widgetForClass:function twoLineWidgetForClass(c){var widget=index.twoLine[c.uri],kb=_solidLogic.store;if(widget)return widget;var sup=kb.findSuperClassesNT(c);for(var cl in sup)if(widget=index.twoLine[kb.fromNT(cl).uri])return widget;return index.twoLine[""]}}}},"./lib/widgets/buttons/iconLinks.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLinkForURI=void 0,exports.linkIcon=linkIcon;var _iconBase=__webpack_require__("./lib/iconBase.js");function linkIcon(dom,subject,iconURI){var anchor=dom.createElement("a");anchor.setAttribute("href",subject.uri),subject.uri.startsWith("http")&&anchor.setAttribute("target","_blank");var img=anchor.appendChild(dom.createElement("img"));return img.setAttribute("src",iconURI||_iconBase.originalIconBase+"go-to-this.png"),img.setAttribute("style","margin: 0.3em;"),anchor}exports.createLinkForURI=function createLinkForURI(dom,linkDiv,obj){var iconLink=linkIcon(dom,obj);linkDiv.appendChild(iconLink).classList.add("HoverControlHide"),linkDiv.appendChild(dom.createElement("br"))}},"./lib/widgets/dragAndDrop.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.string.ends-with.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeDraggable=function makeDraggable(tr,obj){tr.setAttribute("draggable","true"),tr.addEventListener("dragstart",(function(e){tr.style.fontWeight="bold",e.dataTransfer.setData("text/uri-list",obj.uri),e.dataTransfer.setData("text/plain",obj.uri),e.dataTransfer.setData("text/html",tr.outerHTML),debug.log("Dragstart: "+tr+" -> "+obj+"de: "+e.dataTransfer.dropEffect)}),!1),tr.addEventListener("drag",(function(e){e.preventDefault(),e.stopPropagation()}),!1),tr.addEventListener("dragend",(function(e){tr.style.fontWeight="normal",debug.log("Dragend dropeffect: "+e.dataTransfer.dropEffect),debug.log("Dragend: "+tr+" -> "+obj)}),!1)},exports.makeDropTarget=function makeDropTarget(ele,droppedURIHandler,droppedFileHandler){var dragoverListener=function dragoverListener(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},dragenterListener=function dragenterListener(e){debug.log("dragenter event dropEffect: "+e.dataTransfer.dropEffect),this.style&&(this.savedStyle||(this.savedStyle={},this.savedStyle.border=this.style.border,this.savedStyle.backgroundColor=this.style.backgroundColor,this.savedStyle.borderRadius=this.style.borderRadius),this.style.backgroundColor="#ccc",this.style.border="0.25em dashed black",this.style.borderRadius="0.3em"),e.dataTransfer.dropEffect="link",debug.log("dragenter event dropEffect 2: "+e.dataTransfer.dropEffect)},dragleaveListener=function dragleaveListener(e){debug.log("dragleave event dropEffect: "+e.dataTransfer.dropEffect),this.savedStyle?(this.style.border=this.savedStyle.border,this.style.backgroundColor=this.savedStyle.backgroundColor,this.style.borderRadius=this.savedStyle.borderRadius):(this.style.backgroundColor="white",this.style.border="0em solid black")},dropListener=function dropListener(e){e.preventDefault&&e.preventDefault(),debug.log("Drop event. dropEffect: "+e.dataTransfer.dropEffect),debug.log("Drop event. types: "+(e.dataTransfer.types?e.dataTransfer.types.join(", "):"NOPE"));var text,uris=null;if(e.dataTransfer.types){for(var t=0;t<e.dataTransfer.types.length;t++){var type=e.dataTransfer.types[t];if("text/uri-list"===type)uris=e.dataTransfer.getData(type).split("\n"),debug.log("Dropped text/uri-list: "+uris);else if("text/plain"===type)text=e.dataTransfer.getData(type);else if("Files"===type&&droppedFileHandler){for(var files=e.dataTransfer.files,i=0;files[i];i++){var f=files[i];debug.log("Filename: "+f.name+", type: "+(f.type||"n/a")+" size: "+f.size+" bytes, last modified: "+(f.lastModifiedDate?f.lastModifiedDate.toLocaleDateString():"n/a"))}droppedFileHandler(files)}}null===uris&&text&&"http"===text.slice(0,4)&&(uris=text,debug.log("Waring: Poor man's drop: using text for URI"))}else uris=[e.dataTransfer.getData("Text")],debug.log("WARNING non-standard drop event: "+uris[0]);return debug.log("Dropped URI list (2): "+uris),uris&&droppedURIHandler(uris),this.style.backgroundColor="white",!1};!function addTargetListeners(ele){ele||debug.log("@@@ addTargetListeners: ele "+ele),ele.addEventListener("dragover",dragoverListener),ele.addEventListener("dragenter",dragenterListener),ele.addEventListener("dragleave",dragleaveListener),ele.addEventListener("drop",dropListener)}(ele)},exports.uploadFiles=function uploadFiles(fetcher,files,fileBase,imageBase,successHandler){for(var i=0;files[i];i++){var f=files[i];debug.log(" dropped: Filename: "+f.name+", type: "+(f.type||"n/a")+" size: "+f.size+" bytes, last modified: "+(f.lastModifiedDate?f.lastModifiedDate.toLocaleDateString():"n/a"));var reader=new FileReader;reader.onload=function(theFile){return function(e){var data=e.target.result,suffix="";debug.log(" File read byteLength : "+data.byteLength);var contentType=theFile.type;if(theFile.type&&""!==theFile.type){var extension=mime.extension(theFile.type);extension&&"false"!==extension&&!theFile.name.endsWith("."+extension)&&theFile.type!==mime.lookup(theFile.name)&&(suffix="_."+extension)}else if(!(contentType=mime.lookup(theFile.name))){var msg="Filename needs to have an extension which gives a type we know: "+theFile.name;throw debug.log(msg),alert(msg),new Error(msg)}var folderName=theFile.type.startsWith("image/")&&imageBase||fileBase,destURI=folderName+(folderName.endsWith("/")?"":"/")+encodeURIComponent(theFile.name)+suffix;fetcher.webOperation("PUT",destURI,{data,contentType}).then((function(_response){debug.log(" Upload: put OK: "+destURI),successHandler(theFile,destURI)}),(function(error){var msg=" Upload: FAIL "+destURI+", Error: "+error;throw debug.log(msg),alert(msg),new Error(msg)}))}}(f),reader.readAsArrayBuffer(f)}};var debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),mime=_interopRequireWildcard(__webpack_require__("./node_modules/mime-types/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}},"./lib/widgets/error.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.errorMessageBlock=function errorMessageBlock(dom,err,backgroundColor,err2){var div=dom.createElement("div"),errorObject=err2||err instanceof Error?err:null;errorObject?(console.error("errorMessageBlock: ".concat(errorObject," at: ").concat(errorObject.stack||"??"),errorObject),div.textContent=errorObject.message):div.textContent=err;return div.setAttribute("style","margin: 0.1em; padding: 0.5em; border: 0.05em solid gray; background-color: "+(backgroundColor||"#fee")+"; color:black;"),div}},"./lib/widgets/forms.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.appendForm=appendForm,Object.defineProperty(exports,"basicField",{enumerable:!0,get:function get(){return _basic.basicField}}),exports.buildCheckboxForm=buildCheckboxForm,exports.editFormButton=function editFormButton(dom,container,form,dataDoc,callbackFunction){var b=dom.createElement("button");return b.setAttribute("type","button"),b.innerHTML="Edit "+utils.label(ns.ui("Form")),b.addEventListener("click",(function(_e){appendForm(dom,container,{},form,ns.ui("FormForm"),dataDoc,callbackFunction).setAttribute("style",ns.ui("FormForm").sameTerm(form)?"background-color: #fee;":"background-color: #ffffe7;"),b.parentNode.removeChild(b)}),!0),b},Object.defineProperty(exports,"field",{enumerable:!0,get:function get(){return _fieldFunction.field}}),Object.defineProperty(exports,"fieldLabel",{enumerable:!0,get:function get(){return _basic.fieldLabel}}),Object.defineProperty(exports,"fieldParams",{enumerable:!0,get:function get(){return _fieldParams.fieldParams}}),Object.defineProperty(exports,"fieldStore",{enumerable:!0,get:function get(){return _basic.fieldStore}}),exports.findClosest=findClosest,exports.formsFor=function formsFor(subject){var kb=_solidLogic.store;log.debug("formsFor: subject="+subject);var t1,t=kb.findTypeURIs(subject);for(t1 in t)log.debug("   type: "+t1);var bottom=kb.bottomTypeURIs(t),candidates=[];for(var b in bottom)log.debug("candidatesFor: trying bottom type ="+b),candidates=(candidates=candidates.concat(findClosest(kb,b,ns.ui("creationForm")))).concat(findClosest(kb,b,ns.ui("annotationForm")));return candidates},exports.makeDescription=makeDescription,exports.makeSelectForCategory=makeSelectForCategory,exports.makeSelectForNestedCategory=makeSelectForNestedCategory,exports.makeSelectForOptions=makeSelectForOptions,exports.newButton=function newButton(dom,kb,subject,predicate,theClass,form,dataDoc,callbackFunction){var b=dom.createElement("button");return b.setAttribute("type","button"),b.innerHTML="New "+utils.label(theClass),b.addEventListener("click",(function(_e){b.parentNode.appendChild(promptForNew(dom,kb,subject,predicate,theClass,form,dataDoc,callbackFunction))}),!1),b},exports.newThing=newThing,exports.promptForNew=promptForNew,exports.propertiesForClass=function propertiesForClass(kb,c){var explicit=kb.each(void 0,ns.rdf("range"),c);[ns.rdfs("comment"),ns.dc("title"),ns.foaf("name"),ns.foaf("homepage")].forEach((function(x){explicit.push(x)}));var members=kb.each(void 0,ns.rdf("type"),c);members.length>60&&(members=members.slice(0,60));for(var used={},i=0;i<(members.length>60?60:members.length);i++)kb.statementsMatching(members[i],void 0,void 0).forEach((function(st){used[st.predicate.uri]=!0}));explicit.forEach((function(p){used[p.uri]=!0}));var result=[];for(var uri in used)result.push(kb.sym(uri));return result},Object.defineProperty(exports,"renderNameValuePair",{enumerable:!0,get:function get(){return _basic.renderNameValuePair}}),exports.sortByLabel=sortByLabel,exports.sortBySequence=sortBySequence;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),buttons=_interopRequireWildcard(__webpack_require__("./lib/widgets/buttons.js")),_fieldParams=__webpack_require__("./lib/widgets/forms/fieldParams.js"),_fieldFunction=__webpack_require__("./lib/widgets/forms/fieldFunction.js"),_formStyle=__webpack_require__("./lib/widgets/forms/formStyle.js"),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_error=__webpack_require__("./lib/widgets/error.js"),_basic=__webpack_require__("./lib/widgets/forms/basic.js"),_autocompleteField=__webpack_require__("./lib/widgets/forms/autocomplete/autocompleteField.js"),style=_interopRequireWildcard(__webpack_require__("./lib/style.js")),_iconBase=__webpack_require__("./lib/iconBase.js"),log=_interopRequireWildcard(__webpack_require__("./lib/log.js")),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),$rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var kb=_solidLogic.store;function refreshOpionsSubfieldinGroup(dom,already,subject,dataDoc,callbackFunction,groupDiv,subfields){for(var eles=groupDiv.children,j=0;j<subfields.length;j++){var _field=subfields[j];if((0,_fieldFunction.mostSpecificClassURI)(_field)===ns.ui("Options").uri){var newOne=(0,_fieldFunction.fieldFunction)(dom,_field)(dom,null,already,subject,_field,dataDoc,callbackFunction);debug.log("Refreshing Options field by replacing it."),groupDiv.insertBefore(newOne,eles[j]),groupDiv.removeChild(eles[j+1])}}}function booleanField(dom,container,already,subject,form,dataDoc,callbackFunction,tristate){var ui=ns.ui,kb=_solidLogic.store,property=kb.any(form,ui("property"));if(!property){var errorBlock=(0,_error.errorMessageBlock)(dom,"No property to boolean field: "+form);return container&&container.appendChild(errorBlock),errorBlock}var lab=kb.any(form,ui("label"));lab||(lab=utils.label(property,!0)),dataDoc=(0,_basic.fieldStore)(subject,property,dataDoc);var state=kb.any(subject,property);void 0===state&&(state=!1);var ins=$rdf.st(subject,property,!0,dataDoc),box=buildCheckboxForm(dom,kb,lab,$rdf.st(subject,property,!1,dataDoc),ins,form,dataDoc,tristate);return container&&container.appendChild(box),box}function appendForm(dom,container,already,subject,form,dataDoc,itemDone){return(0,_fieldFunction.fieldFunction)(dom,form)(dom,container,already,subject,form,dataDoc,itemDone)}function findClosest(kb,cla,prop){for(var agenda=[kb.sym(cla)];agenda.length>0;){var c=agenda.shift(),lists=kb.each(c,prop);if(log.debug("Lists for "+c+", "+prop+": "+lists.length),0!==lists.length)return lists;for(var supers=kb.each(c,ns.rdfs("subClassOf")),i=0;i<supers.length;i++)agenda.push(supers[i]),log.debug("findClosest: add super: "+supers[i])}return[]}function sortBySequence(list){var subfields=list.map((function(p){return[kb.any(p,ns.ui("sequence"))||9999,p]}));return subfields.sort((function(a,b){return a[0]-b[0]})),subfields.map((function(pair){return pair[1]}))}function sortByLabel(list){var subfields=list.map((function(p){return[utils.label(p).toLowerCase(),p]}));return subfields.sort(),subfields.map((function(pair){return pair[1]}))}function promptForNew(dom,kb,subject,predicate,theClass,form,dataDoc,callbackFunction){var box=dom.createElement("form");if(!form){var lists=findClosest(kb,theClass.uri,ns.ui("creationForm"));if(0===lists.length){box.appendChild(dom.createElement("p")).textContent="I am sorry, you need to provide information about a "+utils.label(theClass)+" but I don't know enough information about those to ask you.";var b=box.appendChild(dom.createElement("button"));return b.setAttribute("type","button"),b.setAttribute("style","float: right;"),b.innerHTML="Goto "+utils.label(theClass),b.addEventListener("click",(function(_e){dom.outlineManager.GotoSubject(theClass,!0,void 0,!0,void 0)}),!1),box}log.debug("lists[0] is "+lists[0]),form=lists[0]}log.debug("form is "+form),box.setAttribute("style","border: 0.05em solid ".concat(style.formBorderColor,"; color: ").concat(style.formBorderColor)),box.innerHTML="<h3>New "+utils.label(theClass)+"</h3>";var formFunction=(0,_fieldFunction.fieldFunction)(dom,form),object=newThing(dataDoc),gotButton=!1;function linkDone(uri,ok,body){return callbackFunction(ok,body)}log.info("paneUtils Object is "+object);var f=formFunction(dom,box,{},object,form,dataDoc,(function itemDone(ok,body){if(!ok)return callbackFunction(ok,body);var insertMe=[];subject&&!kb.holds(subject,predicate,object,dataDoc)&&insertMe.push($rdf.st(subject,predicate,object,dataDoc)),subject&&!kb.holds(object,ns.rdf("type"),theClass,dataDoc)&&insertMe.push($rdf.st(object,ns.rdf("type"),theClass,dataDoc)),insertMe.length?kb.updater.update([],insertMe,linkDone):callbackFunction(!0,body),gotButton||(gotButton=box.appendChild(buttons.linkButton(dom,object)))}));return buttons.removeButton(dom,f).setAttribute("style","float: right;"),box.AJAR_subject=object,box}function makeDescription(dom,kb,subject,predicate,dataDoc,callbackFunction){var submit,group=dom.createElement("div"),desc=kb.anyJS(subject,predicate,null,dataDoc)||"",field=dom.createElement("textarea");function saveChange(_e){submit.disabled=!0,submit.setAttribute("style","visibility: hidden; float: right;"),field.disabled=!0,field.style.color=style.textInputColorPending;var ds=kb.statementsMatching(subject,predicate,null,dataDoc),is=$rdf.st(subject,predicate,field.value,dataDoc);kb.updater.update(ds,is,(function(uri,ok,body){ok?(field.style.color=style.textInputColor,field.disabled=!1):group.appendChild((0,_error.errorMessageBlock)(dom,"Error (while saving change to "+dataDoc.uri+"): "+body)),callbackFunction&&callbackFunction(ok,body)}))}return group.appendChild(field),field.rows=desc?desc.split("\n").length+2:2,field.cols=80,field.setAttribute("style",style.multilineTextInputStyle),null!==desc?field.value=desc:field.select(),group.refresh=function(){var v=kb.any(subject,predicate,null,dataDoc);v&&v.value!==field.value&&(field.value=v.value)},kb.updater.editable(dataDoc.uri)?((submit=widgets.continueButton(dom,saveChange)).disabled=!0,submit.style.visibility="hidden",submit.style.float="right",group.appendChild(submit),field.addEventListener("keyup",(function(_e){field.style.color="green",submit&&(submit.disabled=!1,submit.style.visibility="")}),!0),field.addEventListener("change",saveChange,!0)):(field.disabled=!0,field.style.backgroundColor=style.textInputBackgroundColorUneditable),group}function makeSelectForOptions(dom,kb,subject,predicate,possible,options,dataDoc,callbackFunction){log.debug("Select list length now "+possible.length);for(var actual,n=0,uris={},editable=kb.updater.editable(dataDoc.uri),i=0;i<possible.length;i++){var sub=possible[i];sub.uri||debug.warn("makeSelectForOptions: option does not have an uri: ".concat(sub,", with predicate: ").concat(predicate)),sub.uri&&!(sub.uri in uris)&&(uris[sub.uri]=!0,n++)}if(0===n&&!options.mint)return(0,_error.errorMessageBlock)(dom,"Can't do selector with no options, subject= "+subject+" property = "+predicate+".");log.debug("makeSelectForOptions: dataDoc="+dataDoc);var getActual=function getActual(){return actual={},predicate.sameTerm(ns.rdf("type"))?actual=kb.findTypeURIs(subject):kb.each(subject,predicate,null,dataDoc).forEach((function(x){actual[x.uri]=!0})),actual};actual=getActual();var select=dom.createElement("select");for(var uri in select.setAttribute("style",style.formSelectSTyle),options.multiple&&select.setAttribute("multiple","true"),select.currentURI=null,select.refresh=function(){actual=getActual();for(var _i2=0;_i2<select.children.length;_i2++){var option=select.children[_i2];option.AJAR_uri&&(option.selected=option.AJAR_uri in actual)}select.disabled=!1},uris){var c=kb.sym(uri),option=dom.createElement("option");options.disambiguate?option.appendChild(dom.createTextNode(utils.labelWithOntology(c,!0))):option.appendChild(dom.createTextNode(utils.label(c,!0)));var backgroundColor=kb.any(c,kb.sym("http://www.w3.org/ns/ui#backgroundColor"));backgroundColor&&option.setAttribute("style","background-color: "+backgroundColor.value+"; "),option.AJAR_uri=uri,uri in actual&&(option.setAttribute("selected","true"),select.currentURI=uri),select.appendChild(option)}if(editable&&options.mint){var mint=dom.createElement("option");mint.appendChild(dom.createTextNode(options.mint)),mint.AJAR_mint=!0,select.insertBefore(mint,select.firstChild)}if(null==select.currentURI&&!options.multiple){var prompt=dom.createElement("option");prompt.appendChild(dom.createTextNode(options.nullLabel)),select.insertBefore(prompt,select.firstChild),prompt.selected=!0}return editable&&select.addEventListener("change",(function onChange(_e){select.disabled=!0;for(var newObject,ds=[],is=[],removeValue=function removeValue(t){kb.holds(subject,predicate,t,dataDoc)&&ds.push($rdf.st(subject,predicate,t,dataDoc))},_i=0;_i<select.options.length;_i++){var opt=select.options[_i];if(opt.selected&&opt.AJAR_mint){if(options.mintClass){var thisForm=promptForNew(dom,kb,subject,predicate,options.mintClass,null,dataDoc,(function(ok,body){ok||callbackFunction(ok,body,{change:"new"})}));select.parentNode.appendChild(thisForm),newObject=thisForm.AJAR_subject}else newObject=newThing(dataDoc);is.push($rdf.st(subject,predicate,newObject,dataDoc)),options.mintStatementsFun&&(is=is.concat(options.mintStatementsFun(newObject)))}opt.AJAR_uri&&(opt.selected&&!(opt.AJAR_uri in actual)&&is.push($rdf.st(subject,predicate,kb.sym(opt.AJAR_uri),dataDoc)),!opt.selected&&opt.AJAR_uri in actual&&removeValue(kb.sym(opt.AJAR_uri)),opt.selected&&(select.currentURI=opt.AJAR_uri))}for(var sel=select.subSelect;sel&&sel.currentURI;)removeValue(kb.sym(sel.currentURI)),sel=sel.subSelect;for(sel=select.superSelect;sel&&sel.currentURI;)removeValue(kb.sym(sel.currentURI)),sel=sel.superSelect;function doneNew(ok,_body){callbackFunction(ok,{widget:"select",event:"new"})}log.info("selectForOptions: data doc = "+dataDoc),kb.updater.update(ds,is,(function(uri,ok,body){if(actual=getActual(),!ok)return select.parentNode.appendChild((0,_error.errorMessageBlock)(dom,"Error updating data in select: "+body));select.disabled=!1,newObject&&(0,_fieldFunction.fieldFunction)(dom,options.subForm)(dom,select.parentNode,{},newObject,options.subForm,dataDoc,doneNew),callbackFunction&&callbackFunction(ok,{widget:"select",event:"change"})}))}),!1),select}function makeSelectForCategory(dom,kb,subject,category,dataDoc,callbackFunction){var subs,du=kb.any(category,ns.owl("disjointUnionOf")),multiple=!1;return du?subs=du.elements:(subs=kb.each(void 0,ns.rdfs("subClassOf"),category),multiple=!0),log.debug("Select list length "+subs.length),0===subs.length?(0,_error.errorMessageBlock)(dom,"Can't do "+(multiple?"multiple ":"")+"selector with no subclasses of category: "+category):1===subs.length?(0,_error.errorMessageBlock)(dom,"Can't do "+(multiple?"multiple ":"")+"selector with only 1 subclass of category: "+category+":"+subs[1]):makeSelectForOptions(dom,kb,subject,ns.rdf("type"),subs,{multiple,nullPrompt:"--classify--"},dataDoc,callbackFunction)}function makeSelectForNestedCategory(dom,kb,subject,category,dataDoc,callbackFunction){function update(){child&&(container.removeChild(child),child=null),select.currentURI&&kb.any(kb.sym(select.currentURI),ns.owl("disjointUnionOf"))&&(child=makeSelectForNestedCategory(dom,kb,subject,kb.sym(select.currentURI),dataDoc,callbackFunction),select.subSelect=child.firstChild,select.subSelect.superSelect=select,container.appendChild(child))}var container=dom.createElement("span"),child=null;var select=makeSelectForCategory(dom,kb,subject,category,dataDoc,(function onChange(ok,body){ok&&update(),callbackFunction(ok,body)}));return container.appendChild(select),update(),container}function buildCheckboxForm(dom,kb,lab,del,ins,form,dataDoc,tristate){var box=dom.createElement("div"),rhs=(0,_basic.renderNameValuePair)(dom,kb,box,form,lab),editable=kb.updater.editable(dataDoc.uri),input=dom.createElement("button"),colorCarrier=input;function fix(x){if(!x)return[];if(x.object)return x.why||(x.why=dataDoc),[x];if(x instanceof Array)return x;throw new Error("buildCheckboxForm: bad param "+x)}function holdsAll(a){return 0===a.filter((function(st){return!kb.holds(st.subject,st.predicate,st.object,st.why)})).length}if(input.style=style.checkboxInputStyle,rhs.appendChild(input),ins=fix(ins),del=fix(del),function refresh(){var state=holdsAll(ins),displayState=state;if(del.length){var negation=holdsAll(del);if(state&&negation)return box.appendChild(widgets.errorMessageBlock(dom,"Inconsistent data in dataDoc!\n"+ins+" and\n"+del)),box;if(!state&&!negation){state=null;var defa=kb.any(form,ns.ui("default"));displayState=defa?"1"===defa.value:!!tristate&&null}}input.state=state,input.textContent={true:"",false:tristate?"":" ",null:"-"}[displayState]}(),!editable)return box;return input.addEventListener("click",(function boxHandler(_e){colorCarrier.style.color="#bbb";var toDelete=!0===input.state?ins:!1===input.state?del:[];input.newState=null===input.state||!0!==input.state&&(!tristate||null);var toInsert=!0===input.newState?ins:!1===input.newState?del:[];debug.log("  Deleting  ".concat(toDelete)),debug.log("  Inserting ".concat(toInsert)),kb.updater.update(toDelete,toInsert,(function(uri,success,errorBody){if(success)colorCarrier.style.color="#000",input.state=input.newState,input.textContent={true:"",false:"",null:"-"}[input.state];else{if(toDelete.why)kb.holds(toDelete.subject,toDelete.predicate,toDelete.object,toDelete.why)&&debug.log(" @@@@@ weird if 409 - does hold statement");colorCarrier.style.color="#000",colorCarrier.style.backgroundColor="#fee",box.appendChild((0,_error.errorMessageBlock)(dom,"Checkbox: Error updating dataDoc from ".concat(input.state," to ").concat(input.newState,":\n\n").concat(errorBody)))}}))}),!1),box}function newThing(doc){var now=new Date;return $rdf.sym(doc.uri+"#id"+now.getTime())}_fieldFunction.field[ns.ui("AutocompleteField").uri]=_autocompleteField.autocompleteField,_fieldFunction.field[ns.ui("Form").uri]=_fieldFunction.field[ns.ui("Group").uri]=function(dom,container,already,subject,form,dataDoc,callbackFunction){var box=dom.createElement("div"),ui=ns.ui;container&&container.appendChild(box);var key=subject.toNT()+"|"+form.toNT();if(already[key]){box.appendChild(dom.createTextNode("Group: see above "+key));var plist=[$rdf.st(subject,ns.owl("sameAs"),subject)];return dom.outlineManager.appendPropertyTRs(box,plist),box}var already2={};for(var x in already)already2[x]=1;already2[key]=1;var formDoc=form.doc?form.doc():null,weight0=kb.any(form,ui("weight"),null,formDoc),weight=weight0?Number(weight0.value):1;if(weight>3||weight<0)return box.appendChild((0,_error.errorMessageBlock)(dom,"Form Group weight ".concat(weight," should be 0-3")));box.setAttribute("style",style.formGroupStyle[weight]),box.style.display="flex",box.style.flexDirection="column",box.class="form-weight-"+weight;var subfields,parts=kb.any(form,ui("parts"),null,formDoc);if(parts?subfields=parts.elements:(parts=kb.each(form,ui("part"),null,formDoc),subfields=sortBySequence(parts)),!parts)return box.appendChild((0,_error.errorMessageBlock)(dom,"No parts to form! "));for(var i=0;i<subfields.length;i++){var _field2=subfields[i],subFieldFunction=(0,_fieldFunction.fieldFunction)(dom,_field2);box.appendChild(subFieldFunction(dom,null,already2,subject,_field2,dataDoc,(function itemChanged(ok,body){ok&&body&&body.widget&&"select"===body.widget&&refreshOpionsSubfieldinGroup(dom,already,subject,dataDoc,callbackFunction,box,subfields),callbackFunction(ok,{widget:"group",change:body})})))}return box},_fieldFunction.field[ns.ui("Options").uri]=function(dom,container,already,subject,form,dataDoc,callbackFunction){var kb=_solidLogic.store,box=dom.createElement("div"),formDoc=form.doc?form.doc():null,ui=ns.ui;container&&container.appendChild(box);var dependingOn=kb.any(form,ui("dependingOn"));dependingOn||(dependingOn=ns.rdf("type"));var values,cases=kb.each(form,ui("case"),null,formDoc);if(cases||box.appendChild((0,_error.errorMessageBlock)(dom,"No cases to Options form. ")),0===(values=dependingOn.sameTerm(ns.rdf("type"))?Object.keys(kb.findTypeURIs(subject)).map((function(uri){return $rdf.sym(uri)})):kb.each(subject,dependingOn)).length)box.appendChild((0,_error.errorMessageBlock)(dom,"Can't select subform as no value of: "+dependingOn));else for(var i=0;i<cases.length;i++){for(var c=cases[i],tests=kb.each(c,ui("for"),null,formDoc),match=!1,j=0;j<tests.length;j++){var _step,_iterator=_createForOfIteratorHelper(values);try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value,test=tests[j];(value.sameTerm(tests)||value.termType===test.termType&&value.value===test.value)&&(match=!0)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}if(match){var _field3=kb.the(c,ui("use"));if(!_field3)return box.appendChild((0,_error.errorMessageBlock)(dom,'No "use" part for case in form '+form)),box;appendForm(dom,box,already,subject,_field3,dataDoc,callbackFunction);break}}return box},_fieldFunction.field[ns.ui("Multiple").uri]=function(dom,container,already,subject,form,dataDoc,callbackFunction){function debugString(values){return values.map((function(x){return x.toString().slice(-7)})).join(", ")}function addItem(){return _addItem.apply(this,arguments)}function _addItem(){return(_addItem=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee6(){var object,toBeInserted,msg;return _regenerator.default.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(object=newThing(dataDoc),!ordered){_context6.next=8;break}return createListIfNecessary(),list.elements.push(object),_context6.next=6,saveListThenRefresh();case 6:_context6.next=20;break;case 8:return toBeInserted=reverse?[$rdf.st(object,property,subject,dataDoc)]:[$rdf.st(subject,property,object,dataDoc)],_context6.prev=9,_context6.next=12,kb.updater.update([],toBeInserted);case 12:_context6.next=19;break;case 14:_context6.prev=14,_context6.t0=_context6.catch(9),msg="Error adding to unordered multiple: "+_context6.t0,box.appendChild((0,_error.errorMessageBlock)(dom,msg)),debug.error(msg);case 19:refresh();case 20:case"end":return _context6.stop()}}),_callee6,null,[[9,14]])})))).apply(this,arguments)}function renderItem(object){function _deleteThisItem(){return(_deleteThisItem=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(){var i,del;return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!ordered){_context3.next=14;break}debug.log("pre delete: "+debugString(list.elements)),i=0;case 3:if(!(i<list.elements.length)){_context3.next=12;break}if(!list.elements[i].sameTerm(object)){_context3.next=9;break}return list.elements.splice(i,1),_context3.next=8,saveListThenRefresh();case 8:return _context3.abrupt("return");case 9:i++,_context3.next=3;break;case 12:_context3.next=15;break;case 14:kb.holds(subject,property,object,dataDoc)&&(del=[$rdf.st(subject,property,object,dataDoc)],kb.updater.update(del,[],(function(uri,ok,message){ok?body.removeChild(subField):body.appendChild((0,_error.errorMessageBlock)(dom,"Multiple: delete failed: "+message))})));case 15:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function moveThisItem(_x,_x2){return _moveThisItem.apply(this,arguments)}function _moveThisItem(){return(_moveThisItem=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(event,upwards){var i;return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:debug.log("pre move: "+debugString(list.elements)),i=0;case 2:if(!(i<list.elements.length)){_context4.next=8;break}if(!list.elements[i].sameTerm(object)){_context4.next=5;break}return _context4.abrupt("break",8);case 5:i++,_context4.next=2;break;case 8:if(i===list.elements.length&&alert("list move: not found element for "+object),!upwards){_context4.next=16;break}if(0!==i){_context4.next=13;break}return alert("@@ boop - already at top   -temp message"),_context4.abrupt("return");case 13:list.elements.splice(i-1,2,list.elements[i],list.elements[i-1]),_context4.next=20;break;case 16:if(i!==list.elements.length-1){_context4.next=19;break}return alert("@@ boop - already at bottom   -temp message"),_context4.abrupt("return");case 19:list.elements.splice(i,2,list.elements[i+1],list.elements[i]);case 20:return _context4.next=22,saveListThenRefresh();case 22:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)}log.debug("Multiple: render object: "+object);var subField=(0,_fieldFunction.fieldFunction)(dom,element)(dom,null,already,object,element,dataDoc,(function itemDone(ok,message){debug.log("Item done callback for item ".concat(object.toString())),ok||debug.error("  Item done callback: Error: "+message),callbackFunction(ok,message)}));if(subField.subject=object,kb.updater.editable(dataDoc.uri)&&(buttons.deleteButtonWithCheck(dom,subField,utils.label(property),(function deleteThisItem(){return _deleteThisItem.apply(this,arguments)})),ordered)){var frame=dom.createElement("div");frame.style.display="grid",frame.style.gridTemplateColumns="auto 3em",frame.style.gridTemplateRows="50% 50%";var moveUpButton=buttons.button(dom,_iconBase.icons.iconBase+"noun_1369237.svg","Move Up",function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(event){return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",moveThisItem(event,!0));case 1:case"end":return _context.stop()}}),_callee)})));return function(_x3){return _ref.apply(this,arguments)}}()),moveDownButton=buttons.button(dom,_iconBase.icons.iconBase+"noun_1369241.svg","Move Down",function(){var _ref2=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(event){return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",moveThisItem(event,!1));case 1:case"end":return _context2.stop()}}),_callee2)})));return function(_x4){return _ref2.apply(this,arguments)}}()),_shim=dom.createElement("div");return _shim.appendChild(subField),frame.appendChild(_shim),frame.appendChild(moveUpButton),frame.appendChild(moveDownButton),moveUpButton.style.gridColumn=2,moveDownButton.style.gridColumn=2,moveUpButton.style.gridRow=1,moveDownButton.style.padding="0em",moveUpButton.style.padding="0em",moveDownButton.style.gridRow=2,_shim.style.gridColumn=1,_shim.style.gridRowStart="span 2",frame}return subField}var plusIconURI=_iconBase.icons.iconBase+"noun_19460_green.svg",kb=_solidLogic.store,formDoc=form.doc?form.doc():null,box=dom.createElement("div"),shim=box,ui=ns.ui;container&&container.appendChild(box);var orderedNode=kb.any(form,ui("ordered")),ordered=!!orderedNode&&$rdf.Node.toJS(orderedNode),property=kb.any(form,ui("property")),reverse=kb.anyJS(form,ui("reverse"),null,formDoc);if(!property)return box.appendChild((0,_error.errorMessageBlock)(dom,"No property to multiple: "+form)),shim;var min=kb.any(form,ui("min"));min=min?0+min.value:0;var element=kb.any(form,ui("part"));if(!element)return box.appendChild((0,_error.errorMessageBlock)(dom,"No part to multiple: "+form)),shim;var list,values,body=box.appendChild(dom.createElement("div"));if(body.style.display="flex",body.style.flexDirection="column",values=reverse?kb.any(null,property,subject,dataDoc):kb.any(subject,property,null,dataDoc),ordered?(list=reverse?kb.any(null,property,subject,dataDoc):kb.any(subject,property,null,dataDoc),values=list?list.elements:[]):(values=reverse?kb.each(null,property,subject,dataDoc):kb.each(subject,property,null,dataDoc),list=null),kb.updater.editable(dataDoc.uri)){var tail=box.appendChild(dom.createElement("div"));tail.style.padding="0.5em";var img=tail.appendChild(dom.createElement("img"));img.setAttribute("src",plusIconURI),img.setAttribute("style","margin: 0.2em; width: 1.5em; height:1.5em"),img.title="Click to add one or more "+utils.predicateLabel(property,reverse),tail.appendChild(dom.createElement("span")).textContent=(0===values.length?"Add one or more ":"Add more ")+utils.predicateLabel(property,reverse),tail.addEventListener("click",function(){var _ref3=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee5(_eventNotUsed){return _regenerator.default.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,addItem();case 2:case"end":return _context5.stop()}}),_callee5)})));return function(_x5){return _ref3.apply(this,arguments)}}(),!0)}function createListIfNecessary(){list||(list=new $rdf.Collection,reverse?kb.add(list,property,subject,dataDoc):kb.add(subject,property,list,dataDoc))}function saveListThenRefresh(){return _saveListThenRefresh.apply(this,arguments)}function _saveListThenRefresh(){return(_saveListThenRefresh=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee7(){return _regenerator.default.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return debug.log("save list: "+debugString(list.elements)),createListIfNecessary(),_context7.prev=2,_context7.next=5,kb.fetcher.putBack(dataDoc);case 5:_context7.next=11;break;case 7:return _context7.prev=7,_context7.t0=_context7.catch(2),box.appendChild((0,_error.errorMessageBlock)(dom,"Error trying to put back a list: "+_context7.t0)),_context7.abrupt("return");case 11:refresh();case 12:case"end":return _context7.stop()}}),_callee7,null,[[2,7]])})))).apply(this,arguments)}function refresh(){var vals;if(ordered){var li=reverse?kb.the(null,property,subject,dataDoc):kb.the(subject,property,null,dataDoc);vals=li?li.elements:[]}else(vals=reverse?kb.each(null,property,subject,dataDoc):kb.each(subject,property,null,dataDoc)).sort();utils.syncTableToArrayReOrdered(body,vals,renderItem)}function _asyncStuff(){return(_asyncStuff=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee8(){var extra,j;return _regenerator.default.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(!((extra=min-values.length)>0)){_context8.next=12;break}j=0;case 3:if(!(j<extra)){_context8.next=10;break}return debug.log("Adding extra: min "+min),_context8.next=7,addItem();case 7:j++,_context8.next=3;break;case 10:return _context8.next=12,saveListThenRefresh();case 12:case"end":return _context8.stop()}}),_callee8)})))).apply(this,arguments)}return body.refresh=refresh,refresh(),function asyncStuff(){return _asyncStuff.apply(this,arguments)}().then((function(){debug.log(" Multiple render: async stuff ok")}),(function(err){debug.error(" Multiple render: async stuff fails. #### ",err)})),shim},_fieldFunction.field[ns.ui("PhoneField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("EmailField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("ColorField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("DateField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("DateTimeField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("TimeField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("NumericField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("IntegerField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("DecimalField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("FloatField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("TextField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("SingleLineTextField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("NamedNodeURIField").uri]=_basic.basicField,_fieldFunction.field[ns.ui("MultiLineTextField").uri]=function(dom,container,already,subject,form,dataDoc,callbackFunction){var ui=ns.ui,kb=_solidLogic.store,formDoc=form.doc?form.doc():null,property=kb.any(form,ui("property"));if(!property)return(0,_error.errorMessageBlock)(dom,"No property to text field: "+form);var box=dom.createElement("div");box.style.display="flex",box.style.flexDirection="row";var left=box.appendChild(dom.createElement("div"));left.style.width=style.formFieldNameBoxWidth;var right=box.appendChild(dom.createElement("div"));left.appendChild((0,_basic.fieldLabel)(dom,property,form)),dataDoc=(0,_basic.fieldStore)(subject,property,dataDoc);var text=kb.anyJS(subject,property,null,dataDoc)||"",editable=kb.updater.editable(dataDoc.uri),suppressEmptyUneditable=form&&kb.anyJS(form,ns.ui("suppressEmptyUneditable"),null,formDoc);!editable&&suppressEmptyUneditable&&""===text&&(box.style.display="none");var field=makeDescription(dom,kb,subject,property,dataDoc,callbackFunction);return right.appendChild(field),container&&container.appendChild(box),box},_fieldFunction.field[ns.ui("BooleanField").uri]=function(dom,container,already,subject,form,dataDoc,callbackFunction){return booleanField(dom,container,0,subject,form,dataDoc,0,!1)},_fieldFunction.field[ns.ui("TristateField").uri]=function(dom,container,already,subject,form,dataDoc,callbackFunction){return booleanField(dom,container,0,subject,form,dataDoc,0,!0)},_fieldFunction.field[ns.ui("Classifier").uri]=function(dom,container,already,subject,form,dataDoc,callbackFunction){var kb=_solidLogic.store,ui=ns.ui,category=kb.any(form,ui("category"));if(!category)return(0,_error.errorMessageBlock)(dom,"No category for classifier: "+form);log.debug("Classifier: dataDoc="+dataDoc);var box=makeSelectForNestedCategory(dom,kb,subject,category,dataDoc,(function checkOptions(ok,body){return callbackFunction(ok,body)}));return container&&container.appendChild(box),box},_fieldFunction.field[ns.ui("Choice").uri]=function(dom,container,already,subject,form,dataDoc,callbackFunction){var p,ui=ns.ui,kb=_solidLogic.store,formDoc=form.doc?form.doc():null,box=dom.createElement("div");container&&container.appendChild(box);var lhs=dom.createElement("div");box.appendChild(lhs);var rhs=dom.createElement("div");box.appendChild(rhs);var property=kb.any(form,ui("property"));if(!property)return box.appendChild((0,_error.errorMessageBlock)(dom,"No property for Choice: "+form));lhs.appendChild((0,_basic.fieldLabel)(dom,property,form));var from=kb.any(form,ui("from"));if(!from)return(0,_error.errorMessageBlock)(dom,"No 'from' for Choice: "+form);var possibleProperties,subForm=kb.any(form,ui("use")),follow=kb.anyJS(form,ui("follow"),null,formDoc),possible=[],opts={form,multiple:!1,nullLabel:"--"+utils.label(property)+"-?",disambiguate:!1};for(var x in possible=kb.each(void 0,ns.rdf("type"),from,formDoc),kb.findMembersNT(from))possible.push(kb.fromNT(x));if(from.sameTerm(ns.rdfs("Class")))for(p in buttons.allClassURIs())possible.push(kb.sym(p));else if(from.sameTerm(ns.rdf("Property"))){for(p in(possibleProperties=buttons.propertyTriage(kb)).op)possible.push(kb.fromNT(p));for(p in possibleProperties.dp)possible.push(kb.fromNT(p));opts.disambiguate=!0}else if(from.sameTerm(ns.owl("ObjectProperty"))){for(p in(possibleProperties=buttons.propertyTriage(kb)).op)possible.push(kb.fromNT(p));opts.disambiguate=!0}else if(from.sameTerm(ns.owl("DatatypeProperty"))){for(p in(possibleProperties=buttons.propertyTriage(kb)).dp)possible.push(kb.fromNT(p));opts.disambiguate=!0}var object=kb.any(subject,property);var possible2=sortByLabel(possible);kb.any(form,ui("canMintNew"))&&(opts.mint="* New *",opts.subForm=subForm);var selector=makeSelectForOptions(dom,kb,subject,property,possible2,opts,dataDoc,callbackFunction);return rhs.appendChild(selector),object&&subForm&&function addSubForm(){object=kb.any(subject,property),(0,_fieldFunction.fieldFunction)(dom,subForm)(dom,rhs,already,object,subForm,follow?object.doc():dataDoc,callbackFunction)}(),box},_fieldFunction.field[ns.ui("Comment").uri]=_fieldFunction.field[ns.ui("Heading").uri]=function(dom,container,already,subject,form,dataDoc,_callbackFunction){var ui=ns.ui,kb=_solidLogic.store,contents=kb.any(form,ui("contents"));contents||(contents="Error: No contents in comment field.");var formDoc=form.doc?form.doc():null,uri=(0,_fieldFunction.mostSpecificClassURI)(form),params=_fieldParams.fieldParams[uri]||{},box=dom.createElement("div");container&&container.appendChild(box);var p=box.appendChild(dom.createElement(params.element));p.textContent=contents,(0,_formStyle.setFieldStyle)(p,form);var suppressIfUneditable=kb.anyJS(form,ns.ui("suppressIfUneditable"),null,formDoc),editable=kb.updater.editable(dataDoc.uri);return suppressIfUneditable&&!editable&&(box.style.display="none"),box}},"./lib/widgets/forms/autocomplete/autocompleteBar.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderAutocompleteControl=function renderAutocompleteControl(_x,_x2,_x3,_x4,_x5,_x6){return _renderAutocompleteControl.apply(this,arguments)};var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),_iconBase=__webpack_require__("./lib/iconBase.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js")),utils=_interopRequireWildcard(__webpack_require__("./lib/utils/index.js")),_autocompletePicker=__webpack_require__("./lib/widgets/forms/autocomplete/autocompletePicker.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var GREEN_PLUS=_iconBase.icons.iconBase+"noun_34653_green.svg",SEARCH_ICON=_iconBase.icons.iconBase+"noun_Search_875351.svg",EDIT_ICON=_iconBase.icons.iconBase+"noun_253504.svg";function _renderAutocompleteControl(){return _renderAutocompleteControl=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee6(dom,person,barOptions,acOptions,addOneIdAndRefresh,deleteOne){var autoCompleteDone,_autoCompleteDone,greenButtonHandler,_greenButtonHandler,removeDecorated,displayAutocomplete,_displayAutocomplete,searchButtonHandler,_searchButtonHandler,droppedURIHandler,_droppedURIHandler,acceptButton,cancelButton,deleteButtonContainer,noun,deleteButton,editButton,editing,syncEditingStatus,decoration,decoratedAutocomplete,creationArea,plus;return _regenerator.default.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(syncEditingStatus=function _syncEditingStatus(){editing?((0,_autocompletePicker.setVisible)(editButton,!1),(0,_autocompletePicker.setVisible)(acceptButton,!1),(0,_autocompletePicker.setVisible)(cancelButton,!1)):((0,_autocompletePicker.setVisible)(editButton,!0),(0,_autocompletePicker.setVisible)(acceptButton,!1),(0,_autocompletePicker.setVisible)(cancelButton,!1))},_droppedURIHandler=function _droppedURIHandler3(){return(_droppedURIHandler=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee5(uris){var _iterator,_step,webid;return _regenerator.default.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:_iterator=_createForOfIteratorHelper(uris),_context5.prev=1,_iterator.s();case 3:if((_step=_iterator.n()).done){_context5.next=9;break}return webid=_step.value,_context5.next=7,addOneIdAndRefresh(person,webid);case 7:_context5.next=3;break;case 9:_context5.next=14;break;case 11:_context5.prev=11,_context5.t0=_context5.catch(1),_iterator.e(_context5.t0);case 14:return _context5.prev=14,_iterator.f(),_context5.finish(14);case 17:case"end":return _context5.stop()}}),_callee5,null,[[1,11,14,17]])})))).apply(this,arguments)},droppedURIHandler=function _droppedURIHandler2(_x11){return _droppedURIHandler.apply(this,arguments)},_searchButtonHandler=function _searchButtonHandler3(){return(_searchButtonHandler=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(_event){return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!decoratedAutocomplete){_context4.next=5;break}creationArea.removeChild(decoratedAutocomplete),decoratedAutocomplete=void 0,_context4.next=7;break;case 5:return _context4.next=7,displayAutocomplete();case 7:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)},searchButtonHandler=function _searchButtonHandler2(_x10){return _searchButtonHandler.apply(this,arguments)},_displayAutocomplete=function _displayAutocomplete3(){return(_displayAutocomplete=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(){return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return(decoratedAutocomplete=dom.createElement("div")).setAttribute("style","display: flex; flex-flow: wrap;"),_context3.t0=decoratedAutocomplete,_context3.next=5,(0,_autocompletePicker.renderAutoComplete)(dom,acOptions,decoration,autoCompleteDone);case 5:_context3.t1=_context3.sent,_context3.t0.appendChild.call(_context3.t0,_context3.t1),decoratedAutocomplete.appendChild(acceptButton),decoratedAutocomplete.appendChild(cancelButton),decoratedAutocomplete.appendChild(editButton),decoratedAutocomplete.appendChild(deleteButtonContainer),creationArea.appendChild(decoratedAutocomplete);case 12:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)},displayAutocomplete=function _displayAutocomplete2(){return _displayAutocomplete.apply(this,arguments)},removeDecorated=function _removeDecorated(){decoratedAutocomplete&&(creationArea.removeChild(decoratedAutocomplete),decoratedAutocomplete=void 0)},_greenButtonHandler=function _greenButtonHandler3(){return(_greenButtonHandler=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(_event){var webid;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,widgets.askName(dom,_solidLogic.store,creationArea,ns.vcard("url"),void 0,"Solid ID");case 2:if(webid=_context2.sent){_context2.next=5;break}return _context2.abrupt("return");case 5:return _context2.abrupt("return",addOneIdAndRefresh(person,webid));case 6:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)},greenButtonHandler=function _greenButtonHandler2(_x9){return _greenButtonHandler.apply(this,arguments)},_autoCompleteDone=function _autoCompleteDone3(){return(_autoCompleteDone=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(object,name){return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return acOptions.permanent?((0,_autocompletePicker.setVisible)(editButton,!0),(0,_autocompletePicker.setVisible)(acceptButton,!1),(0,_autocompletePicker.setVisible)(cancelButton,!1)):removeDecorated(),_context.abrupt("return",addOneIdAndRefresh(object,name));case 2:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)},autoCompleteDone=function _autoCompleteDone2(_x7,_x8){return _autoCompleteDone.apply(this,arguments)},(acceptButton=widgets.continueButton(dom)).setAttribute("data-testid","accept-button"),(cancelButton=widgets.cancelButton(dom)).setAttribute("data-testid","cancel-button"),deleteButtonContainer=dom.createElement("div"),noun=acOptions.targetClass?utils.label(acOptions.targetClass):"item",(deleteButton=widgets.deleteButtonWithCheck(dom,deleteButtonContainer,noun,deleteOne)).setAttribute("data-testid","delete-button"),(editButton=widgets.button(dom,EDIT_ICON,"Edit",(function(_event){editing=!editing,syncEditingStatus()}))).setAttribute("data-testid","edit-button"),editing=!0,decoration={acceptButton,cancelButton,editButton,deleteButton},decoratedAutocomplete=void 0,(creationArea=dom.createElement("div")).style.display="flex",creationArea.style.flexDirection="row",!acOptions.permanent&&!acOptions.currentObject){_context6.next=31;break}return _context6.next=31,displayAutocomplete();case 31:return barOptions.editable&&(creationArea.style.width="100%",barOptions.manualURIEntry&&(plus=creationArea.appendChild(widgets.button(dom,GREEN_PLUS,barOptions.idNoun,greenButtonHandler)),widgets.makeDropTarget(plus,droppedURIHandler,void 0)),!barOptions.dbLookup||acOptions.currentObject||acOptions.permanent||creationArea.appendChild(widgets.button(dom,SEARCH_ICON,barOptions.idNoun,searchButtonHandler))),syncEditingStatus(),_context6.abrupt("return",creationArea);case 34:case"end":return _context6.stop()}}),_callee6)}))),_renderAutocompleteControl.apply(this,arguments)}},"./lib/widgets/forms/autocomplete/autocompleteField.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.autocompleteField=function autocompleteField(dom,container,already,subject,form,doc,callbackFunction){var _kb$updater;function _addOneIdAndRefresh(){return(_addOneIdAndRefresh=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(result,name){var oldValue,oldName,deletables,insertables,_kb$updater2;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(name){_context.next=2;break}throw new Error("autocompleteField:  No name set.");case 2:if(!(oldValue=kb.the(subject,property,null,doc))){_context.next=7;break}if(oldName=kb.any(oldValue,labelProperty,null,doc),!(oldValue.equals(result)&&oldName&&oldName.sameTerm(name))){_context.next=7;break}return _context.abrupt("return");case 7:return deletables=oldValue?kb.statementsMatching(subject,property,oldValue,doc).concat(kb.statementsMatching(oldValue,labelProperty,null,doc)):[],insertables=[(0,_rdflib.st)(subject,property,result,doc),(0,_rdflib.st)(result,labelProperty,name,doc)],_context.prev=9,_context.next=12,null===(_kb$updater2=kb.updater)||void 0===_kb$updater2?void 0:_kb$updater2.updateMany(deletables,insertables);case 12:_context.next=19;break;case 14:return _context.prev=14,_context.t0=_context.catch(9),callbackFunction(!1,_context.t0),box.appendChild(widgets.errorMessageBlock(dom,"Autocomplete form data update error:"+_context.t0,null,_context.t0)),_context.abrupt("return");case 19:callbackFunction(!0,"");case 20:case"end":return _context.stop()}}),_callee,null,[[9,14]])})))).apply(this,arguments)}function _deleteOne(){return(_deleteOne=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(_result,_name){var oldValue,deletables,insertables,_kb$updater3,e2;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(oldValue=kb.the(subject,property,null,doc)){_context2.next=5;break}return callbackFunction(!1,"NO data to elete"),box.appendChild(widgets.errorMessageBlock(dom,"Autocomplete delete: no old data!")),_context2.abrupt("return");case 5:return deletables=kb.statementsMatching(subject,property,oldValue,doc).concat(kb.statementsMatching(oldValue,labelProperty,null,doc)),insertables=[],_context2.prev=7,_context2.next=10,null===(_kb$updater3=kb.updater)||void 0===_kb$updater3?void 0:_kb$updater3.updateMany(deletables,insertables);case 10:_context2.next=18;break;case 12:return _context2.prev=12,_context2.t0=_context2.catch(7),e2=new Error("Autocomplete form data delete error:"+_context2.t0),callbackFunction(!1,_context2.t0),box.appendChild(widgets.errorMessageBlock(dom,e2,null,_context2.t0)),_context2.abrupt("return");case 18:callbackFunction(!0,"");case 19:case"end":return _context2.stop()}}),_callee2,null,[[7,12]])})))).apply(this,arguments)}if("NamedNode"!==subject.termType)throw new Error("Sorry this field only works on NamedNode subjects (for editable)");var kb=_solidLogic.store,formDoc=form.doc?form.doc():null,box=dom.createElement("div");container&&container.appendChild(box);var lhs=dom.createElement("div");lhs.setAttribute("class","formFieldName"),lhs.setAttribute("style",style.formFieldNameBoxStyle),box.appendChild(lhs);var rhs=dom.createElement("div");rhs.setAttribute("class","formFieldValue"),box.appendChild(rhs);var property=kb.any(form,ns.ui("property"));if(!property)return box.appendChild(widgets.errorMessageBlock(dom,"Error: No property given for autocomplete field: "+form));var labelProperty=kb.any(form,ns.ui("labelProperty"))||ns.schema("name"),dataSource=kb.any(form,ns.ui("dataSource"));if(!dataSource)return box.appendChild(widgets.errorMessageBlock(dom,"Error: No data source given for autocomplete field: "+form));var queryParams={label:kb.anyJS(dataSource,ns.schema("name"),null,dataSource.doc()),logo:kb.any(dataSource,ns.schema("logo"),null,dataSource.doc())},targetClass=kb.any(form,ns.ui("targetClass"),null,form.doc())||kb.any(dataSource,ns.ui("targetClass"),null,dataSource.doc());targetClass&&(queryParams.targetClass=targetClass);queryParams.objectURIBase=kb.any(dataSource,ns.ui("objectURIBase"),null,dataSource.doc())||void 0;var endpoint=kb.anyJS(dataSource,ns.ui("endpoint"),null,dataSource.doc());if(endpoint){if(queryParams.endpoint=endpoint,queryParams.searchByNameQuery=kb.anyJS(dataSource,ns.ui("searchByNameQuery"),null,dataSource.doc()),!queryParams.searchByNameQuery)return box.appendChild(widgets.errorMessageBlock(dom,"Error: No searchByNameQuery given for endpoint data Source: "+form));queryParams.insitituteDetailsQuery=kb.anyJS(dataSource,ns.ui("insitituteDetailsQuery"),null,dataSource.doc())}else{var searchByNameURI=kb.anyJS(dataSource,ns.ui("searchByNameURI"));if(!searchByNameURI)return box.appendChild(widgets.errorMessageBlock(dom,"Error: No searchByNameURI OR sparql endpoint given for dataSource: "+dataSource));queryParams.searchByNameURI=searchByNameURI}var suppressEmptyUneditable=kb.anyJS(form,ns.ui("suppressEmptyUneditable"),null,formDoc),editable=null===(_kb$updater=kb.updater)||void 0===_kb$updater?void 0:_kb$updater.editable(doc.uri),autocompleteOptions={permanent:!0,targetClass:queryParams.targetClass,queryParams};autocompleteOptions.size=kb.anyJS(form,ns.ui("size"),null,formDoc)||void 0;var obj=kb.any(subject,property,void 0,doc);if(obj)autocompleteOptions.currentObject=obj,autocompleteOptions.currentName=kb.any(autocompleteOptions.currentObject,labelProperty,null,doc);else if(obj=kb.any(form,ns.ui("default")))autocompleteOptions.currentObject=obj,autocompleteOptions.currentName=kb.any(autocompleteOptions.currentObject,labelProperty,null,doc);else if(suppressEmptyUneditable&&!editable)return box.style.display="none",box;lhs.appendChild(widgets.fieldLabel(dom,property,form));var barOptions={editable,dbLookup:!0};return(0,_autocompleteBar.renderAutocompleteControl)(dom,subject,barOptions,autocompleteOptions,(function addOneIdAndRefresh(_x,_x2){return _addOneIdAndRefresh.apply(this,arguments)}),(function deleteOne(_x3,_x4){return _deleteOne.apply(this,arguments)})).then((function(control){rhs.appendChild(control)}),(function(err){rhs.appendChild(widgets.errorMessageBlock(dom,"Error rendering autocomplete ".concat(form,": ").concat(err),"#fee",err))})),box};var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js")),style=_interopRequireWildcard(__webpack_require__("./lib/style.js")),_autocompleteBar=__webpack_require__("./lib/widgets/forms/autocomplete/autocompleteBar.js"),_rdflib=__webpack_require__("./node_modules/rdflib/esm/index.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}},"./lib/widgets/forms/autocomplete/autocompletePicker.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderAutoComplete=function renderAutoComplete(_x,_x2,_x3,_x4){return _renderAutoComplete.apply(this,arguments)},exports.setVisible=setVisible;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),style=_interopRequireWildcard(__webpack_require__("./lib/style.js")),widgets=_interopRequireWildcard(__webpack_require__("./lib/widgets/index.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),_publicData=__webpack_require__("./lib/widgets/forms/autocomplete/publicData.js"),_language=__webpack_require__("./lib/widgets/forms/autocomplete/language.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function setVisible(element,visible){element.style.display=visible?"":"none"}function _renderAutoComplete(){return _renderAutoComplete=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee8(dom,acOptions,decoration,callback){var complain,finish,gotIt,_gotIt,acceptButtonHandler,_acceptButtonHandler,cancelButtonHandler,_cancelButtonHandler,nameMatch,clearList,inputEventHHandler,_inputEventHHandler,loadBindingsAndFilterByLanguage,_loadBindingsAndFilterByLanguage,filterByName,refreshList,_refreshList,initialize,targetClass,lastBindings,loadedEnough,inputEventHandlerLock,allDisplayed,lastFilter,numberOfRows,div,foundName,foundObject,table,head,cell,searchInput,size,searchInputStyle;return _regenerator.default.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(initialize=function _initialize(){acOptions.currentObject?(searchInput.value=acOptions.currentName?acOptions.currentName.value:"??? wot no name for "+acOptions.currentObject,foundName=acOptions.currentName,lastFilter=acOptions.currentName?acOptions.currentName.value:void 0,foundObject=acOptions.currentObject):(searchInput.value="",lastFilter=void 0,foundObject=void 0),decoration.deleteButton&&setVisible(decoration.deleteButton,!!acOptions.currentObject),decoration.acceptButton&&setVisible(decoration.acceptButton,!1),decoration.editButton&&setVisible(decoration.editButton,!0),decoration.cancelButton&&setVisible(decoration.cancelButton,!1),inputEventHandlerLock=!1,clearList()},_refreshList=function _refreshList3(){return _refreshList=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee7(){var rowForBinding,compareBindingsByName,languagePrefs,filter,slimmed,displayable,_iterator,_step,binding;return _regenerator.default.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(compareBindingsByName=function _compareBindingsByNam(self,other){return other.name.value>self.name.value?1:other.name.name<self.name.value?-1:0},rowForBinding=function _rowForBinding(binding){var row=dom.createElement("tr");style.setStyle(row,"autocompleteRowStyle"),row.setAttribute("style","padding: 0.3em;"),row.style.color=allDisplayed?"#080":"#088",row.textContent=binding.name.value;var object=(0,_publicData.bindingToTerm)(binding.subject),nameTerm=(0,_publicData.bindingToTerm)(binding.name);return row.addEventListener("click",function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee6(_event){return _regenerator.default.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:debug.log("       click row textContent: "+row.textContent),debug.log("       click name: "+nameTerm.value),object&&nameTerm&&gotIt(object,nameTerm);case 3:case"end":return _context6.stop()}}),_callee6)})));return function(_x12){return _ref.apply(this,arguments)}}()),row},!inputEventHandlerLock){_context7.next=5;break}return debug.log('Ignoring "'.concat(searchInput.value,'" because of lock ')),_context7.abrupt("return");case 5:return debug.log('Setting lock at "'.concat(searchInput.value,'"')),inputEventHandlerLock=!0,_context7.next=9,(0,_language.getPreferredLanguages)();case 9:if(languagePrefs=_context7.sent,!((filter=searchInput.value.trim().toLowerCase()).length<4)){_context7.next=16;break}clearList(),numberOfRows=20,_context7.next=31;break;case 16:if(allDisplayed&&lastFilter&&filter.startsWith(lastFilter)){_context7.next=21;break}return debug.log('   Querying database at "'.concat(filter,'" cf last "').concat(lastFilter,'".')),_context7.next=20,loadBindingsAndFilterByLanguage(filter,languagePrefs);case 20:lastBindings=_context7.sent;case 21:slimmed=filterByName(filter,lastBindings),loadedEnough&&slimmed.length<=40&&(numberOfRows=slimmed.length),allDisplayed=loadedEnough&&slimmed.length<=numberOfRows,debug.log(' Filter:"'.concat(filter,'" lastBindings: ').concat(lastBindings.length,", slimmed to ").concat(slimmed.length,"; rows: ").concat(numberOfRows,", Enough? ").concat(loadedEnough,", All displayed? ").concat(allDisplayed)),(displayable=slimmed.slice(0,numberOfRows)).sort(compareBindingsByName),clearList(),_iterator=_createForOfIteratorHelper(displayable);try{for(_iterator.s();!(_step=_iterator.n()).done;)binding=_step.value,table.appendChild(rowForBinding(binding))}catch(err){_iterator.e(err)}finally{_iterator.f()}1===slimmed.length&&gotIt((0,_publicData.bindingToTerm)(slimmed[0].subject),(0,_publicData.bindingToTerm)(slimmed[0].name));case 31:inputEventHandlerLock=!1;case 32:case"end":return _context7.stop()}}),_callee7)}))),_refreshList.apply(this,arguments)},refreshList=function _refreshList2(){return _refreshList.apply(this,arguments)},filterByName=function _filterByName(filter,bindings){return bindings.filter((function(binding){return nameMatch(filter,binding.name.value)}))},_loadBindingsAndFilterByLanguage=function _loadBindingsAndFilte2(){return(_loadBindingsAndFilterByLanguage=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee5(filter,languagePrefs){var bindings,slimmed;return _regenerator.default.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.prev=0,_context5.next=3,(0,_publicData.queryPublicDataByName)(filter,targetClass,languagePrefs||_language.defaultPreferredLanguages,acOptions.queryParams);case 3:bindings=_context5.sent,_context5.next=11;break;case 6:return _context5.prev=6,_context5.t0=_context5.catch(0),complain("Error querying db of organizations: "+_context5.t0),inputEventHandlerLock=!1,_context5.abrupt("return");case 11:return loadedEnough=bindings.length<_publicData.AUTOCOMPLETE_LIMIT,lastFilter=loadedEnough?filter:void 0,clearList(),slimmed=(0,_language.filterByLanguage)(bindings,languagePrefs),_context5.abrupt("return",slimmed);case 16:case"end":return _context5.stop()}}),_callee5,null,[[0,6]])})))).apply(this,arguments)},loadBindingsAndFilterByLanguage=function _loadBindingsAndFilte(_x10,_x11){return _loadBindingsAndFilterByLanguage.apply(this,arguments)},_inputEventHHandler=function _inputEventHHandler3(){return(_inputEventHHandler=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(_event){return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:setVisible(decoration.cancelButton,!0),refreshList();case 2:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)},inputEventHHandler=function _inputEventHHandler2(_x9){return _inputEventHHandler.apply(this,arguments)},clearList=function _clearList(){for(;table.children.length>1;)table.removeChild(table.lastChild)},nameMatch=function _nameMatch(filter,candidate){for(var parts=filter.split(" "),j=0;j<parts.length;j++){var word=parts[j];if(candidate.toLowerCase().indexOf(word)<0)return!1}return!0},_cancelButtonHandler=function _cancelButtonHandler3(){return(_cancelButtonHandler=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(_event){return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:debug.log("Auto complete: Canceled by user! "),acOptions.permanent?initialize():div.parentNode&&div.parentNode.removeChild(div);case 2:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)},cancelButtonHandler=function _cancelButtonHandler2(_x8){return _cancelButtonHandler.apply(this,arguments)},_acceptButtonHandler=function _acceptButtonHandler3(){return(_acceptButtonHandler=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(_event){return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:foundName&&searchInput.value===foundName.value&&finish(foundObject,foundName);case 1:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)},acceptButtonHandler=function _acceptButtonHandler2(_x7){return _acceptButtonHandler.apply(this,arguments)},_gotIt=function _gotIt3(){return(_gotIt=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(object,name){return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!decoration.acceptButton){_context.next=10;break}return decoration.acceptButton.disbaled=!1,setVisible(decoration.acceptButton,!0),searchInput.value=name.value,foundName=name,foundObject=object,debug.log("Auto complete: name: "+name),debug.log("Auto complete: waiting for accept "+object),clearList(),_context.abrupt("return");case 10:setVisible(decoration.cancelButton,!0),finish(object,name);case 12:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)},gotIt=function _gotIt2(_x5,_x6){return _gotIt.apply(this,arguments)},finish=function _finish(object,name){debug.log("Auto complete: finish! "+object),"Literal"===object.termType&&acOptions.queryParams.objectURIBase&&(object=_solidLogic.store.sym(acOptions.queryParams.objectURIBase.value+object.value)),clearList(),callback(object,name)},complain=function _complain(message){var errorRow=table.appendChild(dom.createElement("tr"));debug.log(message);var err=new Error(message);errorRow.appendChild(widgets.errorMessageBlock(dom,err,"pink")),style.setStyle(errorRow,"autocompleteRowStyle"),errorRow.style.padding="1em"},targetClass=acOptions.targetClass){_context8.next=21;break}throw new Error("renderAutoComplete: missing targetClass");case 21:return decoration.acceptButton&&decoration.acceptButton.addEventListener("click",acceptButtonHandler,!1),decoration.cancelButton&&decoration.cancelButton.addEventListener("click",cancelButtonHandler,!1),loadedEnough=!1,inputEventHandlerLock=!1,allDisplayed=!1,lastFilter=void 0,numberOfRows=20,div=dom.createElement("div"),foundName=void 0,foundObject=void 0,(table=div.appendChild(dom.createElement("table"))).setAttribute("data-testid","autocomplete-table"),table.setAttribute("style","max-width: 30em; margin: 0.5em;"),head=table.appendChild(dom.createElement("tr")),style.setStyle(head,"autocompleteRowStyle"),cell=head.appendChild(dom.createElement("td")),(searchInput=cell.appendChild(dom.createElement("input"))).setAttribute("type","text"),initialize(),size=acOptions.size||style.textInputSize||20,searchInput.setAttribute("size",size),searchInput.setAttribute("data-testid","autocomplete-input"),searchInputStyle=style.textInputStyle||"border: 0.1em solid #444; border-radius: 0.5em; width: 100%; font-size: 100%; padding: 0.1em 0.6em",searchInput.setAttribute("style",searchInputStyle),searchInput.addEventListener("keyup",(function(event){13===event.keyCode&&acceptButtonHandler(event)}),!1),searchInput.addEventListener("input",inputEventHHandler),_context8.abrupt("return",div);case 48:case"end":return _context8.stop()}}),_callee8)}))),_renderAutoComplete.apply(this,arguments)}},"./lib/widgets/forms/autocomplete/language.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.addDefaults=addDefaults,exports.defaultPreferredLanguages=void 0,exports.filterByLanguage=function filterByLanguage(bindings,languagePrefs){var uris={};bindings.forEach((function(binding){var uri=binding.subject.value;uris[uri]=uris[uri]||[],uris[uri].push(binding)}));var languagePrefs2=languagePrefs||defaultPreferredLanguages;languagePrefs2.reverse();var slimmed=[];for(var u in uris){var sortMe=uris[u].map((function(binding){var lang=binding.name["xml:lang"];return[languagePrefs2.indexOf(lang),binding]}));sortMe.sort(),sortMe.reverse(),slimmed.push(sortMe[0][1])}return debug.log(" Filter by language: ".concat(bindings.length," -> ").concat(slimmed.length)),slimmed},exports.getPreferredLanguages=function getPreferredLanguages(){return _getPreferredLanguages.apply(this,arguments)},exports.getPreferredLanguagesFor=getPreferredLanguagesFor,exports.languageCodeURIBase=void 0;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var languageCodeURIBase="https://www.w3.org/ns/iana/language-code/";exports.languageCodeURIBase=languageCodeURIBase;var defaultPreferredLanguages=["en","fr","de","it","ar"];function addDefaults(array){return array||(array=[]),array.concat(defaultPreferredLanguages.filter((function(code){return!array.includes(code)})))}function getPreferredLanguagesFor(_x){return _getPreferredLanguagesFor.apply(this,arguments)}function _getPreferredLanguagesFor(){return(_getPreferredLanguagesFor=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(person){var _store$fetcher,doc,list,languageCodeArray;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return doc=person.doc(),_context.next=3,null===(_store$fetcher=_solidLogic.store.fetcher)||void 0===_store$fetcher?void 0:_store$fetcher.load(doc);case 3:if(list=_solidLogic.store.any(person,ns.schema("knowsLanguage"),null,doc)){_context.next=6;break}return _context.abrupt("return",defaultPreferredLanguages);case 6:if(languageCodeArray=[],list.elements.forEach((function(item){var lang=_solidLogic.store.any(item,ns.solid("publicId"),null,doc);if(lang)if(lang.value.startsWith(languageCodeURIBase)){var code=lang.value.slice(languageCodeURIBase.length);languageCodeArray.push(code)}else console.error("What should be a language code ".concat(lang.value," does not start with ").concat(languageCodeURIBase));else console.warn("getPreferredLanguages: No publiID of language.")})),!(languageCodeArray.length>0)){_context.next=11;break}return console.log('     User knows languages with codes: "'.concat(languageCodeArray.join(","),'"')),_context.abrupt("return",addDefaults(languageCodeArray));case 11:return _context.abrupt("return",null);case 12:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function _getPreferredLanguages(){return(_getPreferredLanguages=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(){var me,solidLanguagePrefs;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_solidLogic.authn.currentUser();case 2:if(!(me=_context2.sent)){_context2.next=9;break}return _context2.next=6,getPreferredLanguagesFor(me);case 6:if(!(solidLanguagePrefs=_context2.sent)){_context2.next=9;break}return _context2.abrupt("return",solidLanguagePrefs);case 9:if("undefined"==typeof navigator){_context2.next=14;break}if(!navigator.languages){_context2.next=12;break}return _context2.abrupt("return",addDefaults(navigator.languages.map((function(longForm){return longForm.split("-")[0]}))));case 12:if(!navigator.language){_context2.next=14;break}return _context2.abrupt("return",addDefaults([navigator.language.split("-")[0]]));case 14:return _context2.abrupt("return",defaultPreferredLanguages);case 15:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}exports.defaultPreferredLanguages=defaultPreferredLanguages},"./lib/widgets/forms/autocomplete/publicData.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.last-index-of.js"),__webpack_require__("./node_modules/core-js/modules/web.url.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.AUTOCOMPLETE_LIMIT=void 0,exports.ESCOResultToBindings=ESCOResultToBindings,exports.bindingToTerm=function bindingToTerm(item){var typ=item.type.toLowerCase();if("uri"===typ||"iri"===typ)return _solidLogic.store.sym(item.value);if("literal"===typ)return item["xml:lang"]?new _rdflib.Literal(item.value,item["xml:lang"]):new _rdflib.Literal(item.value);throw new Error('bindingToTerm: Unexpected type "'.concat(item.type,'" in sparql binding}'))},exports.fetcherOptionsJsonPublicData=exports.escoParameters=exports.dbpediaParameters=exports.dbPediaTypeMap=void 0,exports.getDbpediaDetails=getDbpediaDetails,exports.getWikidataDetails=getWikidataDetails,exports.getWikidataDetailsOld=function getWikidataDetailsOld(_x19,_x20,_x21){return _getWikidataDetailsOld.apply(this,arguments)},exports.getWikidataLocation=function getWikidataLocation(_x22,_x23,_x24){return _getWikidataLocation.apply(this,arguments)},exports.instituteDetailsWikidataQuery=void 0,exports.loadFromBindings=loadFromBindings,exports.loadPublicDataThing=function loadPublicDataThing(_x13,_x14,_x15){return _loadPublicDataThing.apply(this,arguments)},exports.queryESCODataByName=function queryESCODataByName(_x,_x2,_x3){return _queryESCODataByName.apply(this,arguments)},exports.queryPublicDataByName=function queryPublicDataByName(_x4,_x5,_x6,_x7){return _queryPublicDataByName.apply(this,arguments)},exports.queryPublicDataConstruct=queryPublicDataConstruct,exports.queryPublicDataSelect=queryPublicDataSelect,exports.wikidataParameters=exports.wikidataOutgoingClassMap=exports.wikidataIncomingClassMap=exports.wikidataClasses=exports.variableNameToPredicateMap=void 0;var _regenerator=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js")),_asyncToGenerator2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),_rdflib=__webpack_require__("./node_modules/rdflib/esm/index.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js")),_language=__webpack_require__("./lib/widgets/forms/autocomplete/language.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}exports.AUTOCOMPLETE_LIMIT=200;var subjectRegexp=/\$\(subject\)/g;exports.wikidataClasses={Corporation:"http://www.wikidata.org/entity/Q6881511",EducationalOrganization:"http://www.wikidata.org/entity/Q178706",GovernmentOrganization:"http://www.wikidata.org/entity/Q327333",MedicalOrganization:"http://www.wikidata.org/entity/Q4287745",MusicGroup:"http://www.wikidata.org/entity/Q32178211",NGO:"http://www.wikidata.org/entity/Q163740",Occupation:"http://www.wikidata.org/entity/Q28640",Project:"http://www.wikidata.org/entity/Q170584",ResearchOrganization:"http://www.wikidata.org/entity/Q31855",SportsOrganization:"http://www.wikidata.org/entity/Q4438121"};var instituteDetailsWikidataQuery='prefix vcard: <http://www.w3.org/2006/vcard/ns#>\nCONSTRUCT\n{  wd:Q49108 vcard:fn ?itemLabel.\nwd:Q49108 rdf:type ?klass. ?klass rdfs:label ?klassLabel; rdfs:comment ?klassDescription .\nwd:Q49108 schema:logo ?logo;\n   schema:image ?image;\n   schema:logo  ?sealImage;\n   schema:subOrganization  ?subsidiary .\n      ?subsidiary rdfs:label ?subsidiaryLabel .\n ?supersidiary schema:subOrganization wd:Q49108 .\n      ?supersidiary rdfs:label ?supersidiaryLabel .\n  wd:Q49108 schema:location ?location .\n     ?location  schema:elevation  ?elevation .\n     ?location  wdt:P131  ?region .  ?region rdfs:label ?regionLabel .\n     ?location wdt:P625 ?coordinates .\n     ?location  schema:country  ?country . ?country rdfs:label ?countryLabel .\n}\nWHERE\n{  optional {wd:Q49108 rdfs:label ?itemLabel} .\n  optional {wd:Q49108 wdt:P154 ?logo .}\n  optional {wd:Q49108 wdt:P31 ?klass .}\n  optional {wd:Q49108 wdt:P158  ?sealImage .}\n  optional {wd:Q49108 wdt:P18 ?image .}\n\n  optional { wd:Q49108       wdt:P355 ?subsidiary . }\n  optional { ?supersidiary   wdt:P355 wd:Q49108. }\n\n  optional { wd:Q49108 wdt:P276 ?location .\n\n    optional { ?location  schema:eleveation  ?elevation }\n    optional { ?location  wdt:P131  ?region }\n    optional { ?location wdt:P625 ?coordinates }\n    optional {  ?location  wdt:P17  ?country }\n  }\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it". }\n}';exports.instituteDetailsWikidataQuery=instituteDetailsWikidataQuery;var fetcherOptionsJsonPublicData={credentials:"omit",headers:new Headers({Accept:"application/json"})};exports.fetcherOptionsJsonPublicData=fetcherOptionsJsonPublicData;var escoParameters={label:"ESCO",logo:_solidLogic.store.sym("https://ec.europa.eu/esco/portal/static_resource2/images/logo/logo_en.gif"),searchByNameURI:"https://ec.europa.eu/esco/api/search?language=$(language)&type=occupation&text=$(name)"};exports.escoParameters=escoParameters;var dbpediaParameters={label:"DBPedia",logo:_solidLogic.store.sym("https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/DBpediaLogo.svg/263px-DBpediaLogo.svg.png"),searchByNameQuery:'select distinct ?subject, ?name where {\n    ?subject a $(targetClass); rdfs:label ?name\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit)',endpoint:"https://dbpedia.org/sparql/"};exports.dbpediaParameters=dbpediaParameters;exports.dbPediaTypeMap={AcademicInsitution:"http://umbel.org/umbel/rc/EducationalOrganization"};exports.wikidataOutgoingClassMap={AcademicInsitution:"http://www.wikidata.org/entity/Q4671277",Enterprise:"http://www.wikidata.org/entity/Q6881511",Business:"http://www.wikidata.org/entity/Q4830453",NGO:"http://www.wikidata.org/entity/Q79913",CharitableOrganization:"http://www.wikidata.org/entity/Q708676",Insitute:"http://www.wikidata.org/entity/Q1664720"};var wikidataParameters={label:"WikiData",limit:3e3,logo:_solidLogic.store.sym("https://www.wikimedia.org/static/images/project-logos/wikidatawiki.png"),endpoint:"https://query.wikidata.org/sparql",searchByNameQuery:'SELECT ?subject ?name\n  WHERE {\n    ?klass wdt:P279* $(targetClass) .\n    ?subject wdt:P31 ?klass .\n    ?subject rdfs:label ?name.\n    FILTER regex(?name, "$(name)", "i")\n  } LIMIT $(limit) ',insitituteDetailsQuery:'CONSTRUCT\n{  wd:Q49108 schema:name ?itemLabel;\n             schema:logo ?logo;\n              schema:logo  ?sealImage;\n             schema:subOrganization  ?subsidiary .\n                 ?subsidiary schema:name ?subsidiaryLabel .\n}\nWHERE\n{\n   wd:Q49108 # rdfs:label ?itemLabel ;\n             wdt:P154 ?logo;\n              wdt:P158  ?sealImage ;\n             wdt:P355  ?subsidiary .\n          #  ?subsidiary rdfs:label ?subsidiaryLabel .\n\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE], fr". }\n}'};exports.wikidataParameters=wikidataParameters;var wikidataIncomingClassMap={"http://www.wikidata.org/entity/Q15936437":ns.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q1664720":ns.schema("EducationalOrganization"),"http://www.wikidata.org/entity/Q43229":ns.schema("Organization"),"http://www.wikidata.org/entity/Q3918":ns.schema("CollegeOrUniversity"),"http://www.wikidata.org/entity/Q170584":ns.schema("Project"),"http://www.wikidata.org/entity/Q327333":ns.schema("GovernmentOrganization"),"http://www.wikidata.org/entity/Q2221906":ns.schema("Place"),"http://www.wikidata.org/entity/Q167037":ns.schema("Corporation")};exports.wikidataIncomingClassMap=wikidataIncomingClassMap;var variableNameToPredicateMap={targetClass:ns.rdf("type"),sealImage:ns.schema("logo"),shortName:ns.foaf("nick"),subsidiary:ns.schema("subOrganization"),city:ns.vcard("locality"),state:ns.vcard("region"),country:ns.vcard("country-name"),homepage:ns.foaf("homepage"),lat:ns.schema("latitude"),long:ns.schema("longitude")};function loadFromBindings(kb,solidSubject,bindings,doc){var predMap=arguments.length>4&&void 0!==arguments[4]?arguments[4]:variableNameToPredicateMap,results={};debug.log("loadFromBindings:  subject: ".concat(solidSubject)),debug.log("                       doc: ".concat(doc)),bindings.forEach((function(binding){for(var key in binding){var result=binding[key],combined=JSON.stringify(result);results[key]=results[key]||new Set,results[key].add(combined)}}));var _loop=function _loop(key){var values=results[key];debug.log("    results ".concat(key," -> ").concat(values)),values.forEach((function(combined){var obj,result=JSON.parse(combined),type=result.type,value=result.value;if("uri"===type)obj=kb.sym(value);else{if("literal"!==type)throw new Error("loadFromBindings:  unexpected type: ".concat(type));obj=new _rdflib.Literal(value,result.language,result.datatype)}if("type"===key)wikidataIncomingClassMap[value]?obj=wikidataIncomingClassMap[value]:debug.warn("Unmapped Wikidata Class: "+value);else if("coordinates"===key){debug.log("         @@@ hey a point: "+value);var match=/.*\(([-0-9.-]*) ([-0-9.-]*)\)/.exec(value);if(match){var _float=ns.xsd("float"),latitude=new _rdflib.Literal(match[1],null,_float),longitude=new _rdflib.Literal(match[2],null,_float);kb.add(solidSubject,ns.schema("longitude"),longitude,doc),kb.add(solidSubject,ns.schema("latitude"),latitude,doc)}else debug.log("Bad coordinates syntax: "+value)}else{var pred=predMap[key]||ns.schema(key);kb.add(solidSubject,pred,obj,doc),debug.log("  public data ".concat(pred," ").concat(obj,"."))}}))};for(var key in results)_loop(key)}function ESCOResultToBindings(json){return json._embedded.results.map((function(result){return{name:{value:result.title,type:"literal"},subject:{type:"IRI",value:result.uri}}}))}function _queryESCODataByName(){return(_queryESCODataByName=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(filter,theClass,queryTarget){var _store$fetcher,limit,queryURI,response,text,json;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(queryTarget.searchByNameURI){_context.next=2;break}throw new Error("Missing queryTarget.searchByNameURI on queryESCODataByName");case 2:return limit=queryTarget.limit||200,queryURI=queryTarget.searchByNameURI.replace("$(name)",filter).replace("$(limit)",""+limit).replace("$(targetClass)",theClass.toNT()),debug.log("Querying ESCO data - uri: "+queryURI),_context.next=7,null===(_store$fetcher=_solidLogic.store.fetcher)||void 0===_store$fetcher?void 0:_store$fetcher.webOperation("GET",queryURI,fetcherOptionsJsonPublicData);case 7:if(response=_context.sent,text=(null==response?void 0:response.responseText)||"",debug.log("    Query result  text"+text.slice(0,500)+"..."),0!==text.length){_context.next=12;break}throw new Error("Wot no text back from ESCO query "+queryURI);case 12:return json=JSON.parse(text),debug.log("    ESCO Query result JSON"+JSON.stringify(json,null,4).slice(0,500)+"..."),_context.abrupt("return",ESCOResultToBindings(json));case 15:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function fixWikidataJSON(str){var syntaxProblem=str.indexOf("SPARQL-QUERY");if(syntaxProblem<0)return str;debug.warn("  ### Fixing JSON with wikidata error code injection "+str.slice(syntaxProblem,syntaxProblem+200));var goodness=str.lastIndexOf("}, {");return str.slice(0,goodness)+" } ] } } "}function _queryPublicDataByName(){return(_queryPublicDataByName=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(filter,theClass,languages,queryTarget){var substituteStrings,languagePrefs,language,sparql,queryURI,response,_store$fetcher2,text,text2,json,bindings;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(substituteStrings=function _substituteStrings(template){var limit=queryTarget.limit||200;return template.replace("$(name)",filter).replace("$(limit)",""+limit).replace("$(language)",language).replace("$(targetClass)",theClass.toNT())},theClass){_context2.next=3;break}throw new Error("queryPublicDataByName: No class provided");case 3:return _context2.next=5,(0,_language.getPreferredLanguages)();case 5:if(_context2.t0=_context2.sent,_context2.t0){_context2.next=8;break}_context2.t0=_language.defaultPreferredLanguages;case 8:if(languagePrefs=_context2.t0,language=languagePrefs[0]||"en",!queryTarget.searchByNameQuery){_context2.next=16;break}return sparql=substituteStrings(queryTarget.searchByNameQuery),debug.log("Querying public data - sparql: "+sparql),_context2.abrupt("return",queryPublicDataSelect(sparql,queryTarget));case 16:if(!queryTarget.searchByNameURI){_context2.next=46;break}return queryURI=substituteStrings(queryTarget.searchByNameURI),_context2.prev=18,_context2.next=21,null===(_store$fetcher2=_solidLogic.store.fetcher)||void 0===_store$fetcher2?void 0:_store$fetcher2.webOperation("GET",queryURI,fetcherOptionsJsonPublicData);case 21:response=_context2.sent,_context2.next=27;break;case 24:throw _context2.prev=24,_context2.t1=_context2.catch(18),new Error("Exception when trying to fetch ".concat(queryURI," \n ").concat(_context2.t1));case 27:if(text=response.responseText||"",200===response.status){_context2.next=30;break}throw new Error("HTTP error status ".concat(response.status," trying to fetch ").concat(queryURI," "));case 30:if(debug.log("    Query result  text"+text.slice(0,500)+"..."),0!==text.length){_context2.next=33;break}throw new Error("queryPublicDataByName: No text back from public data query "+queryURI);case 33:if(text2=fixWikidataJSON(text),json=JSON.parse(text2),debug.log("    API Query result JSON"+JSON.stringify(json,null,4).slice(0,500)+"..."),!json._embedded){_context2.next=42;break}return debug.log("      Looks like ESCO"),bindings=ESCOResultToBindings(json),_context2.abrupt("return",bindings);case 42:throw alert("Code me: unrecognized API return format"),new Error("*** Need to add code to parse unrecognized API JSON return\n".concat(JSON.stringify(json,null,4)));case 44:_context2.next=47;break;case 46:throw new Error("Query source must have either rest API or SPARQL endpoint.");case 47:case"end":return _context2.stop()}}),_callee2,null,[[18,24]])})))).apply(this,arguments)}function queryPublicDataSelect(_x8,_x9){return _queryPublicDataSelect.apply(this,arguments)}function _queryPublicDataSelect(){return(_queryPublicDataSelect=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(sparql,queryTarget){var _store$fetcher3,myUrlWithParams,queryURI,headers,options,response,text,text2,json,bindings;return _regenerator.default.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(queryTarget.endpoint){_context3.next=2;break}throw new Error("Missing queryTarget.endpoint required for queryPublicDataSelect");case 2:return(myUrlWithParams=new URL(queryTarget.endpoint)).searchParams.append("query",sparql),queryURI=myUrlWithParams.href,debug.log(" queryPublicDataSelect uri: "+queryURI),(headers=new Headers).append("Accept","application/json"),options={credentials:"omit",headers},_context3.next=11,null===(_store$fetcher3=_solidLogic.store.fetcher)||void 0===_store$fetcher3?void 0:_store$fetcher3.webOperation("GET",queryURI,options);case 11:if(response=_context3.sent,0!==(text=(null==response?void 0:response.responseText)||"").length){_context3.next=15;break}throw new Error("No text back from query "+queryURI);case 15:return text2=fixWikidataJSON(text),json=JSON.parse(text2),debug.log("    Query result JSON"+JSON.stringify(json,null,4).slice(0,100)+"..."),bindings=json.results.bindings,_context3.abrupt("return",bindings);case 20:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function queryPublicDataConstruct(_x10,_x11,_x12){return _queryPublicDataConstruct.apply(this,arguments)}function _queryPublicDataConstruct(){return(_queryPublicDataConstruct=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(sparql,pubicId,queryTarget){var _store$fetcher4,myUrlWithParams,queryURI,headers,options,response,text,report;return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(debug.log("queryPublicDataConstruct: sparql:",sparql),queryTarget.endpoint){_context4.next=3;break}throw new Error("Missing queryTarget.endpoint required for queryPublicDataConstruct");case 3:return(myUrlWithParams=new URL(queryTarget.endpoint)).searchParams.append("query",sparql),queryURI=myUrlWithParams.href,debug.log(" queryPublicDataConstruct uri: "+queryURI),(headers=new Headers).append("Accept","text/turtle"),options={credentials:"omit",headers},_context4.next=12,null===(_store$fetcher4=_solidLogic.store.fetcher)||void 0===_store$fetcher4?void 0:_store$fetcher4.webOperation("GET",queryURI,options);case 12:if(response=_context4.sent,text=(null==response?void 0:response.responseText)||"No response text?",report=text.length>500?text.slice(0,200)+" ... "+text.slice(-200):text,debug.log("    queryPublicDataConstruct result text:"+report),0!==text.length){_context4.next=18;break}throw new Error("queryPublicDataConstruct: No text back from construct query:"+queryURI);case 18:(0,_rdflib.parse)(text,_solidLogic.store,pubicId.uri,"text/turtle");case 19:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)}function _loadPublicDataThing(){return(_loadPublicDataThing=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee5(kb,subject,publicDataID){var iDToFetch,headers;return _regenerator.default.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!publicDataID.uri.startsWith("https://dbpedia.org/resource/")){_context5.next=4;break}return _context5.abrupt("return",getDbpediaDetails(kb,subject,publicDataID));case 4:if(!publicDataID.uri.match(/^https?:\/\/www\.wikidata\.org\/entity\/.*/)){_context5.next=9;break}return _context5.next=7,getWikidataDetails(kb,subject,publicDataID);case 7:_context5.next=13;break;case 9:return iDToFetch=publicDataID.uri.startsWith("http:")?kb.sym("https:"+publicDataID.uri.slice(5)):publicDataID,(headers=new Headers).append("Accept","text/turtle"),_context5.abrupt("return",kb.fetcher.load(iDToFetch,{credentials:"omit",headers}));case 13:case"end":return _context5.stop()}}),_callee5)})))).apply(this,arguments)}function getWikidataDetails(_x16,_x17,_x18){return _getWikidataDetails.apply(this,arguments)}function _getWikidataDetails(){return(_getWikidataDetails=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee6(kb,solidSubject,publicDataID){var sparql;return _regenerator.default.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return sparql=instituteDetailsWikidataQuery.replace(/wd:Q49108/g,publicDataID.toNT()),_context6.next=4,queryPublicDataConstruct(sparql,publicDataID,wikidataParameters);case 4:debug.log("getWikidataDetails: loaded.",publicDataID);case 5:case"end":return _context6.stop()}}),_callee6)})))).apply(this,arguments)}function _getWikidataDetailsOld(){return(_getWikidataDetailsOld=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee7(kb,solidSubject,publicDataID){var sparql,bindings;return _regenerator.default.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return sparql='select distinct *  where {\n  optional { $(subject)  wdt:P31  ?targetClass } # instance of\n  optional { $(subject)  wdt:P154  ?logo }\n  optional { $(subject)  wdt:P158  ?sealImage }\n# optional { $(subject)  wdt:P159  ?headquartersLocation }\n\noptional { $(subject)  wdt:P17  ?country }\noptional { $(subject)  wdt:P18  ?image }\noptional { $(subject)  wdt:P1813  ?shortName }\n\noptional { $(subject)  wdt:P355  ?subsidiary }\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(subjectRegexp,publicDataID.toNT()),_context7.next=3,queryPublicDataSelect(sparql,wikidataParameters);case 3:bindings=_context7.sent,loadFromBindings(kb,publicDataID,bindings,publicDataID.doc());case 5:case"end":return _context7.stop()}}),_callee7)})))).apply(this,arguments)}function _getWikidataLocation(){return(_getWikidataLocation=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee8(kb,solidSubject,publicDataID){var sparql,bindings;return _regenerator.default.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return sparql='select distinct *  where {\n\n  $(subject) wdt:P276 ?location .\n\n  optional { ?location  wdt:P2044  ?elevation }\n  optional { ?location  wdt:P131  ?region }\n  optional { ?location wdt:P625 ?coordinates }\noptional {  ?location  wdt:P17  ?country }\n\n# SERVICE wikibase:label { bd:serviceParam wikibase:language "fr,en,de,it" }\n}'.replace(subjectRegexp,publicDataID.toNT()),debug.log(" location query sparql:"+sparql),_context8.next=4,queryPublicDataSelect(sparql,wikidataParameters);case 4:bindings=_context8.sent,debug.log(" location query bindings:",bindings),loadFromBindings(kb,publicDataID,bindings,publicDataID.doc());case 7:case"end":return _context8.stop()}}),_callee8)})))).apply(this,arguments)}function getDbpediaDetails(_x25,_x26,_x27){return _getDbpediaDetails.apply(this,arguments)}function _getDbpediaDetails(){return(_getDbpediaDetails=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee9(kb,solidSubject,publicDataID){var sparql,bindings;return _regenerator.default.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return sparql="select distinct ?city, ?state, ?country, ?homepage, ?logo, ?lat, ?long,  WHERE {\n    OPTIONAL { <".concat(publicDataID,"> <http://dbpedia.org/ontology/city> ?city }\n    OPTIONAL { ").concat(publicDataID," <http://dbpedia.org/ontology/state> ?state }\n    OPTIONAL { ").concat(publicDataID," <http://dbpedia.org/ontology/country> ?country }\n    OPTIONAL { ").concat(publicDataID," foaf:homepage ?homepage }\n    OPTIONAL { ").concat(publicDataID," foaf:lat ?lat; foaf:long ?long }\n    OPTIONAL { ").concat(publicDataID," <http://dbpedia.org/ontology/country> ?country }\n   }"),_context9.next=3,queryPublicDataSelect(sparql,dbpediaParameters);case 3:bindings=_context9.sent,loadFromBindings(kb,publicDataID,bindings,publicDataID.doc()),debug.log("Finished getDbpediaDetails.");case 6:case"end":return _context9.stop()}}),_callee9)})))).apply(this,arguments)}exports.variableNameToPredicateMap=variableNameToPredicateMap},"./lib/widgets/forms/basic.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.basicField=function basicField(dom,container,already,subject,form,doc,callbackFunction){var kb=store,formDoc=form.doc?form.doc():null,box=dom.createElement("div"),property=kb.any(form,ns.ui("property"));container&&container.appendChild(box);if(!property)return box.appendChild((0,_error.errorMessageBlock)(dom,"Error: No property given for text field: "+form));var rhs=renderNameValuePair(dom,kb,box,form),suppressEmptyUneditable=kb.anyJS(form,ns.ui("suppressEmptyUneditable"),null,formDoc),uri=(0,_fieldFunction.mostSpecificClassURI)(form),params=_fieldParams.fieldParams[uri];void 0===params&&(params={style:""});var paramStyle=params.style||"",style=_style.textInputStyle+paramStyle,field=dom.createElement("input");field.style=style,rhs.appendChild(field),field.setAttribute("type",params.type?params.type:"text");var size=kb.anyJS(form,ns.ui("size"))||_style.textInputSize||20;field.setAttribute("size",size);var maxLength=kb.any(form,ns.ui("maxLength"));field.setAttribute("maxLength",maxLength?""+maxLength:"4096"),doc=doc||fieldStore(subject,property,doc);var obj=kb.any(subject,property,void 0,doc);obj||(obj=kb.any(form,ns.ui("default")));obj&&obj.value&&params.uriPrefix?field.value=decodeURIComponent(obj.value.replace(params.uriPrefix,"")).replace(/ /g,""):obj&&(field.value=obj.value||obj.value||"");if(field.setAttribute("style",style),!kb.updater)throw new Error("kb has no updater");if(!kb.updater.editable(doc.uri))return field.readOnly=!0,field.style=_style.textInputStyleUneditable+paramStyle,suppressEmptyUneditable&&""===field.value&&(box.style.display="none"),box;return field.addEventListener("keyup",(function(_e){params.pattern&&field.setAttribute("style",style+(field.value.match(params.pattern)?"color: green;":"color: red;"))}),!0),field.addEventListener("change",(function(_e){if(!params.pattern||field.value.match(params.pattern)){field.disabled=!0,field.setAttribute("style",style+"color: gray;");var result,ds=kb.statementsMatching(subject,property);params.namedNode?result=kb.sym(field.value):params.uriPrefix?(result=encodeURIComponent(field.value.replace(/ /g,"")),result=kb.sym(params.uriPrefix+field.value)):result=params.dt?new _rdflib.Literal(field.value.trim(),void 0,ns.xsd(params.dt)):new _rdflib.Literal(field.value);var is=ds.map((function(statement){return(0,_rdflib.st)(statement.subject,statement.predicate,result,statement.why)}));0===is.length&&(is=[(0,_rdflib.st)(subject,property,result,doc)]),function updateMany(ds,is,callback){var docs=[];if(is.forEach((function(st){docs.includes(st.why.uri)||docs.push(st.why.uri)})),ds.forEach((function(st){docs.includes(st.why.uri)||docs.push(st.why.uri)})),0===docs.length)throw new Error("updateMany has no docs to patch");if(!kb.updater)throw new Error("kb has no updater");if(1===docs.length)return kb.updater.update(ds,is,callback);var doc=docs.pop(),is1=is.filter((function(st){return st.why.uri===doc})),is2=is.filter((function(st){return st.why.uri!==doc})),ds1=ds.filter((function(st){return st.why.uri===doc})),ds2=ds.filter((function(st){return st.why.uri!==doc}));kb.updater.update(ds1,is1,(function(uri,ok,body){ok?updateMany(ds2,is2,callback):callback(uri,ok,body)}))}(ds,is,(function(uri,ok,body){ok?(field.disabled=!1,field.setAttribute("style",style)):box.appendChild((0,_error.errorMessageBlock)(dom,body)),callbackFunction(ok,body)}))}}),!0),box},exports.fieldLabel=fieldLabel,exports.fieldStore=fieldStore,exports.renderNameValuePair=renderNameValuePair;var _rdflib=__webpack_require__("./node_modules/rdflib/esm/index.js"),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),ns=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./lib/ns.js")),_style=__webpack_require__("./lib/style.js"),_utils=__webpack_require__("./lib/utils/index.js"),_error=__webpack_require__("./lib/widgets/error.js"),_fieldFunction=__webpack_require__("./lib/widgets/forms/fieldFunction.js"),_fieldParams=__webpack_require__("./lib/widgets/forms/fieldParams.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}var store=_solidLogic.solidLogicSingleton.store;function renderNameValuePair(dom,kb,box,form,label){box.style.display="flex",box.style.flexDirection="row";var lhs=box.appendChild(dom.createElement("div"));lhs.style.width=_style.formFieldNameBoxWidth;var rhs=box.appendChild(dom.createElement("div"));return lhs.setAttribute("class","formFieldName"),lhs.setAttribute("style",_style.formFieldNameBoxStyle),rhs.setAttribute("class","formFieldValue"),label?lhs.appendChild(dom.createTextNode(label)):kb.any(form,ns.ui("property"))?lhs.appendChild(fieldLabel(dom,kb.any(form,ns.ui("property")),form)):(rhs.appendChild((0,_error.errorMessageBlock)(dom,"No property or label given for form field: "+form)),lhs.appendChild(dom.createTextNode("???"))),rhs}function fieldLabel(dom,property,fieldInQuestion){var lab=store.any(fieldInQuestion,ns.ui("label"));if(lab||(lab=(0,_utils.label)(property,!0)),void 0===property)return dom.createTextNode("@@Internal error: undefined property");var anchor=dom.createElement("a");return property.uri&&anchor.setAttribute("href",property.uri),anchor.setAttribute("style","color: #3B5998; text-decoration: none;"),anchor.textContent=lab,anchor}function fieldStore(subject,predicate,def){var sts=store.statementsMatching(subject,predicate);if(0===sts.length)return def;if(!store.updater)throw new Error("Store has no updater");return sts.length>0&&sts[0].why.value&&store.updater.editable(sts[0].why.value,store)?store.sym(sts[0].why.value):def}},"./lib/widgets/forms/fieldFunction.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.field=void 0,exports.fieldFunction=function fieldFunction(dom,fieldInQuestion){var uri=mostSpecificClassURI(fieldInQuestion),fun=field[uri];if((0,_log.debug)("paneUtils: Going to implement field "+fieldInQuestion+" of type "+uri),!fun)return function(dom2,container){var box=(0,_error.errorMessageBlock)(dom2,"No handler for field "+fieldInQuestion+" of type "+uri);return container&&container.appendChild(box),box};return fun},exports.mostSpecificClassURI=mostSpecificClassURI;var _solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),_log=__webpack_require__("./lib/log.js"),_error=__webpack_require__("./lib/widgets/error.js"),store=_solidLogic.solidLogicSingleton.store,field={};function mostSpecificClassURI(x){var kb=store,ft=kb.findTypeURIs(x),bot=kb.bottomTypeURIs(ft),bots=[];for(var b in bot)bots.push(b);return bots[0]}exports.field=field},"./lib/widgets/forms/fieldParams.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.fieldParams=void 0;var _fieldParams,_defineProperty2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js")),ns=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./lib/ns.js")),_style=__webpack_require__("./lib/style.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}var fieldParams=(_fieldParams={},(0,_defineProperty2.default)(_fieldParams,ns.ui("ColorField").uri,{size:9,type:"color",style:"height: 3em;",dt:"color",pattern:/^\s*#[0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f]([0-9a-f][0-9a-f])?\s*$/}),(0,_defineProperty2.default)(_fieldParams,ns.ui("DateField").uri,{size:20,type:"date",dt:"date",pattern:/^\s*[0-9][0-9][0-9][0-9](-[0-1]?[0-9]-[0-3]?[0-9])?Z?\s*$/}),(0,_defineProperty2.default)(_fieldParams,ns.ui("DateTimeField").uri,{size:20,type:"datetime-local",dt:"dateTime",pattern:/^\s*[0-9][0-9][0-9][0-9](-[0-1]?[0-9]-[0-3]?[0-9])?(T[0-2][0-9]:[0-5][0-9](:[0-5][0-9])?)?Z?\s*$/}),(0,_defineProperty2.default)(_fieldParams,ns.ui("TimeField").uri,{size:10,type:"time",dt:"time",pattern:/^\s*([0-2]?[0-9]:[0-5][0-9](:[0-5][0-9])?)\s*$/}),(0,_defineProperty2.default)(_fieldParams,ns.ui("IntegerField").uri,{size:12,style:"text-align: right;",dt:"integer",pattern:/^\s*-?[0-9]+\s*$/}),(0,_defineProperty2.default)(_fieldParams,ns.ui("DecimalField").uri,{size:12,style:"text-align: right;",dt:"decimal",pattern:/^\s*-?[0-9]*(\.[0-9]*)?\s*$/}),(0,_defineProperty2.default)(_fieldParams,ns.ui("FloatField").uri,{size:12,style:"text-align: right;",dt:"float",pattern:/^\s*-?[0-9]*(\.[0-9]*)?((e|E)-?[0-9]*)?\s*$/}),(0,_defineProperty2.default)(_fieldParams,ns.ui("SingleLineTextField").uri,{}),(0,_defineProperty2.default)(_fieldParams,ns.ui("NamedNodeURIField").uri,{namedNode:!0}),(0,_defineProperty2.default)(_fieldParams,ns.ui("TextField").uri,{}),(0,_defineProperty2.default)(_fieldParams,ns.ui("PhoneField").uri,{size:20,uriPrefix:"tel:",pattern:/^\+?[\d-]+[\d]*$/}),(0,_defineProperty2.default)(_fieldParams,ns.ui("EmailField").uri,{size:30,uriPrefix:"mailto:",pattern:/^\s*.*@.*\..*\s*$/}),(0,_defineProperty2.default)(_fieldParams,ns.ui("Group").uri,{style:_style.formGroupStyle}),(0,_defineProperty2.default)(_fieldParams,ns.ui("Comment").uri,{element:"p",style:_style.commentStyle}),(0,_defineProperty2.default)(_fieldParams,ns.ui("Heading").uri,{element:"h3",style:_style.formHeadingStyle}),_fieldParams);exports.fieldParams=fieldParams},"./lib/widgets/forms/formStyle.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.setFieldStyle=function setFieldStyle(ele,field){var classUri=(0,_fieldFunction.mostSpecificClassURI)(field),params=_fieldParams.fieldParams[classUri]||{},style=_solidLogic.store.any(field,ns.ui("style"));if(!style)return void(params.style&&ele.setAttribute("style",params.style));if("Literal"===style.termType)style&&ele.setAttribute("style",style.value);else{_solidLogic.store.statementsMatching(style,null,null,field.doc()).forEach((function(st){if(st.predicate.uri&&st.predicate.uri.startsWith("https://www.w3.org/ns/css#")){var cssAttribute=st.predicate.uri.slice("https://www.w3.org/ns/css#".length);try{ele.style[cssAttribute]=st.object.value}catch(err){console.warn("setFieldStyle: Error setting element style ".concat(cssAttribute,' to "').concat(st.object.value,'"')),console.warn('setFieldStyle:   ... Element tagName was "'.concat(ele.tagName||"???",'"'))}}}))}};var ns=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./lib/ns.js")),_solidLogic=__webpack_require__("./node_modules/solid-logic/lib/index.js"),_fieldParams=__webpack_require__("./lib/widgets/forms/fieldParams.js"),_fieldFunction=__webpack_require__("./lib/widgets/forms/fieldFunction.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}},"./lib/widgets/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0});var _exportNames={publicData:!0};exports.publicData=void 0;var _peoplePicker=__webpack_require__("./lib/widgets/peoplePicker.js");Object.keys(_peoplePicker).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||key in exports&&exports[key]===_peoplePicker[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _peoplePicker[key]}}))}));var _dragAndDrop=__webpack_require__("./lib/widgets/dragAndDrop.js");Object.keys(_dragAndDrop).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||key in exports&&exports[key]===_dragAndDrop[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _dragAndDrop[key]}}))}));var _buttons=__webpack_require__("./lib/widgets/buttons.js");Object.keys(_buttons).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||key in exports&&exports[key]===_buttons[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _buttons[key]}}))}));var _iconLinks=__webpack_require__("./lib/widgets/buttons/iconLinks.js");Object.keys(_iconLinks).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||key in exports&&exports[key]===_iconLinks[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _iconLinks[key]}}))}));var _error=__webpack_require__("./lib/widgets/error.js");Object.keys(_error).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||key in exports&&exports[key]===_error[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _error[key]}}))}));var _forms=__webpack_require__("./lib/widgets/forms.js");Object.keys(_forms).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||key in exports&&exports[key]===_forms[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _forms[key]}}))}));var _autocompleteBar=__webpack_require__("./lib/widgets/forms/autocomplete/autocompleteBar.js");Object.keys(_autocompleteBar).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||key in exports&&exports[key]===_autocompleteBar[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _autocompleteBar[key]}}))}));var _autocompletePicker=__webpack_require__("./lib/widgets/forms/autocomplete/autocompletePicker.js");Object.keys(_autocompletePicker).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||key in exports&&exports[key]===_autocompletePicker[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _autocompletePicker[key]}}))}));var _publicData=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./lib/widgets/forms/autocomplete/publicData.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}exports.publicData=_publicData},"./lib/widgets/peoplePicker.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Person=exports.PeoplePicker=exports.GroupPicker=exports.GroupBuilder=exports.Group=void 0;var _templateObject,_taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js")),_classCallCheck2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/classCallCheck.js")),_createClass2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/createClass.js")),_escapeHtml=_interopRequireDefault(__webpack_require__("./node_modules/escape-html/index.js")),_uuid=_interopRequireDefault(__webpack_require__("./node_modules/uuid/dist/esm-browser/index.js")),rdf=_interopRequireWildcard(__webpack_require__("./node_modules/rdflib/esm/index.js")),debug=_interopRequireWildcard(__webpack_require__("./lib/debug.js")),_dragAndDrop=__webpack_require__("./lib/widgets/dragAndDrop.js"),_error=__webpack_require__("./lib/widgets/error.js"),_iconBase=__webpack_require__("./lib/iconBase.js"),ns=_interopRequireWildcard(__webpack_require__("./lib/ns.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var kb=__webpack_require__("./node_modules/solid-logic/lib/index.js").solidLogicSingleton.store,PeoplePicker=function(){function PeoplePicker(element,typeIndex,groupPickedCb,options){(0,_classCallCheck2.default)(this,PeoplePicker),this.options=options||{},this.element=element,this.typeIndex=typeIndex,this.groupPickedCb=groupPickedCb,this.selectedgroup=this.options.selectedgroup,this.onSelectGroup=this.onSelectGroup.bind(this)}return(0,_createClass2.default)(PeoplePicker,[{key:"render",value:function render(){var _this=this,container=document.createElement("div");if(container.style.maxWidth="350px",container.style.minHeight="200px",container.style.outline="1px solid black",container.style.display="flex",this.selectedgroup){container.style.flexDirection="column";var selectedGroup=document.createElement("div");new Group(selectedGroup,this.selectedgroup).render();var changeGroupButton=document.createElement("button");changeGroupButton.textContent=(0,_escapeHtml.default)("Change group"),changeGroupButton.addEventListener("click",(function(_event){_this.selectedgroup=null,_this.render()})),container.appendChild(selectedGroup),container.appendChild(changeGroupButton)}else this.findAddressBook(this.typeIndex).then((function(_ref){var book=_ref.book,chooseExistingGroupButton=document.createElement("button");chooseExistingGroupButton.textContent=(0,_escapeHtml.default)("Pick an existing group"),chooseExistingGroupButton.style.margin="auto",chooseExistingGroupButton.addEventListener("click",(function(_event){new GroupPicker(container,book,_this.onSelectGroup).render()}));var createNewGroupButton=document.createElement("button");createNewGroupButton.textContent=(0,_escapeHtml.default)("Create a new group"),createNewGroupButton.style.margin="auto",createNewGroupButton.addEventListener("click",(function(_event){_this.createNewGroup(book,_this.options.defaultNewGroupName).then((function(_ref2){var group=_ref2.group;new GroupBuilder(_this.element,book,group,_this.onSelectGroup).render()})).catch((function(errorBody){_this.element.appendChild((0,_error.errorMessageBlock)(document,(0,_escapeHtml.default)("Error creating a new group. (".concat(errorBody,")"))))}))})),container.appendChild(chooseExistingGroupButton),container.appendChild(createNewGroupButton),_this.element.innerHTML="",_this.element.appendChild(container)})).catch((function(err){_this.element.appendChild((0,_error.errorMessageBlock)(document,(0,_escapeHtml.default)("Could find your groups. (".concat(err,")"))))}));return this.element.innerHTML="",this.element.appendChild(container),this}},{key:"findAddressBook",value:function findAddressBook(typeIndex){return new Promise((function(resolve,reject){kb.fetcher.nowOrWhenFetched(typeIndex,(function(ok,err){if(!ok)return reject(err);var bookRegistration=kb.any(null,ns.solid("forClass"),ns.vcard("AddressBook"));if(!bookRegistration)return reject(new Error("no address book registered in the solid type index "+typeIndex));var book=kb.any(bookRegistration,ns.solid("instance"));if(!book)return reject(new Error("incomplete address book registration"));kb.fetcher.load(book).then((function(_xhr){return resolve({book})})).catch((function(err){return reject(new Error("Could not load address book "+err))}))}))}))}},{key:"createNewGroup",value:function createNewGroup(book,defaultNewGroupName){var _indexes=indexes(book),groupIndex=_indexes.groupIndex,groupContainer=_indexes.groupContainer,group=rdf.sym("".concat(groupContainer.uri).concat(_uuid.default.v4().slice(0,8),".ttl#this")),name=defaultNewGroupName||"Untitled Group",patchPromises=[group.doc(),groupIndex].map((function(doc){var typeStatement=rdf.st(group,ns.rdf("type"),ns.vcard("Group"),doc),nameStatement=rdf.st(group,ns.vcard("fn"),name,group.doc(),doc),includesGroupStatement=rdf.st(book,ns.vcard("includesGroup"),group,doc),toIns=doc.equals(groupIndex)?[typeStatement,nameStatement,includesGroupStatement]:[typeStatement,nameStatement];return patch(doc.uri,{toIns}).then((function(){toIns.forEach((function(st){kb.add(st)}))}))}));return Promise.all(patchPromises).then((function(){return{group}})).catch((function(err){throw debug.log("Could not create new group.  PATCH failed "+err),new Error("Couldn't create new group.  PATCH failed for (".concat(err.xhr?err.xhr.responseURL:""," )"))}))}},{key:"onSelectGroup",value:function onSelectGroup(group){this.selectedgroup=group,this.groupPickedCb(group),this.render()}}]),PeoplePicker}();exports.PeoplePicker=PeoplePicker;var GroupPicker=function(){function GroupPicker(element,book,onSelectGroup){(0,_classCallCheck2.default)(this,GroupPicker),this.element=element,this.book=book,this.onSelectGroup=onSelectGroup}return(0,_createClass2.default)(GroupPicker,[{key:"render",value:function render(){var _this2=this;return this.loadGroups().then((function(groups){var container=document.createElement("div");container.style.display="flex",container.style.flexDirection="column",groups.forEach((function(group){var groupButton=document.createElement("button");groupButton.addEventListener("click",_this2.handleClickGroup(group)),new Group(groupButton,group).render(),container.appendChild(groupButton)})),_this2.element.innerHTML="",_this2.element.appendChild(container)})).catch((function(err){_this2.element.appendChild((0,_error.errorMessageBlock)(document,(0,_escapeHtml.default)("There was an error loading your groups. (".concat(err,")"))))})),this}},{key:"loadGroups",value:function loadGroups(){var _this3=this;return new Promise((function(resolve,reject){var groupIndex=indexes(_this3.book).groupIndex;kb.fetcher.nowOrWhenFetched(groupIndex,(function(ok,err){if(!ok)return reject(err);var groups=kb.each(_this3.book,ns.vcard("includesGroup"));return resolve(groups)}))}))}},{key:"handleClickGroup",value:function handleClickGroup(group){var _this4=this;return function(_event){_this4.onSelectGroup(group)}}}]),GroupPicker}();exports.GroupPicker=GroupPicker;var Group=function(){function Group(element,group){(0,_classCallCheck2.default)(this,Group),this.element=element,this.group=group}return(0,_createClass2.default)(Group,[{key:"render",value:function render(){var container=document.createElement("div");return container.textContent=(0,_escapeHtml.default)(getWithDefault(this.group,ns.vcard("fn"),"[".concat(this.group.value,"]"))),this.element.innerHTML="",this.element.appendChild(container),this}}]),Group}();exports.Group=Group;var GroupBuilder=function(){function GroupBuilder(element,book,group,doneBuildingCb,groupChangedCb){(0,_classCallCheck2.default)(this,GroupBuilder),this.element=element,this.book=book,this.group=group,this.onGroupChanged=function(err,changeType,agent){groupChangedCb&&groupChangedCb(err,changeType,agent)},this.groupChangedCb=groupChangedCb,this.doneBuildingCb=doneBuildingCb}return(0,_createClass2.default)(GroupBuilder,[{key:"refresh",value:function refresh(){}},{key:"render",value:function render(){var _this5=this,dropContainer=document.createElement("div");dropContainer.style.maxWidth="350px",dropContainer.style.minHeight="200px",dropContainer.style.outline="1px solid black",dropContainer.style.display="flex",dropContainer.style.flexDirection="column",(0,_dragAndDrop.makeDropTarget)(dropContainer,(function(uris){uris.forEach((function(uri){_this5.add(uri).catch((function(err){_this5.element.appendChild((0,_error.errorMessageBlock)(document,(0,_escapeHtml.default)("Could not add the given WebId. (".concat(err,")"))))}))}))}));var groupNameInput=document.createElement("input");groupNameInput.type="text",groupNameInput.value=getWithDefault(this.group,ns.vcard("fn"),"Untitled Group"),groupNameInput.addEventListener("change",(function(event){_this5.setGroupName(event.target.value).catch((function(err){_this5.element.appendChild((0,_error.errorMessageBlock)(document,"Error changing group name. (".concat(err,")")))}))}));var groupNameLabel=document.createElement("label");if(groupNameLabel.textContent=(0,_escapeHtml.default)("Group Name:"),groupNameLabel.appendChild(groupNameInput),dropContainer.appendChild(groupNameLabel),kb.any(this.group,ns.vcard("hasMember")))kb.match(this.group,ns.vcard("hasMember")).forEach((function(statement){var webIdNode=statement.object,personDiv=document.createElement("div");new Person(personDiv,webIdNode,_this5.handleRemove(webIdNode)).render(),dropContainer.appendChild(personDiv)}));else{var copy=document.createElement("p");copy.textContent=(0,_escapeHtml.default)(_templateObject||(_templateObject=(0,_taggedTemplateLiteral2.default)(["\n        To add someone to this group, drag and drop their WebID URL onto the box.\n      "]))),dropContainer.appendChild(copy)}var doneBuildingButton=document.createElement("button");return doneBuildingButton.textContent=(0,_escapeHtml.default)("Done"),doneBuildingButton.addEventListener("click",(function(_event){_this5.doneBuildingCb(_this5.group)})),dropContainer.appendChild(doneBuildingButton),this.element.innerHTML="",this.element.appendChild(dropContainer),this}},{key:"add",value:function add(webId){var _this6=this;return new Promise((function(resolve,reject){kb.fetcher.nowOrWhenFetched(webId,(function(ok,err){if(!ok)return _this6.onGroupChanged(err),reject(err);var webIdNode=rdf.namedNode(webId),rdfClass=kb.any(webIdNode,ns.rdf("type"));return rdfClass&&rdfClass.equals(ns.foaf("Person"))?resolve(webIdNode):reject(new Error("Only people supported right now. (tried to add something of type ".concat(rdfClass.value,")")))}))})).then((function(webIdNode){var statement=rdf.st(_this6.group,ns.vcard("hasMember"),webIdNode);return kb.holdsStatement(statement)?webIdNode:patch(_this6.group.doc().uri,{toIns:[statement]}).then((function(){statement.why=_this6.group.doc(),kb.add(statement),_this6.onGroupChanged(null,"added",webIdNode),_this6.render()}))}))}},{key:"handleRemove",value:function handleRemove(webIdNode){var _this7=this;return function(_event){var statement=rdf.st(_this7.group,ns.vcard("hasMember"),webIdNode);return patch(_this7.group.doc().uri,{toDel:[statement]}).then((function(){return kb.remove(statement),_this7.onGroupChanged(null,"removed",webIdNode),_this7.render(),!0})).catch((function(err){var name=kb.any(webIdNode,ns.foaf("name")),errorMessage=name&&name.value?"Could not remove ".concat(name.value,". (").concat(err,")"):"Could not remove ".concat(webIdNode.value,". (").concat(err,")");throw new Error(errorMessage)}))}}},{key:"setGroupName",value:function setGroupName(name){var _this8=this,groupIndex=indexes(this.book).groupIndex,updatePromises=[this.group.doc(),groupIndex].map((function(namedGraph){var oldNameStatements=kb.match(_this8.group,ns.vcard("fn"),null,namedGraph),newNameStatement=rdf.st(_this8.group,ns.vcard("fn"),rdf.literal(name));return patch(namedGraph.value,{toDel:oldNameStatements,toIns:[newNameStatement]}).then((function(_solidResponse){kb.removeStatements(oldNameStatements),newNameStatement.why=namedGraph,kb.add(newNameStatement)}))}));return Promise.all(updatePromises)}}]),GroupBuilder}();exports.GroupBuilder=GroupBuilder;var Person=function(){function Person(element,webIdNode,handleRemove){(0,_classCallCheck2.default)(this,Person),this.webIdNode=webIdNode,this.element=element,this.handleRemove=handleRemove}return(0,_createClass2.default)(Person,[{key:"render",value:function render(){var _this9=this,container=document.createElement("div");container.style.display="flex";var imgSrc=getWithDefault(this.webIdNode,ns.foaf("img"),_iconBase.iconBase+"noun_15059.svg"),profileImg=document.createElement("img");profileImg.src=(0,_escapeHtml.default)(imgSrc),profileImg.width="50",profileImg.height="50",profileImg.style.margin="5px";var name=getWithDefault(this.webIdNode,ns.foaf("name"),"[".concat(this.webIdNode,"]")),nameSpan=document.createElement("span");nameSpan.innerHTML=(0,_escapeHtml.default)(name),nameSpan.style.flexGrow="1",nameSpan.style.margin="auto 0";var removeButton=document.createElement("button");return removeButton.textContent="Remove",removeButton.addEventListener("click",(function(_event){return _this9.handleRemove().catch((function(err){_this9.element.appendChild((0,_error.errorMessageBlock)(document,(0,_escapeHtml.default)("".concat(err))))}))})),removeButton.style.margin="5px",container.appendChild(profileImg),container.appendChild(nameSpan),container.appendChild(removeButton),this.element.innerHTML="",this.element.appendChild(container),this}}]),Person}();function getWithDefault(subject,predicate,defaultValue){var object=kb.any(subject,predicate);return object?object.value:defaultValue}function patch(url,_ref3){var toDel=_ref3.toDel,toIns=_ref3.toIns;return new Promise((function(resolve,reject){kb.updater.update(toDel,toIns,(function(uri,success,errorMessage){if(!success)return reject(new Error("PATCH failed for resource <".concat(uri,">: ").concat(errorMessage)));resolve()}))}))}function indexes(book){return{groupIndex:kb.any(book,ns.vcard("groupIndex")),groupContainer:kb.sym(book.dir().uri+"Group/")}}exports.Person=Person},"./lib/widgets/widgetHelpers.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrapDivInATR=exports.createImageDiv=exports.addClickListenerToElement=void 0;var _style=__webpack_require__("./lib/style.js");exports.wrapDivInATR=function wrapDivInATR(dom,div,obj){var tr=dom.createElement("tr");return tr.appendChild(dom.createElement("td")).appendChild(div),tr.subject=obj,tr};exports.addClickListenerToElement=function addClickListenerToElement(div,onClickFunction){div.addEventListener("click",onClickFunction)};exports.createImageDiv=function createImageDiv(dom,div,image){var imageDiv=div.appendChild(dom.createElement("div"));imageDiv.setAttribute("style",_style.imageDivStyle),imageDiv.appendChild(image),image.setAttribute("draggable","false")}},"./src/stories/decorators.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>rawJsonDecorator});var rawJsonDecorator=function rawJsonDecorator(Story){return"<pre>"+JSON.stringify(Story(),null,2)+"</pre>"}},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/html/dist/esm/client/index.js")},"./src/stories/Buttons.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{buttonWithIcon:()=>buttonWithIcon,cancelButton:()=>cancelButton,continueButton:()=>continueButton,default:()=>__WEBPACK_DEFAULT_EXPORT__,deleteButton:()=>deleteButton,fileUploadButton:()=>fileUploadButton,linkButton:()=>linkButton,linkCustomIcon:()=>linkCustomIcon,linkIcon:()=>linkIcon,primary:()=>primary,primaryNeedsBorder:()=>primaryNeedsBorder,removeButton:()=>removeButton,secondary:()=>secondary,secondaryNeedsBorder:()=>secondaryNeedsBorder});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"Buttons",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"button-with-text-no-border"},"Button with text (no border)"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Primary",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.button(document,void 0,"Primary",(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Secondary",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.button(document,void 0,"Secondary",(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked"),{buttonColor:"Secondary"}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"button-with-text-needs-border"},"Button with text (needs border)"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Primary (needs border)",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.button(document,void 0,"Secondary",(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked"),{needsBorder:!0})),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Secondary (needs border)",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.button(document,void 0,"Secondary",(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked"),{buttonColor:"Secondary",needsBorder:!0}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"continue--cancel-button"},"Continue & Cancel button"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Continue button",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.continueButton(document,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Cancel button",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.cancelButton(document,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"delete-button"},"Delete button"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Delete button",mdxType:"Story"},(function(){var div=document.createElement("div");_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.deleteButtonWithCheck(document,div,"something",(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("deleted"));return div}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"button-with-icon"},"Button with icon"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Button with icon",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.button(document,"https://solidproject.org/assets/img/solid-emblem.svg","test",(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked!")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"file-upload-button"},"File upload button"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"File upload button",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.fileUploadButtonDiv(document,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("uploaded")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"link-button"},"Link button"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Link button",mdxType:"Story"},(function(){return document.outlineManager={GotoSubject:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("go to subject")},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.linkButton(document,_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/"))}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"link-icon"},"Link icon"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Link icon",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.linkIcon(document,_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://solidproject.org/"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Link custom icon",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.linkIcon(document,_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://solidproject.org/"),"https://solidproject.org/favicon.ico"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"remove-button"},"Remove button"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Remove button",mdxType:"Story"},(function(){var div=document.createElement("div"),p=document.createElement("p");p.appendChild(document.createTextNode("click x to remove me"));var button=_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.removeButton(document,p);return div.appendChild(p),div.appendChild(button),div}))))}MDXContent.isMDXComponent=!0;var primary=function primary(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.button(document,void 0,"Primary",(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked"))};primary.storyName="Primary",primary.parameters={storySource:{source:'UI.widgets.button(document, undefined, "Primary", action("clicked"))'}};var secondary=function secondary(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.button(document,void 0,"Secondary",(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked"),{buttonColor:"Secondary"})};secondary.storyName="Secondary",secondary.parameters={storySource:{source:'UI.widgets.button(document, undefined, "Secondary", action("clicked"), {\n  buttonColor: "Secondary"\n})'}};var primaryNeedsBorder=function primaryNeedsBorder(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.button(document,void 0,"Secondary",(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked"),{needsBorder:!0})};primaryNeedsBorder.storyName="Primary (needs border)",primaryNeedsBorder.parameters={storySource:{source:'UI.widgets.button(document, undefined, "Secondary", action("clicked"), {\n  needsBorder: true\n})'}};var secondaryNeedsBorder=function secondaryNeedsBorder(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.button(document,void 0,"Secondary",(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked"),{buttonColor:"Secondary",needsBorder:!0})};secondaryNeedsBorder.storyName="Secondary (needs border)",secondaryNeedsBorder.parameters={storySource:{source:'UI.widgets.button(document, undefined, "Secondary", action("clicked"), {\n  buttonColor: "Secondary",\n  needsBorder: true\n})'}};var continueButton=function continueButton(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.continueButton(document,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked"))};continueButton.storyName="Continue button",continueButton.parameters={storySource:{source:'UI.widgets.continueButton(document, action("clicked"))'}};var cancelButton=function cancelButton(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.cancelButton(document,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked"))};cancelButton.storyName="Cancel button",cancelButton.parameters={storySource:{source:'UI.widgets.cancelButton(document, action("clicked"))'}};var deleteButton=function deleteButton(){var div=document.createElement("div");_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.deleteButtonWithCheck(document,div,"something",(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("deleted"));return div};deleteButton.storyName="Delete button",deleteButton.parameters={storySource:{source:"() => {\n  const div = document.createElement(\"div\");\n  const result = UI.widgets.deleteButtonWithCheck(document, div, 'something', action('deleted'));\n  return div;\n}"}};var buttonWithIcon=function buttonWithIcon(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.button(document,"https://solidproject.org/assets/img/solid-emblem.svg","test",(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("clicked!"))};buttonWithIcon.storyName="Button with icon",buttonWithIcon.parameters={storySource:{source:"UI.widgets.button(document, 'https://solidproject.org/assets/img/solid-emblem.svg', 'test', action('clicked!'))"}};var fileUploadButton=function fileUploadButton(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.fileUploadButtonDiv(document,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("uploaded"))};fileUploadButton.storyName="File upload button",fileUploadButton.parameters={storySource:{source:"UI.widgets.fileUploadButtonDiv(document, action('uploaded'))"}};var linkButton=function linkButton(){return document.outlineManager={GotoSubject:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("go to subject")},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.linkButton(document,_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/"))};linkButton.storyName="Link button",linkButton.parameters={storySource:{source:"() => {\n  document.outlineManager = {\n    GotoSubject: action('go to subject')\n  };\n  return UI.widgets.linkButton(document, UI.rdf.namedNode('http://example.com/'));\n}"}};var linkIcon=function linkIcon(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.linkIcon(document,_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://solidproject.org/"))};linkIcon.storyName="Link icon",linkIcon.parameters={storySource:{source:"UI.widgets.linkIcon(document, UI.rdf.namedNode('https://solidproject.org/'))"}};var linkCustomIcon=function linkCustomIcon(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.linkIcon(document,_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://solidproject.org/"),"https://solidproject.org/favicon.ico")};linkCustomIcon.storyName="Link custom icon",linkCustomIcon.parameters={storySource:{source:"UI.widgets.linkIcon(document, UI.rdf.namedNode('https://solidproject.org/'), 'https://solidproject.org/favicon.ico')"}};var removeButton=function removeButton(){var div=document.createElement("div"),p=document.createElement("p");p.appendChild(document.createTextNode("click x to remove me"));var button=_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.removeButton(document,p);return div.appendChild(p),div.appendChild(button),div};removeButton.storyName="Remove button",removeButton.parameters={storySource:{source:"() => {\n  const div = document.createElement('div');\n  const p = document.createElement('p');\n  p.appendChild(document.createTextNode('click x to remove me'));\n  const button = UI.widgets.removeButton(document, p);\n  div.appendChild(p);\n  div.appendChild(button);\n  return div;\n}"}};var componentMeta={title:"Buttons",includeStories:["primary","secondary","primaryNeedsBorder","secondaryNeedsBorder","continueButton","cancelButton","deleteButton","buttonWithIcon","fileUploadButton","linkButton","linkIcon","linkCustomIcon","removeButton"]},mdxStoryNameToKey={Primary:"primary",Secondary:"secondary","Primary (needs border)":"primaryNeedsBorder","Secondary (needs border)":"secondaryNeedsBorder","Continue button":"continueButton","Cancel button":"cancelButton","Delete button":"deleteButton","Button with icon":"buttonWithIcon","File upload button":"fileUploadButton","Link button":"linkButton","Link icon":"linkIcon","Link custom icon":"linkCustomIcon","Remove button":"removeButton"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/DateTime.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,formatDateTime:()=>formatDateTime,formatDateTimeDate:()=>formatDateTimeDate,formatDateTimeTime:()=>formatDateTimeTime,shortDateNotTodayWithoutTime:()=>shortDateNotTodayWithoutTime,shortDateTodayWithTime:()=>shortDateTodayWithTime,shortDateTodayWithoutTime:()=>shortDateTodayWithoutTime,shortDateWithTimeButNotToday:()=>shortDateWithTimeButNotToday,shortTime:()=>shortTime,timestamp:()=>timestamp});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-iso-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./lib/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.h_,{title:"Date & Time",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("h2",{id:"formatdatetime"},"formatDateTime"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#formatdatetime",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"formatDateTime",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.formatDateTime(new Date,"{FullYear}-{Month}-{Date}T{Hours}:{Minutes}:{Seconds}.{Milliseconds}"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"formatDateTime date",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.formatDateTime(new Date,"{Date}.{Month}.{Year}"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"formatDateTime time",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.formatDateTime(new Date,"{Hours}:{Minutes}:{Seconds}"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("h2",{id:"shortdate"},"shortDate"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,"By default, converts e.g. '2020-02-19T19:35:28.557Z' to '19:35' if today is 19 Feb 2020, and to 'Feb 19' if not."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#shortdate",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"shortDate (not today & without time)",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.shortDate("2020-01-01T15:43",!0))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"shortDate (with time, but not today)",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.shortDate("2020-01-01T15:43",!1))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"shortDate (today & without time)",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.shortDate((new Date).toISOString(),!0))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"shortDate (today & with time)",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.shortDate((new Date).toISOString(),!1))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("h2",{id:"shorttime"},"shortTime"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,"Get a short string representation of the current time"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#shorttime",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"shortTime",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.shortTime())),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("h2",{id:"timestamp"},"timestamp"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,"Get a string representation of the current time"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#timestamp",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"timestamp",mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.timestamp())))}MDXContent.isMDXComponent=!0;var formatDateTime=function formatDateTime(){return _lib__WEBPACK_IMPORTED_MODULE_9__.widgets.formatDateTime(new Date,"{FullYear}-{Month}-{Date}T{Hours}:{Minutes}:{Seconds}.{Milliseconds}")};formatDateTime.storyName="formatDateTime",formatDateTime.parameters={storySource:{source:"UI.widgets.formatDateTime(new Date(), '{FullYear}-{Month}-{Date}T{Hours}:{Minutes}:{Seconds}.{Milliseconds}')"}};var formatDateTimeDate=function formatDateTimeDate(){return _lib__WEBPACK_IMPORTED_MODULE_9__.widgets.formatDateTime(new Date,"{Date}.{Month}.{Year}")};formatDateTimeDate.storyName="formatDateTime date",formatDateTimeDate.parameters={storySource:{source:"UI.widgets.formatDateTime(new Date(), '{Date}.{Month}.{Year}')"}};var formatDateTimeTime=function formatDateTimeTime(){return _lib__WEBPACK_IMPORTED_MODULE_9__.widgets.formatDateTime(new Date,"{Hours}:{Minutes}:{Seconds}")};formatDateTimeTime.storyName="formatDateTime time",formatDateTimeTime.parameters={storySource:{source:"UI.widgets.formatDateTime(new Date(), '{Hours}:{Minutes}:{Seconds}')"}};var shortDateNotTodayWithoutTime=function shortDateNotTodayWithoutTime(){return _lib__WEBPACK_IMPORTED_MODULE_9__.widgets.shortDate("2020-01-01T15:43",!0)};shortDateNotTodayWithoutTime.storyName="shortDate (not today & without time)",shortDateNotTodayWithoutTime.parameters={storySource:{source:"UI.widgets.shortDate('2020-01-01T15:43', true)"}};var shortDateWithTimeButNotToday=function shortDateWithTimeButNotToday(){return _lib__WEBPACK_IMPORTED_MODULE_9__.widgets.shortDate("2020-01-01T15:43",!1)};shortDateWithTimeButNotToday.storyName="shortDate (with time, but not today)",shortDateWithTimeButNotToday.parameters={storySource:{source:"UI.widgets.shortDate('2020-01-01T15:43', false)"}};var shortDateTodayWithoutTime=function shortDateTodayWithoutTime(){return _lib__WEBPACK_IMPORTED_MODULE_9__.widgets.shortDate((new Date).toISOString(),!0)};shortDateTodayWithoutTime.storyName="shortDate (today & without time)",shortDateTodayWithoutTime.parameters={storySource:{source:"UI.widgets.shortDate(new Date().toISOString(), true)"}};var shortDateTodayWithTime=function shortDateTodayWithTime(){return _lib__WEBPACK_IMPORTED_MODULE_9__.widgets.shortDate((new Date).toISOString(),!1)};shortDateTodayWithTime.storyName="shortDate (today & with time)",shortDateTodayWithTime.parameters={storySource:{source:"UI.widgets.shortDate(new Date().toISOString(), false)"}};var shortTime=function shortTime(){return _lib__WEBPACK_IMPORTED_MODULE_9__.widgets.shortTime()};shortTime.storyName="shortTime",shortTime.parameters={storySource:{source:"UI.widgets.shortTime()"}};var timestamp=function timestamp(){return _lib__WEBPACK_IMPORTED_MODULE_9__.widgets.timestamp()};timestamp.storyName="timestamp",timestamp.parameters={storySource:{source:"UI.widgets.timestamp()"}};var componentMeta={title:"Date & Time",includeStories:["formatDateTime","formatDateTimeDate","formatDateTimeTime","shortDateNotTodayWithoutTime","shortDateWithTimeButNotToday","shortDateTodayWithoutTime","shortDateTodayWithTime","shortTime","timestamp"]},mdxStoryNameToKey={formatDateTime:"formatDateTime","formatDateTime date":"formatDateTimeDate","formatDateTime time":"formatDateTimeTime","shortDate (not today & without time)":"shortDateNotTodayWithoutTime","shortDate (with time, but not today)":"shortDateWithTimeButNotToday","shortDate (today & without time)":"shortDateTodayWithoutTime","shortDate (today & with time)":"shortDateTodayWithTime",shortTime:"shortTime",timestamp:"timestamp"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/Display.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{complain:()=>complain,default:()=>__WEBPACK_DEFAULT_EXPORT__,errorMessageBlock:()=>errorMessageBlock,setName:()=>setName});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"Display",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"complain"},"complain"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#complain",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"complain",mdxType:"Story"},(function(){var div=document.createElement("div");return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.complain({div,dom:document},"not good!"),div}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"errormessageblock"},"errorMessageBlock"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_error_.html#errormessageblock",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"errorMessageBlock",mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.errorMessageBlock(document,"my error message","#f0f")}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"setname"},"setName"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Sets the best name we have and looks up a better one"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#setname",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"setName",mdxType:"Story"},(function(){var div=document.createElement("div"),jane=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://jane.example/person/card#me");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(jane,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.foaf("name"),"Jane Doe"),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.setName(div,jane),div}))))}MDXContent.isMDXComponent=!0;var complain=function complain(){var div=document.createElement("div");return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.complain({div,dom:document},"not good!"),div};complain.storyName="complain",complain.parameters={storySource:{source:"() => {\n  const div = document.createElement(\"div\");\n  UI.widgets.complain({\n    div,\n    dom: document\n  }, 'not good!');\n  return div;\n}"}};var errorMessageBlock=function errorMessageBlock(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.errorMessageBlock(document,"my error message","#f0f")};errorMessageBlock.storyName="errorMessageBlock",errorMessageBlock.parameters={storySource:{source:"() => {\n  return UI.widgets.errorMessageBlock(document, 'my error message', '#f0f');\n}"}};var setName=function setName(){var div=document.createElement("div"),jane=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://jane.example/person/card#me");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(jane,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.foaf("name"),"Jane Doe"),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.setName(div,jane),div};setName.storyName="setName",setName.parameters={storySource:{source:"() => {\n  const div = document.createElement(\"div\");\n  const jane = UI.rdf.namedNode('https://jane.example/person/card#me');\n  UI.store.add(jane, UI.ns.foaf('name'), 'Jane Doe');\n  UI.widgets.setName(div, jane);\n  return div;\n}"}};var componentMeta={title:"Display",includeStories:["complain","errorMessageBlock","setName"]},mdxStoryNameToKey={complain:"complain",errorMessageBlock:"errorMessageBlock",setName:"setName"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/DomManipulation.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{addStyleSheet:()=>addStyleSheet,clearElement:()=>clearElement,default:()=>__WEBPACK_DEFAULT_EXPORT__,refreshTree:()=>refreshTree});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./lib/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.h_,{title:"DOM manipulation",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("h2",{id:"addstylesheet"},"addStyleSheet"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,"Stick a stylesheet link the document if not already there"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#addstylesheet",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"addStyleSheet",withSource:"open",decorators:[function(Story){Story();var html=document.querySelector("link").outerHTML,pre=document.createElement("pre"),text=document.createTextNode(html);return pre.appendChild(text),pre}],mdxType:"Story"},(function(){_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.addStyleSheet(document,"https://linkeddata.github.io/tabulator-firefox/content/tabbedtab.css")}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("h2",{id:"clearelement"},"clearElement"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,"Remove all the children of an HTML element"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#clearelement",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"clearElement",mdxType:"Story"},(function(){var counter=0,div=document.createElement("p");return setInterval((function(){if(counter++%2==0){var text=document.createTextNode("Now you see me");div.appendChild(text)}else _lib__WEBPACK_IMPORTED_MODULE_9__.widgets.clearElement(div)}),1e3),div}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("h2",{id:"refreshtree"},"refreshTree"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,"Refresh a DOM tree recursively"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#refreshtree",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"refreshTree",mdxType:"Story"},(function(){setInterval((function(){_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.refreshTree(document.body)}),1e3);var refreshable=document.createElement("p");return refreshable.refresh=function(){refreshable.innerText=(new Date).getTime()},refreshable}))))}MDXContent.isMDXComponent=!0;var addStyleSheet=function addStyleSheet(){_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.addStyleSheet(document,"https://linkeddata.github.io/tabulator-firefox/content/tabbedtab.css")};addStyleSheet.storyName="addStyleSheet",addStyleSheet.parameters={storySource:{source:"() => {\n  UI.widgets.addStyleSheet(document, 'https://linkeddata.github.io/tabulator-firefox/content/tabbedtab.css');\n}"}},addStyleSheet.decorators=[function(Story){Story();var html=document.querySelector("link").outerHTML,pre=document.createElement("pre"),text=document.createTextNode(html);return pre.appendChild(text),pre}];var clearElement=function clearElement(){var counter=0,div=document.createElement("p");return setInterval((function(){if(counter++%2==0){var text=document.createTextNode("Now you see me");div.appendChild(text)}else _lib__WEBPACK_IMPORTED_MODULE_9__.widgets.clearElement(div)}),1e3),div};clearElement.storyName="clearElement",clearElement.parameters={storySource:{source:"() => {\n  let counter = 0;\n  const div = document.createElement('p');\n  setInterval(() => {\n    if (counter++ % 2 === 0) {\n      const text = document.createTextNode('Now you see me');\n      div.appendChild(text);\n    } else {\n      UI.widgets.clearElement(div);\n    }\n  }, 1000);\n  return div;\n}"}};var refreshTree=function refreshTree(){setInterval((function(){_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.refreshTree(document.body)}),1e3);var refreshable=document.createElement("p");return refreshable.refresh=function(){refreshable.innerText=(new Date).getTime()},refreshable};refreshTree.storyName="refreshTree",refreshTree.parameters={storySource:{source:"() => {\n  setInterval(() => {\n    UI.widgets.refreshTree(document.body);\n  }, 1000);\n  const refreshable = document.createElement('p');\n\n  refreshable.refresh = () => {\n    refreshable.innerText = new Date().getTime();\n  };\n\n  return refreshable;\n}"}};var componentMeta={title:"DOM manipulation",includeStories:["addStyleSheet","clearElement","refreshTree"]},mdxStoryNameToKey={addStyleSheet:"addStyleSheet",clearElement:"clearElement",refreshTree:"refreshTree"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/DragAndDrop.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,draggable:()=>draggable,dropTarget:()=>dropTarget,uploadFiles:()=>uploadFiles});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"Drag & Drop",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"drag--drop"},"Drag & Drop"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"DragAndDrop has three functions that can be used to handle dragging and dropping of uris, files, and images."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("inlineCode",{parentName:"p"},"makeDraggable")," is used to make an element Draggable. Along with the HTML Element, it is also necessary to pass an\nobject with a uri. This is used to set the data on the EventListener for 'dragstart'."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("inlineCode",{parentName:"p"},"makeDropTarget")," is used to make an element enabled as a drop target. Along with the HTML Element, it is also\nnecessary to pass in two callback functions; one to handle draggable uris and the other to handle draggable files and images."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("inlineCode",{parentName:"p"},"uploadFiles")," is used to process the files that a user is uploading."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,'Drag the message from the "Draggable" story or drag any file or image and drop it on the element in the "Drop Target" story to see it\nwork.'),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Draggable",mdxType:"Story"},(function(){var dragElement=document.createElement("div");dragElement.appendChild(document.createTextNode("Drag me to the target!"));var uri=new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.NamedNode("https://exampleuser.inrupt.net");return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.makeDraggable(dragElement,uri),dragElement}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Drop Target",mdxType:"Story"},(function(){var target=document.createElement("div");return target.style="padding: 1em; text-align:center; border: 1px solid black; width: 100px; height: 100px",target.appendChild(document.createTextNode("Drop things (URIs, files, ...) here")),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.makeDropTarget(target,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("dropped uri"),(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("dropped file")),target}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"uploadfiles"},"uploadFiles"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"The function ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("inlineCode",{parentName:"p"},"uploadFiles")," could for example be used in the droppedFileHandler function which is passed to the\nmakeDropTarget function."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Upload Files",args:{fileBase:"https://pod.example/Files",pictureBase:"https://pod.example/Pictures"},mdxType:"Story"},(function(_ref2){var fileBase=_ref2.fileBase,pictureBase=_ref2.pictureBase,target=document.createElement("div");return target.style="padding: 1em; text-align:center; border: 1px solid black; width: 100px; height: 100px",target.appendChild(document.createTextNode("Drop a file (document, picture, ...) here")),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.makeDropTarget(target,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("dropped uri"),(function(files){_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.uploadFiles(_lib__WEBPACK_IMPORTED_MODULE_7__.store.fetcher,files,fileBase,pictureBase,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("file uploaded successfully"))})),target}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.xP,{story:"Upload Files",mdxType:"Props"}))}MDXContent.isMDXComponent=!0;var draggable=function draggable(){var dragElement=document.createElement("div");dragElement.appendChild(document.createTextNode("Drag me to the target!"));var uri=new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.NamedNode("https://exampleuser.inrupt.net");return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.makeDraggable(dragElement,uri),dragElement};draggable.storyName="Draggable",draggable.parameters={storySource:{source:'() => {\n  const dragElement = document.createElement("div");\n  dragElement.appendChild(document.createTextNode("Drag me to the target!"));\n  const uri = new UI.rdf.NamedNode(\'https://exampleuser.inrupt.net\');\n  UI.widgets.makeDraggable(dragElement, uri);\n  return dragElement;\n}'}};var dropTarget=function dropTarget(){var target=document.createElement("div");return target.style="padding: 1em; text-align:center; border: 1px solid black; width: 100px; height: 100px",target.appendChild(document.createTextNode("Drop things (URIs, files, ...) here")),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.makeDropTarget(target,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("dropped uri"),(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("dropped file")),target};dropTarget.storyName="Drop Target",dropTarget.parameters={storySource:{source:'() => {\n  const target = document.createElement("div");\n  target.style = "padding: 1em; text-align:center; border: 1px solid black; width: 100px; height: 100px";\n  target.appendChild(document.createTextNode("Drop things (URIs, files, ...) here"));\n  UI.widgets.makeDropTarget(target, action(\'dropped uri\'), action(\'dropped file\'));\n  return target;\n}'}};var uploadFiles=function uploadFiles(_ref3){var fileBase=_ref3.fileBase,pictureBase=_ref3.pictureBase,target=document.createElement("div");return target.style="padding: 1em; text-align:center; border: 1px solid black; width: 100px; height: 100px",target.appendChild(document.createTextNode("Drop a file (document, picture, ...) here")),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.makeDropTarget(target,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("dropped uri"),(function(files){_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.uploadFiles(_lib__WEBPACK_IMPORTED_MODULE_7__.store.fetcher,files,fileBase,pictureBase,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("file uploaded successfully"))})),target};uploadFiles.storyName="Upload Files",uploadFiles.args={fileBase:"https://pod.example/Files",pictureBase:"https://pod.example/Pictures"},uploadFiles.parameters={storySource:{source:'({\n  fileBase,\n  pictureBase\n}) => {\n  const target = document.createElement("div");\n  target.style = "padding: 1em; text-align:center; border: 1px solid black; width: 100px; height: 100px";\n  target.appendChild(document.createTextNode("Drop a file (document, picture, ...) here"));\n  UI.widgets.makeDropTarget(target, action(\'dropped uri\'), files => {\n    UI.widgets.uploadFiles(UI.store.fetcher, files, fileBase, pictureBase, action(\'file uploaded successfully\'));\n  });\n  return target;\n}'}};var componentMeta={title:"Drag & Drop",includeStories:["draggable","dropTarget","uploadFiles"]},mdxStoryNameToKey={Draggable:"draggable","Drop Target":"dropTarget","Upload Files":"uploadFiles"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/Events.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,openHrefInOutlineMode:()=>openHrefInOutlineMode});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"Events",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"openhrefinoutlinemode"},"openHrefInOutlineMode"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Event Handler for links within solid apps."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#openhrefinoutlinemode",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"openHrefInOutlineMode",mdxType:"Story"},(function(){document.outlineManager={GotoSubject:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("go to subject")};var anchor=document.createElement("a");return anchor.setAttribute("href","http://example.com"),anchor.onclick=function(e){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.openHrefInOutlineMode(e),!1},anchor.appendChild(document.createTextNode("click me")),anchor}))))}MDXContent.isMDXComponent=!0;var openHrefInOutlineMode=function openHrefInOutlineMode(){document.outlineManager={GotoSubject:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("go to subject")};var anchor=document.createElement("a");return anchor.setAttribute("href","http://example.com"),anchor.onclick=function(e){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.openHrefInOutlineMode(e),!1},anchor.appendChild(document.createTextNode("click me")),anchor};openHrefInOutlineMode.storyName="openHrefInOutlineMode",openHrefInOutlineMode.parameters={storySource:{source:"() => {\n  document.outlineManager = {\n    GotoSubject: action('go to subject')\n  };\n  const anchor = document.createElement('a');\n  anchor.setAttribute('href', 'http://example.com');\n\n  anchor.onclick = e => {\n    UI.widgets.openHrefInOutlineMode(e);\n    return false;\n  };\n\n  anchor.appendChild(document.createTextNode('click me'));\n  return anchor;\n}"}};var componentMeta={title:"Events",includeStories:["openHrefInOutlineMode"]},mdxStoryNameToKey={openHrefInOutlineMode:"openHrefInOutlineMode"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/Header.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,header:()=>header,headerDecorator:()=>headerDecorator});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./lib/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var headerDecorator=function headerDecorator(Story){return setTimeout((function(){return Story()}),1),'<div>The above <code>div<code> with ID "PageHeader" is replaced by the header component</div>'},layoutProps={headerDecorator};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.h_,{title:"Header",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"header"},"Header"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("div",{id:"PageHeader"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"To experience the full behaviour of the header, you need to log in. This can be done at\n",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("a",{parentName:"p",href:"http://solid.github.io/solid-ui/examples/header",target:"_blank",rel:"nofollow noopener noreferrer"},"the example page"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"header",decorators:[headerDecorator],mdxType:"Story"},(function(){_lib__WEBPACK_IMPORTED_MODULE_8__.initHeader(_lib__WEBPACK_IMPORTED_MODULE_8__.store,{})}))))}MDXContent.isMDXComponent=!0;var header=function header(){_lib__WEBPACK_IMPORTED_MODULE_8__.initHeader(_lib__WEBPACK_IMPORTED_MODULE_8__.store,{})};header.storyName="header",header.parameters={storySource:{source:"() => {\n  const options = {};\n  UI.initHeader(UI.store, options);\n}"}},header.decorators=[headerDecorator];var componentMeta={title:"Header",includeStories:["header"]},mdxStoryNameToKey={header:"header"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/Images.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,eMail:()=>eMail,favicon:()=>favicon,forFoafAgent:()=>forFoafAgent,forRdfResource:()=>forRdfResource,imageDecorator:()=>imageDecorator,imagesOf:()=>imagesOf,messageId:()=>messageId,setImage:()=>setImage,withFoafImg:()=>withFoafImg,withVcardHasPhoto:()=>withVcardHasPhoto,withoutFavicon:()=>withoutFavicon});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/index.js"),_decorators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/stories/decorators.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var imageDecorator=function imageDecorator(Story){var result=Story();return"\n            <div>Returns:</div>\n            <pre>"+result+'</pre>\n            <p>Preview:</p>\n            <img src="'+result+'" width="80" />\n'},layoutProps={imageDecorator};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"Images",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"findimage"},"findImage"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Find something we have as explicit image data for the thing"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#findimage",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h3",{id:"for-foafagent"},"for foaf:Agent"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"for foaf:Agent",decorators:[imageDecorator],mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImage(_lib__WEBPACK_IMPORTED_MODULE_7__.ns.foaf("Agent")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h3",{id:"for-rdfresource"},"for rdf:Resource"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"for rdf:Resource",decorators:[imageDecorator],mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImage(_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("Resource")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h3",{id:"with-vcardhasphoto"},"with vcard:hasPhoto"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"with vcard:hasPhoto",decorators:[imageDecorator],mdxType:"Story"},(function(){var person=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://person.example/1#me"),photo=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://michielbdejong.com/img/me.jpg");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(person,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.vcard("hasPhoto"),photo),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImage(person)}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h3",{id:"with-foafimg"},"with foaf:img"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"with foaf:img",decorators:[imageDecorator],mdxType:"Story"},(function(){var person=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://person.example/2#me"),photo=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://michielbdejong.com/img/me.jpg");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(person,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.foaf("img"),photo),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImage(person)}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"findimagefromuri"},"findImageFromURI"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Find an image for this thing as a class"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#findimagefromuri",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h3",{id:"without-favicon"},"without favicon"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"without favicon",decorators:[imageDecorator],mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImageFromURI(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://example.com/")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h3",{id:"favicon"},"favicon"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"favicon",decorators:[imageDecorator],mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImageFromURI(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://solidproject.org/some/file.html")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h3",{id:"message-id-mid"},"Message-ID (mid:)"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Message-ID",decorators:[imageDecorator],mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImageFromURI(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("mid:example")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h3",{id:"e-mail-mailto"},"E-Mail (mailto:)"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"E-Mail",decorators:[imageDecorator],mdxType:"Story"},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImageFromURI(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("mailto:user@mail.example")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h3",{id:"imagesof"},"imagesOf"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Set of suitable images"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#imagesof",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"imagesOf",decorators:[_decorators__WEBPACK_IMPORTED_MODULE_8__.b],mdxType:"Story"},(function(){var store=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.graph(),thing=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://thing.example/resource#it"),avatar=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://pod.example/image1.png"),image=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://pod.example/image2.jpg");return store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.sioc("avatar"),avatar),store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.foaf("img"),image),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.imagesOf(thing,store)}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"setimage"},"setImage"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#setimage",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"setImage",mdxType:"Story"},(function(){var myTrip=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#trip");_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(myTrip,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.trip("Trip"));var img=document.createElement("img");return img.setAttribute("style","height:50px;width:50px;"),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.setImage(img,myTrip),img}))))}MDXContent.isMDXComponent=!0;var forFoafAgent=function forFoafAgent(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImage(_lib__WEBPACK_IMPORTED_MODULE_7__.ns.foaf("Agent"))};forFoafAgent.storyName="for foaf:Agent",forFoafAgent.parameters={storySource:{source:"UI.widgets.findImage(UI.ns.foaf('Agent'))"}},forFoafAgent.decorators=[imageDecorator];var forRdfResource=function forRdfResource(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImage(_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("Resource"))};forRdfResource.storyName="for rdf:Resource",forRdfResource.parameters={storySource:{source:"UI.widgets.findImage(UI.ns.rdf('Resource'))"}},forRdfResource.decorators=[imageDecorator];var withVcardHasPhoto=function withVcardHasPhoto(){var person=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://person.example/1#me"),photo=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://michielbdejong.com/img/me.jpg");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(person,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.vcard("hasPhoto"),photo),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImage(person)};withVcardHasPhoto.storyName="with vcard:hasPhoto",withVcardHasPhoto.parameters={storySource:{source:"() => {\n  const person = UI.rdf.namedNode('https://person.example/1#me');\n  const photo = UI.rdf.namedNode('https://michielbdejong.com/img/me.jpg');\n  UI.store.add(person, UI.ns.vcard('hasPhoto'), photo);\n  return UI.widgets.findImage(person);\n}"}},withVcardHasPhoto.decorators=[imageDecorator];var withFoafImg=function withFoafImg(){var person=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://person.example/2#me"),photo=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://michielbdejong.com/img/me.jpg");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(person,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.foaf("img"),photo),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImage(person)};withFoafImg.storyName="with foaf:img",withFoafImg.parameters={storySource:{source:"() => {\n  const person = UI.rdf.namedNode('https://person.example/2#me');\n  const photo = UI.rdf.namedNode('https://michielbdejong.com/img/me.jpg');\n  UI.store.add(person, UI.ns.foaf('img'), photo);\n  return UI.widgets.findImage(person);\n}"}},withFoafImg.decorators=[imageDecorator];var withoutFavicon=function withoutFavicon(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImageFromURI(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://example.com/"))};withoutFavicon.storyName="without favicon",withoutFavicon.parameters={storySource:{source:"UI.widgets.findImageFromURI(UI.rdf.namedNode('https://example.com/'))"}},withoutFavicon.decorators=[imageDecorator];var favicon=function favicon(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImageFromURI(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://solidproject.org/some/file.html"))};favicon.storyName="favicon",favicon.parameters={storySource:{source:"UI.widgets.findImageFromURI(UI.rdf.namedNode('https://solidproject.org/some/file.html'))"}},favicon.decorators=[imageDecorator];var messageId=function messageId(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImageFromURI(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("mid:example"))};messageId.storyName="Message-ID",messageId.parameters={storySource:{source:"UI.widgets.findImageFromURI(UI.rdf.namedNode('mid:example'))"}},messageId.decorators=[imageDecorator];var eMail=function eMail(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.findImageFromURI(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("mailto:user@mail.example"))};eMail.storyName="E-Mail",eMail.parameters={storySource:{source:"UI.widgets.findImageFromURI(UI.rdf.namedNode('mailto:user@mail.example'))"}},eMail.decorators=[imageDecorator];var imagesOf=function imagesOf(){var store=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.graph(),thing=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://thing.example/resource#it"),avatar=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://pod.example/image1.png"),image=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://pod.example/image2.jpg");return store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.sioc("avatar"),avatar),store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.foaf("img"),image),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.imagesOf(thing,store)};imagesOf.storyName="imagesOf",imagesOf.parameters={storySource:{source:"() => {\n  const store = UI.rdf.graph();\n  const thing = UI.rdf.namedNode('http://thing.example/resource#it');\n  const avatar = UI.rdf.namedNode('https://pod.example/image1.png');\n  const image = UI.rdf.namedNode('https://pod.example/image2.jpg');\n  store.add(thing, UI.ns.sioc('avatar'), avatar);\n  store.add(thing, UI.ns.foaf('img'), image);\n  return UI.widgets.imagesOf(thing, store);\n}"}},imagesOf.decorators=[_decorators__WEBPACK_IMPORTED_MODULE_8__.b];var setImage=function setImage(){var myTrip=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#trip");_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(myTrip,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.trip("Trip"));var img=document.createElement("img");return img.setAttribute("style","height:50px;width:50px;"),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.setImage(img,myTrip),img};setImage.storyName="setImage",setImage.parameters={storySource:{source:"() => {\n  const myTrip = UI.rdf.namedNode('http://example.com/#trip');\n  UI.store.add(myTrip, UI.ns.rdf('type'), UI.ns.trip('Trip'));\n  const img = document.createElement('img');\n  img.setAttribute('style', 'height:50px;width:50px;');\n  UI.widgets.setImage(img, myTrip);\n  return img;\n}"}};var componentMeta={title:"Images",includeStories:["forFoafAgent","forRdfResource","withVcardHasPhoto","withFoafImg","withoutFavicon","favicon","messageId","eMail","imagesOf","setImage"]},mdxStoryNameToKey={"for foaf:Agent":"forFoafAgent","for rdf:Resource":"forRdfResource","with vcard:hasPhoto":"withVcardHasPhoto","with foaf:img":"withFoafImg","without favicon":"withoutFavicon",favicon:"favicon","Message-ID":"messageId","E-Mail":"eMail",imagesOf:"imagesOf",setImage:"setImage"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/Interactive.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{askName:()=>askName,attachmentList:()=>attachmentList,default:()=>__WEBPACK_DEFAULT_EXPORT__,personTr:()=>personTr,renderAsDiv:()=>renderAsDiv,selectorPanel:()=>selectorPanel,selectorPanelRefresh:()=>selectorPanelRefresh});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"Interactive",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"ask-name"},"Ask name"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#askname",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Ask name",mdxType:"Story"},(function(){var div=document.createElement("div");return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.askName(document,_lib__WEBPACK_IMPORTED_MODULE_7__.store,div).then((function(name){return window.alert('You picked "'+name+'"')})),div}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"attachment-list"},"Attachment list"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Component that displays a list of resources, for instance the attachments of a message, or the various documents related to a meeting.\nAccepts dropping URLs onto it to add attachments to it."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#attachmentlist",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Attachment list",mdxType:"Story"},(function(){var div=document.createElement("div");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://example-user.inrupt.net/public/some-message.ttl#this"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.wf("attachment"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#some-attachment")),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.attachmentList(document,_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://example-user.inrupt.net/public/some-message.ttl#this"),div),div}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"persontr"},"personTR"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"A TR to represent a draggable person, etc in a list"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#persontr",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Person TR",mdxType:"Story"},(function(){var michiel=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://michielbdejong.inrupt.net/profile/card#me");return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.personTR(document,null,michiel)}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"renderasdiv"},"renderAsDIV"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"A Div to represent a draggable person, etc in a list"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#persontr",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"Render As DIV",mdxType:"Story"},(function(){var michiel=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://michielbdejong.inrupt.net/profile/card#me");return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.renderAsDiv(document,michiel,{wrapInATR:!0})}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"selectorpanel"},"selectorPanel"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#selectorpanel",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"selectorPanel",mdxType:"Story"},(function(){var kb=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.graph(),type=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#type"),predicate=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#pred"),possible=[_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#blue"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#green"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#yellow")];return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.selectorPanel(document,kb,type,predicate,!1,possible,{},(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("selection"),(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("link clicked"))}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"selectorpanelrefresh"},"selectorPanelRefresh"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#selectorpanelrefresh",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"selectorPanelRefresh",mdxType:"Story"},(function(){var list=document.createElement("div"),kb=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.graph(),type=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#type"),predicate=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#pred"),possible=[_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#blue"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#green"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#yellow")];return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.selectorPanelRefresh(list,document,kb,type,predicate,!1,possible,{},(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("selection"),(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("link clicked"))}))))}MDXContent.isMDXComponent=!0;var askName=function askName(){var div=document.createElement("div");return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.askName(document,_lib__WEBPACK_IMPORTED_MODULE_7__.store,div).then((function(name){return window.alert('You picked "'+name+'"')})),div};askName.storyName="Ask name",askName.parameters={storySource:{source:"() => {\n  const div = document.createElement('div');\n  UI.widgets.askName(document, UI.store, div).then(name => window.alert(`You picked \"${name}\"`));\n  return div;\n}"}};var attachmentList=function attachmentList(){var div=document.createElement("div");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://example-user.inrupt.net/public/some-message.ttl#this"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.wf("attachment"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#some-attachment")),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.attachmentList(document,_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://example-user.inrupt.net/public/some-message.ttl#this"),div),div};attachmentList.storyName="Attachment list",attachmentList.parameters={storySource:{source:"() => {\n  const div = document.createElement('div');\n  UI.store.add(UI.rdf.namedNode('https://example-user.inrupt.net/public/some-message.ttl#this'), UI.ns.wf('attachment'), UI.rdf.namedNode('http://example.com/#some-attachment'));\n  UI.widgets.attachmentList(document, UI.rdf.namedNode('https://example-user.inrupt.net/public/some-message.ttl' + '#this'), div);\n  return div;\n}"}};var personTr=function personTr(){var michiel=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://michielbdejong.inrupt.net/profile/card#me");return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.personTR(document,null,michiel)};personTr.storyName="Person TR",personTr.parameters={storySource:{source:"() => {\n  const michiel = UI.rdf.namedNode('https://michielbdejong.inrupt.net/profile/card#me');\n  return UI.widgets.personTR(document, null, michiel);\n}"}};var renderAsDiv=function renderAsDiv(){var michiel=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://michielbdejong.inrupt.net/profile/card#me");return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.renderAsDiv(document,michiel,{wrapInATR:!0})};renderAsDiv.storyName="Render As DIV",renderAsDiv.parameters={storySource:{source:"() => {\n  const michiel = UI.rdf.namedNode('https://michielbdejong.inrupt.net/profile/card#me');\n  const options = {\n    wrapInATR: true\n  };\n  return UI.widgets.renderAsDiv(document, michiel, options);\n}"}};var selectorPanel=function selectorPanel(){var kb=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.graph(),type=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#type"),predicate=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#pred"),possible=[_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#blue"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#green"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#yellow")];return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.selectorPanel(document,kb,type,predicate,!1,possible,{},(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("selection"),(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("link clicked"))};selectorPanel.storyName="selectorPanel",selectorPanel.parameters={storySource:{source:"() => {\n  const kb = UI.rdf.graph();\n  const type = UI.rdf.namedNode('http://example.com/#type');\n  const predicate = UI.rdf.namedNode('http://example.com/#pred');\n  const inverse = false;\n  const possible = [UI.rdf.namedNode('http://example.com/#blue'), UI.rdf.namedNode('http://example.com/#green'), UI.rdf.namedNode('http://example.com/#yellow')];\n  const options = {};\n  return UI.widgets.selectorPanel(document, kb, type, predicate, inverse, possible, options, action('selection'), action('link clicked'));\n}"}};var selectorPanelRefresh=function selectorPanelRefresh(){var list=document.createElement("div"),kb=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.graph(),type=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#type"),predicate=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#pred"),possible=[_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#blue"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#green"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#yellow")];return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.selectorPanelRefresh(list,document,kb,type,predicate,!1,possible,{},(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("selection"),(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("link clicked"))};selectorPanelRefresh.storyName="selectorPanelRefresh",selectorPanelRefresh.parameters={storySource:{source:"() => {\n  const list = document.createElement('div');\n  const kb = UI.rdf.graph();\n  const type = UI.rdf.namedNode('http://example.com/#type');\n  const predicate = UI.rdf.namedNode('http://example.com/#pred');\n  const inverse = false;\n  const possible = [UI.rdf.namedNode('http://example.com/#blue'), UI.rdf.namedNode('http://example.com/#green'), UI.rdf.namedNode('http://example.com/#yellow')];\n  const options = {};\n  return UI.widgets.selectorPanelRefresh(list, document, kb, type, predicate, inverse, possible, options, action('selection'), action('link clicked'));\n}"}};var componentMeta={title:"Interactive",includeStories:["askName","attachmentList","personTr","renderAsDiv","selectorPanel","selectorPanelRefresh"]},mdxStoryNameToKey={"Ask name":"askName","Attachment list":"attachmentList","Person TR":"personTr","Render As DIV":"renderAsDiv",selectorPanel:"selectorPanel",selectorPanelRefresh:"selectorPanelRefresh"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/Log.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{alertMessage:()=>alertMessage,buttonDecorator:()=>buttonDecorator,clearMessages:()=>clearMessages,debugMessage:()=>debugMessage,default:()=>__WEBPACK_DEFAULT_EXPORT__,dumpHtml:()=>dumpHtml,errorMessage:()=>errorMessage,infoMessage:()=>infoMessage,logAscending:()=>logAscending,logDescending:()=>logDescending,setLevel:()=>setLevel,simpleMessage:()=>simpleMessage,successMessage:()=>successMessage,warningMessage:()=>warningMessage});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./lib/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var buttonDecorator=function buttonDecorator(Story,_ref){var args=_ref.args,button=document.createElement("button");return button.innerText=args.buttonLabel,button.addEventListener("click",(function(){return Story()})),button},layoutProps={buttonDecorator};function MDXContent(_ref2){var components=_ref2.components,props=_objectWithoutProperties(_ref2,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.h_,{title:"Log",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h1",{id:"the-log-module"},"The Log module"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"On this page you'll find some examples from the log module. See\n",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_log_",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation"),"\nfor more information."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("div",{style:{background:"white",border:"0.5em solid black",position:"fixed",top:0,right:0,width:"300px",padding:"0.5em"}},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("strong",{parentName:"p"},"Status area:")," This is the playground which the examples will interact with. Click the various\nbuttons to see their effect here."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("div",{id:"status",style:{border:"1px solid red",padding:"0.5em",maxHeight:"50vh",overflow:"auto"}}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"Note that by default only ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"msg"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"warn")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"error")," will add messages to the\nstatus area. You can change this by using ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("a",{parentName:"p",href:"?path=/docs/log--set-level"},"setLevel"),".")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"logmsg-a-simple-message"},"log.msg: A simple message"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"simple message",decorators:[buttonDecorator],args:{buttonLabel:"Add a message"},mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.msg("A simple message")}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"logwarn-a-warning-message"},"log.warn: A warning message"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"warning message",decorators:[buttonDecorator],args:{buttonLabel:"Add a warning"},mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.warn("A warning message")}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"logdebug-a-debug-message"},"log.debug: A debug message"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"debug message",decorators:[buttonDecorator],args:{buttonLabel:"Add a debugging message"},mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.debug("A debugging message")}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"loginfo-an-info-message"},"log.info: An info message"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"info message",decorators:[buttonDecorator],args:{buttonLabel:"Add an info message"},mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.info("An info message")}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"logerror-an-error-message"},"log.error: An error message"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"error message",decorators:[buttonDecorator],args:{buttonLabel:"Add an error message"},mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.error("An error message")}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"logsuccess-a-success-message"},"log.success: A success message"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"success message",decorators:[buttonDecorator],args:{buttonLabel:"Add a success message"},mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.success("A success message")}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"logalert-a-alert-message"},"log.alert: A alert message"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"This example uses alert to notify user of a message. It will not log in the status area unless window.alert is not available."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"alert message",decorators:[buttonDecorator],args:{buttonLabel:"Trigger an alert message"},mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.alert("An alert message")}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"logclear-clear-messages"},"log.clear: Clear messages"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"Using this method you can clear the existing messages in the status area."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"clear messages",decorators:[buttonDecorator],args:{buttonLabel:"Clear status area"},mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.clear()}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"logsetlevel-configure-which-messages-are-to-be-shown"},"log.setLevel: Configure which messages are to be shown"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"The module uses ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Mask_(computing)",target:"_blank",rel:"nofollow noopener noreferrer"},"bitmask")," to filter which types of messages that will be shown. It assigns the following 10-based\nnumber to each type (binaries in parenthesis):"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("li",{parentName:"ul"},"Error: 1 (000001)"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("li",{parentName:"ul"},"Warning: 2 (000010)"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("li",{parentName:"ul"},"Message: 4 (000100)"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("li",{parentName:"ul"},"Success: 8 (001000)"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("li",{parentName:"ul"},"Info: 16 (010000)"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("li",{parentName:"ul"},"Debug: 32 (100000)")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"By default only error, warning, and normal messages will be shown, hence the number 7 that is shown by default in this example. You can set it to show all types of messages by passing 63 (which is the sum of all, and is 111111 in binary)."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"set level",mdxType:"Story"},(function(){var div=document.createElement("div"),input=document.createElement("input");input.type="text",input.inputmode="numeric",input.pattern="[0-9]*",input.value=7,div.appendChild(input);var button=document.createElement("button");return button.innerText="Set level",button.addEventListener("click",(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.setLevel(parseInt(input.value,10))})),div.appendChild(button),div}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"logdumphtml-dump-all-html-in-body-in-a-log-message"},"log.dumpHTML: Dump all HTML in body in a log message"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"dump html",decorators:[buttonDecorator],args:{buttonLabel:"Dump HTML"},mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.dumpHTML()}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"loglogascending-start-logging-all-messages-in-ascending-order"},"log.logAscending: Start logging all messages in ascending order"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"log ascending",decorators:[buttonDecorator],args:{buttonLabel:"Log ascending"},mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.logAscending()}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"loglogdescending-start-logging-all-messages-in-descending-order"},"log.logDescending: Start logging all messages in descending order"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"log descending",decorators:[buttonDecorator],args:{buttonLabel:"Log descending"},mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.logDescending()}))))}MDXContent.isMDXComponent=!0;var simpleMessage=function simpleMessage(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.msg("A simple message")};simpleMessage.storyName="simple message",simpleMessage.args={buttonLabel:"Add a message"},simpleMessage.parameters={storySource:{source:'() => UI.log.msg("A simple message")'}},simpleMessage.decorators=[buttonDecorator];var warningMessage=function warningMessage(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.warn("A warning message")};warningMessage.storyName="warning message",warningMessage.args={buttonLabel:"Add a warning"},warningMessage.parameters={storySource:{source:'() => UI.log.warn("A warning message")'}},warningMessage.decorators=[buttonDecorator];var debugMessage=function debugMessage(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.debug("A debugging message")};debugMessage.storyName="debug message",debugMessage.args={buttonLabel:"Add a debugging message"},debugMessage.parameters={storySource:{source:'() => UI.log.debug("A debugging message")'}},debugMessage.decorators=[buttonDecorator];var infoMessage=function infoMessage(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.info("An info message")};infoMessage.storyName="info message",infoMessage.args={buttonLabel:"Add an info message"},infoMessage.parameters={storySource:{source:'() => UI.log.info("An info message")'}},infoMessage.decorators=[buttonDecorator];var errorMessage=function errorMessage(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.error("An error message")};errorMessage.storyName="error message",errorMessage.args={buttonLabel:"Add an error message"},errorMessage.parameters={storySource:{source:'() => UI.log.error("An error message")'}},errorMessage.decorators=[buttonDecorator];var successMessage=function successMessage(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.success("A success message")};successMessage.storyName="success message",successMessage.args={buttonLabel:"Add a success message"},successMessage.parameters={storySource:{source:'() => UI.log.success("A success message")'}},successMessage.decorators=[buttonDecorator];var alertMessage=function alertMessage(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.alert("An alert message")};alertMessage.storyName="alert message",alertMessage.args={buttonLabel:"Trigger an alert message"},alertMessage.parameters={storySource:{source:'() => UI.log.alert("An alert message")'}},alertMessage.decorators=[buttonDecorator];var clearMessages=function clearMessages(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.clear()};clearMessages.storyName="clear messages",clearMessages.args={buttonLabel:"Clear status area"},clearMessages.parameters={storySource:{source:"() => UI.log.clear()"}},clearMessages.decorators=[buttonDecorator];var setLevel=function setLevel(){var div=document.createElement("div"),input=document.createElement("input");input.type="text",input.inputmode="numeric",input.pattern="[0-9]*",input.value=7,div.appendChild(input);var button=document.createElement("button");return button.innerText="Set level",button.addEventListener("click",(function(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.setLevel(parseInt(input.value,10))})),div.appendChild(button),div};setLevel.storyName="set level",setLevel.parameters={storySource:{source:"() => {\n  const div = document.createElement('div');\n  const input = document.createElement('input');\n  input.type = 'text';\n  input.inputmode = 'numeric';\n  input.pattern = '[0-9]*';\n  input.value = 7;\n  div.appendChild(input);\n  const button = document.createElement('button');\n  button.innerText = 'Set level';\n  button.addEventListener('click', () => UI.log.setLevel(parseInt(input.value, 10)));\n  div.appendChild(button);\n  return div;\n}"}};var dumpHtml=function dumpHtml(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.dumpHTML()};dumpHtml.storyName="dump html",dumpHtml.args={buttonLabel:"Dump HTML"},dumpHtml.parameters={storySource:{source:"() => UI.log.dumpHTML()"}},dumpHtml.decorators=[buttonDecorator];var logAscending=function logAscending(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.logAscending()};logAscending.storyName="log ascending",logAscending.args={buttonLabel:"Log ascending"},logAscending.parameters={storySource:{source:"() => UI.log.logAscending()"}},logAscending.decorators=[buttonDecorator];var logDescending=function logDescending(){return _lib__WEBPACK_IMPORTED_MODULE_8__.log.logDescending()};logDescending.storyName="log descending",logDescending.args={buttonLabel:"Log descending"},logDescending.parameters={storySource:{source:"() => UI.log.logDescending()"}},logDescending.decorators=[buttonDecorator];var componentMeta={title:"Log",includeStories:["simpleMessage","warningMessage","debugMessage","infoMessage","errorMessage","successMessage","alertMessage","clearMessages","setLevel","dumpHtml","logAscending","logDescending"]},mdxStoryNameToKey={"simple message":"simpleMessage","warning message":"warningMessage","debug message":"debugMessage","info message":"infoMessage","error message":"errorMessage","success message":"successMessage","alert message":"alertMessage","clear messages":"clearMessages","set level":"setLevel","dump html":"dumpHtml","log ascending":"logAscending","log descending":"logDescending"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/Matrix.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,forQuery:()=>forQuery});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"Matrix",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h1",{id:"matrix"},"Matrix"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"More complex examples can be investigated on the\n",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"http://solid.github.io/solid-ui/examples/matrix/index.html",target:"_blank",rel:"nofollow noopener noreferrer"},"example page"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"for-query"},"for query"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"for query",mdxType:"Story"},(function(){var testDocURI="https://pod.example/",testDoc=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.sym(testDocURI),kb=_lib__WEBPACK_IMPORTED_MODULE_7__.store;kb.removeMany(void 0,void 0,void 0,testDoc);_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.parse('@prefix :  <#>.\n@prefix foaf:  <http://xmlns.com/foaf/0.1/>.\n@prefix sched: <http://www.w3.org/ns/pim/schedule#>.\n@prefix cal:  <http://www.w3.org/2002/12/cal/ical#>.\n@prefix dc:    <http://purl.org/dc/elements/1.1/>.\n:event1 dc:author :a0;\n    a sched:YesNoMaybe ;\n    sched:response :r1, :r2 .\n:a0 foaf:name "Zoe" .\n:a1 foaf:name "Alice" .\n:a2 foaf:name "Bob" .\n:r1 dc:author :a1;\n    sched:cell\n          [ sched:availabilty sched:No; cal:dtstart "2015-01-01" ],\n          [ sched:availabilty sched:Yes; cal:dtstart "2015-01-05"] .\n:r2 dc:author :a2;\n    sched:cell\n          [ sched:availabilty sched:Maybe; cal:dtstart "2015-01-01" ] .\n',kb,testDocURI,"text/turtle");var SCHED=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.Namespace("http://www.w3.org/ns/pim/schedule#"),DC=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.Namespace("http://purl.org/dc/elements/1.1/"),ICAL=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.Namespace("http://www.w3.org/2002/12/cal/ical#"),invitation=kb.sym(testDocURI+"#event1"),query=new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.Query("Responses"),variables={time:_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.variable("time"),author:_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.variable("author"),availabilty:_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.variable("value"),response:_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.variable("response"),cell:_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.variable("cell")};query.pat.add(invitation,SCHED("response"),variables.response),query.pat.add(variables.response,DC("author"),variables.author),query.pat.add(variables.response,SCHED("cell"),variables.cell),query.pat.add(variables.cell,SCHED("availabilty"),variables.availabilty),query.pat.add(variables.cell,ICAL("dtstart"),variables.time);var options={cellFunction:function cellFunction(cell,x,y,value){cell.textContent=value?_lib__WEBPACK_IMPORTED_MODULE_7__.utils.label(value):"-"}};return _lib__WEBPACK_IMPORTED_MODULE_7__.matrix.matrixForQuery(document,query,variables.time,variables.author,variables.availabilty,options,(function(){}))}))))}MDXContent.isMDXComponent=!0;var forQuery=function forQuery(){var testDocURI="https://pod.example/",testDoc=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.sym(testDocURI),kb=_lib__WEBPACK_IMPORTED_MODULE_7__.store;kb.removeMany(void 0,void 0,void 0,testDoc);_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.parse('@prefix :  <#>.\n@prefix foaf:  <http://xmlns.com/foaf/0.1/>.\n@prefix sched: <http://www.w3.org/ns/pim/schedule#>.\n@prefix cal:  <http://www.w3.org/2002/12/cal/ical#>.\n@prefix dc:    <http://purl.org/dc/elements/1.1/>.\n:event1 dc:author :a0;\n    a sched:YesNoMaybe ;\n    sched:response :r1, :r2 .\n:a0 foaf:name "Zoe" .\n:a1 foaf:name "Alice" .\n:a2 foaf:name "Bob" .\n:r1 dc:author :a1;\n    sched:cell\n          [ sched:availabilty sched:No; cal:dtstart "2015-01-01" ],\n          [ sched:availabilty sched:Yes; cal:dtstart "2015-01-05"] .\n:r2 dc:author :a2;\n    sched:cell\n          [ sched:availabilty sched:Maybe; cal:dtstart "2015-01-01" ] .\n',kb,testDocURI,"text/turtle");var SCHED=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.Namespace("http://www.w3.org/ns/pim/schedule#"),DC=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.Namespace("http://purl.org/dc/elements/1.1/"),ICAL=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.Namespace("http://www.w3.org/2002/12/cal/ical#"),invitation=kb.sym(testDocURI+"#event1"),query=new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.Query("Responses"),variables={time:_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.variable("time"),author:_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.variable("author"),availabilty:_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.variable("value"),response:_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.variable("response"),cell:_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.variable("cell")};query.pat.add(invitation,SCHED("response"),variables.response),query.pat.add(variables.response,DC("author"),variables.author),query.pat.add(variables.response,SCHED("cell"),variables.cell),query.pat.add(variables.cell,SCHED("availabilty"),variables.availabilty),query.pat.add(variables.cell,ICAL("dtstart"),variables.time);var options={cellFunction:function cellFunction(cell,x,y,value){cell.textContent=value?_lib__WEBPACK_IMPORTED_MODULE_7__.utils.label(value):"-"}};return _lib__WEBPACK_IMPORTED_MODULE_7__.matrix.matrixForQuery(document,query,variables.time,variables.author,variables.availabilty,options,(function(){}))};forQuery.storyName="for query",forQuery.parameters={storySource:{source:"() => {\n  const testDocURI = \"https://pod.example/\";\n  const testDoc = UI.rdf.sym(testDocURI);\n  const kb = UI.store;\n  kb.removeMany(undefined, undefined, undefined, testDoc);\n  const turtle = `@prefix :  <#>.\n@prefix foaf:  <http://xmlns.com/foaf/0.1/>.\n@prefix sched: <http://www.w3.org/ns/pim/schedule#>.\n@prefix cal:  <http://www.w3.org/2002/12/cal/ical#>.\n@prefix dc:    <http://purl.org/dc/elements/1.1/>.\n:event1 dc:author :a0;\n    a sched:YesNoMaybe ;\n    sched:response :r1, :r2 .\n:a0 foaf:name \"Zoe\" .\n:a1 foaf:name \"Alice\" .\n:a2 foaf:name \"Bob\" .\n:r1 dc:author :a1;\n    sched:cell\n          [ sched:availabilty sched:No; cal:dtstart \"2015-01-01\" ],\n          [ sched:availabilty sched:Yes; cal:dtstart \"2015-01-05\"] .\n:r2 dc:author :a2;\n    sched:cell\n          [ sched:availabilty sched:Maybe; cal:dtstart \"2015-01-01\" ] .\n`;\n  UI.rdf.parse(turtle, kb, testDocURI, 'text/turtle');\n  const SCHED = UI.rdf.Namespace('http://www.w3.org/ns/pim/schedule#');\n  const DC = UI.rdf.Namespace('http://purl.org/dc/elements/1.1/');\n  const ICAL = UI.rdf.Namespace('http://www.w3.org/2002/12/cal/ical#');\n  const invitation = kb.sym(`${testDocURI}#event1`);\n  var query = new UI.rdf.Query('Responses');\n  const variables = {\n    time: UI.rdf.variable('time'),\n    author: UI.rdf.variable('author'),\n    availabilty: UI.rdf.variable('value'),\n    response: UI.rdf.variable('response'),\n    cell: UI.rdf.variable('cell')\n  };\n  query.pat.add(invitation, SCHED('response'), variables.response);\n  query.pat.add(variables.response, DC('author'), variables.author);\n  query.pat.add(variables.response, SCHED('cell'), variables.cell);\n  query.pat.add(variables.cell, SCHED('availabilty'), variables.availabilty);\n  query.pat.add(variables.cell, ICAL('dtstart'), variables.time);\n  const options = {\n    cellFunction: (cell, x, y, value) => {\n      cell.textContent = value ? UI.utils.label(value) : '-';\n    }\n  };\n  return UI.matrix.matrixForQuery(document, query, variables.time, variables.author, variables.availabilty, options, function () {});\n}"}};var componentMeta={title:"Matrix",includeStories:["forQuery"]},mdxStoryNameToKey={"for query":"forQuery"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/MediaTypes.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,isAudio:()=>isAudio,isImage:()=>isImage,isVideo:()=>isVideo});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/index.js"),_decorators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/stories/decorators.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"Media Types",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"isaudio"},"isAudio"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#isaudio",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"isAudio",decorators:[_decorators__WEBPACK_IMPORTED_MODULE_8__.b],mdxType:"Story"},(function(){var type=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://www.w3.org/ns/iana/media-types/audio/");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/audio.mpeg"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),type),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.isAudio(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/audio.mpeg"))}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"isvideo"},"isVideo"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#isvideo",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"isVideo",decorators:[_decorators__WEBPACK_IMPORTED_MODULE_8__.b],mdxType:"Story"},(function(){var type=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://www.w3.org/ns/iana/media-types/video/");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/video.mov"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),type),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.isVideo(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/video.mov"))}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"isimage"},"isImage"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#isvideo",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"isImage",decorators:[_decorators__WEBPACK_IMPORTED_MODULE_8__.b],mdxType:"Story"},(function(){var type=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://www.w3.org/ns/iana/media-types/image/");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/image.jpeg"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),type),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.isImage(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/image.jpeg"))}))))}MDXContent.isMDXComponent=!0;var isAudio=function isAudio(){var type=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://www.w3.org/ns/iana/media-types/audio/");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/audio.mpeg"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),type),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.isAudio(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/audio.mpeg"))};isAudio.storyName="isAudio",isAudio.parameters={storySource:{source:"() => {\n  const type = UI.rdf.namedNode('http://www.w3.org/ns/iana/media-types/audio/');\n  UI.store.add(UI.rdf.namedNode('http://example.com/audio.mpeg'), UI.ns.rdf('type'), type);\n  return UI.widgets.isAudio(UI.rdf.namedNode('http://example.com/audio.mpeg'));\n}"}},isAudio.decorators=[_decorators__WEBPACK_IMPORTED_MODULE_8__.b];var isVideo=function isVideo(){var type=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://www.w3.org/ns/iana/media-types/video/");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/video.mov"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),type),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.isVideo(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/video.mov"))};isVideo.storyName="isVideo",isVideo.parameters={storySource:{source:"() => {\n  const type = UI.rdf.namedNode('http://www.w3.org/ns/iana/media-types/video/');\n  UI.store.add(UI.rdf.namedNode('http://example.com/video.mov'), UI.ns.rdf('type'), type);\n  return UI.widgets.isVideo(UI.rdf.namedNode('http://example.com/video.mov'));\n}"}},isVideo.decorators=[_decorators__WEBPACK_IMPORTED_MODULE_8__.b];var isImage=function isImage(){var type=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://www.w3.org/ns/iana/media-types/image/");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/image.jpeg"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),type),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.isImage(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/image.jpeg"))};isImage.storyName="isImage",isImage.parameters={storySource:{source:"() => {\n  const type = UI.rdf.namedNode('http://www.w3.org/ns/iana/media-types/image/');\n  UI.store.add(UI.rdf.namedNode('http://example.com/image.jpeg'), UI.ns.rdf('type'), type);\n  return UI.widgets.isImage(UI.rdf.namedNode('http://example.com/image.jpeg'));\n}"}},isImage.decorators=[_decorators__WEBPACK_IMPORTED_MODULE_8__.b];var componentMeta={title:"Media Types",includeStories:["isAudio","isVideo","isImage"]},mdxStoryNameToKey={isAudio:"isAudio",isVideo:"isVideo",isImage:"isImage"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/Notepad.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,lightColorHash:()=>lightColorHash,manageParticipation:()=>manageParticipation,notepad:()=>notepad,notepadToHtml:()=>notepadToHtml,participationObject:()=>participationObject,renderParticipants:()=>renderParticipants});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"Notepad",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"notepad-creates-a-notepad"},"notepad: Creates a notepad"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"In this first example we'll see how you can create a notepad. This method creates input fields\nwhich allow you to provide a notepad component to your application."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"The inputs will be stored to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://example-user.inrupt.net/public/example-notepad/index.ttl#this",target:"_blank",rel:"nofollow noopener noreferrer"},"https://example-user.inrupt.net/public/example-notepad/index.ttl#this")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"notepad",mdxType:"Story"},(function(){var pad=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://example-user.inrupt.net/public/example-notepad/index.ttl#this"),me=new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.NamedNode("https://example-user.inrupt.net/profile/card#me"),subject=_lib__WEBPACK_IMPORTED_MODULE_7__.store.sym("https://test.test#");return _lib__WEBPACK_IMPORTED_MODULE_7__.pad.notepad(document,pad.doc(),subject,me,{})}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"manageparticipation-creates-the-table-to-display-the-participants"},"manageParticipation: Creates the table to display the participants"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"manageParticipation",mdxType:"Story"},(function(){var me=new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.NamedNode("https://example-user.inrupt.net/profile/card#me"),structure=document.createElement("div"),container=document.createElement("div"),subject=_lib__WEBPACK_IMPORTED_MODULE_7__.store.sym("https://test.test#"),pad=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://sharonstrats.inrupt.net/public/edu.mit.solid.pane.pad/id1584238219755/index.ttl#this"),options={statusArea:container};return _lib__WEBPACK_IMPORTED_MODULE_7__.pad.manageParticipation(document,structure,pad.doc(),subject,me,options)}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"notepadtohtml-converts-a-turtle-file-to-an-html"},"notepadToHTML: Converts a Turtle file to an HTML"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"This method converts a pad.ttl document to HTML."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"notepadToHTML",mdxType:"Story"},(function(){var div=document.createElement("div"),kb=_lib__WEBPACK_IMPORTED_MODULE_7__.store,fetcher=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.fetcher(kb),pad=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://sharonstrats.inrupt.net/public/edu.mit.solid.pane.pad/id1584238219755/index.ttl#this");return fetcher.load(pad.doc()).then((function(){var htmlStr=_lib__WEBPACK_IMPORTED_MODULE_7__.pad.notepadToHTML(pad,kb);div.appendChild(document.createTextNode(htmlStr))})),div}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"lightcolorhash--determines-a-color-to-be-used-for-a-participants-notepad-entry"},"lightColorHash : Determines a color to be used for a participants notepad entry"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"This method returns a hex value for setting the color of the input box of the notepad. It does this by hashing the uri passed in as an argument. Ideally this would be the uri of the person logged in."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"lightColorHash",mdxType:"Story"},(function(){var colorStr=_lib__WEBPACK_IMPORTED_MODULE_7__.pad.lightColorHash(new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.NamedNode("https://sharonstrats.inrupt.net/profile/card#me")),inputBox=document.createElement("INPUT");return inputBox.setAttribute("type","text"),inputBox.style.backgroundColor=colorStr,inputBox}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"renderparticipants-creates-a-table-of-participants-on-a-given-notepad-document"},"renderParticipants: Creates a table of participants on a given notepad document"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Creates the table with the list of participants that have contributed to the given pad that is passed in. This gets called from manageParticipation, but can be used on it's own as well."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"renderParticipants",mdxType:"Story"},(function(){var div=document.createElement("div"),table=document.createElement("table"),kb=_lib__WEBPACK_IMPORTED_MODULE_7__.store,fetcher=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.fetcher(kb),pad=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://sharonstrats.inrupt.net/public/edu.mit.solid.pane.pad/id1584238219755/index.ttl#this");return fetcher.load(pad.doc()).then((function(){var subject=kb.sym("https://test.test#"),tableOfParticipants=_lib__WEBPACK_IMPORTED_MODULE_7__.pad.renderPartipants(document,table,pad,subject,new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.NamedNode("https://sharonstrats.inrupt.net/profile/card#me"),{});div.appendChild(tableOfParticipants)})),div}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"participationobject-contains-the-subject-pad-and-uri-for-the-participants"},"participationObject: Contains the subject, pad and URI for the participants"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"participationObject",mdxType:"Story"},(function(){var container=document.createElement("pre"),kb=_lib__WEBPACK_IMPORTED_MODULE_7__.store,subject=kb.sym("https://test.test#"),fetcher=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.fetcher(kb),pad=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://sharonstrats.inrupt.net/public/edu.mit.solid.pane.pad/id1584238219755/index.ttl#this");return fetcher.load(pad.doc()).then((function(){var me=new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.NamedNode("https://sharonstrats.inrupt.net/profile/card#me");return _lib__WEBPACK_IMPORTED_MODULE_7__.pad.participationObject(subject,pad,me)})).then((function(node){container.appendChild(document.createTextNode(JSON.stringify(node,null,2)))})),container}))))}MDXContent.isMDXComponent=!0;var notepad=function notepad(){var pad=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://example-user.inrupt.net/public/example-notepad/index.ttl#this"),me=new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.NamedNode("https://example-user.inrupt.net/profile/card#me"),subject=_lib__WEBPACK_IMPORTED_MODULE_7__.store.sym("https://test.test#");return _lib__WEBPACK_IMPORTED_MODULE_7__.pad.notepad(document,pad.doc(),subject,me,{})};notepad.storyName="notepad",notepad.parameters={storySource:{source:"() => {\n  const pad = UI.rdf.namedNode('https://example-user.inrupt.net/public/example-notepad/index.ttl#this');\n  const me = new UI.rdf.NamedNode('https://example-user.inrupt.net/profile/card#me');\n  const subject = UI.store.sym('https://test.test#');\n  const options = {};\n  return UI.pad.notepad(document, pad.doc(), subject, me, options);\n}"}};var manageParticipation=function manageParticipation(){var me=new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.NamedNode("https://example-user.inrupt.net/profile/card#me"),structure=document.createElement("div"),container=document.createElement("div"),subject=_lib__WEBPACK_IMPORTED_MODULE_7__.store.sym("https://test.test#"),pad=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://sharonstrats.inrupt.net/public/edu.mit.solid.pane.pad/id1584238219755/index.ttl#this"),options={statusArea:container};return _lib__WEBPACK_IMPORTED_MODULE_7__.pad.manageParticipation(document,structure,pad.doc(),subject,me,options)};manageParticipation.storyName="manageParticipation",manageParticipation.parameters={storySource:{source:"() => {\n  const me = new UI.rdf.NamedNode('https://example-user.inrupt.net/profile/card#me');\n  const structure = document.createElement('div');\n  const container = document.createElement('div');\n  const subject = UI.store.sym('https://test.test#');\n  const pad = UI.rdf.namedNode('https://sharonstrats.inrupt.net/public/edu.mit.solid.pane.pad/id1584238219755/index.ttl#this');\n  const options = {\n    statusArea: container\n  };\n  return UI.pad.manageParticipation(document, structure, pad.doc(), subject, me, options);\n}"}};var notepadToHtml=function notepadToHtml(){var div=document.createElement("div"),kb=_lib__WEBPACK_IMPORTED_MODULE_7__.store,fetcher=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.fetcher(kb),pad=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://sharonstrats.inrupt.net/public/edu.mit.solid.pane.pad/id1584238219755/index.ttl#this");return fetcher.load(pad.doc()).then((function(){var htmlStr=_lib__WEBPACK_IMPORTED_MODULE_7__.pad.notepadToHTML(pad,kb);div.appendChild(document.createTextNode(htmlStr))})),div};notepadToHtml.storyName="notepadToHTML",notepadToHtml.parameters={storySource:{source:"() => {\n  const div = document.createElement(\"div\");\n  const kb = UI.store;\n  const fetcher = UI.rdf.fetcher(kb);\n  const pad = UI.rdf.namedNode('https://sharonstrats.inrupt.net/public/edu.mit.solid.pane.pad/id1584238219755/index.ttl#this');\n  fetcher.load(pad.doc()).then(() => {\n    const htmlStr = UI.pad.notepadToHTML(pad, kb);\n    div.appendChild(document.createTextNode(htmlStr));\n  });\n  return div;\n}"}};var lightColorHash=function lightColorHash(){var colorStr=_lib__WEBPACK_IMPORTED_MODULE_7__.pad.lightColorHash(new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.NamedNode("https://sharonstrats.inrupt.net/profile/card#me")),inputBox=document.createElement("INPUT");return inputBox.setAttribute("type","text"),inputBox.style.backgroundColor=colorStr,inputBox};lightColorHash.storyName="lightColorHash",lightColorHash.parameters={storySource:{source:"() => {\n  const colorStr = UI.pad.lightColorHash(new UI.rdf.NamedNode('https://sharonstrats.inrupt.net/profile/card#me'));\n  const inputBox = document.createElement('INPUT');\n  inputBox.setAttribute(\"type\", \"text\");\n  inputBox.style.backgroundColor = colorStr;\n  return inputBox;\n}"}};var renderParticipants=function renderParticipants(){var div=document.createElement("div"),table=document.createElement("table"),kb=_lib__WEBPACK_IMPORTED_MODULE_7__.store,fetcher=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.fetcher(kb),pad=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://sharonstrats.inrupt.net/public/edu.mit.solid.pane.pad/id1584238219755/index.ttl#this");return fetcher.load(pad.doc()).then((function(){var subject=kb.sym("https://test.test#"),tableOfParticipants=_lib__WEBPACK_IMPORTED_MODULE_7__.pad.renderPartipants(document,table,pad,subject,new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.NamedNode("https://sharonstrats.inrupt.net/profile/card#me"),{});div.appendChild(tableOfParticipants)})),div};renderParticipants.storyName="renderParticipants",renderParticipants.parameters={storySource:{source:"() => {\n  const div = document.createElement(\"div\");\n  const table = document.createElement('table');\n  const kb = UI.store;\n  const fetcher = UI.rdf.fetcher(kb);\n  const pad = UI.rdf.namedNode('https://sharonstrats.inrupt.net/public/edu.mit.solid.pane.pad/id1584238219755/index.ttl#this');\n  fetcher.load(pad.doc()).then(() => {\n    // subject = new NamedNode('test') // this i think the page where a list.. ns.ws('participants') are stored\n    const subject = kb.sym('https://test.test#');\n    const options = {}; // what to put in options\n    //options are used in the button personTR there are the following properties can be defined deleteFunction, link, draggable\n\n    const tableOfParticipants = UI.pad.renderPartipants(document, table, pad, subject, new UI.rdf.NamedNode('https://sharonstrats.inrupt.net/profile/card#me'), options);\n    div.appendChild(tableOfParticipants);\n  });\n  return div;\n}"}};var participationObject=function participationObject(){var container=document.createElement("pre"),kb=_lib__WEBPACK_IMPORTED_MODULE_7__.store,subject=kb.sym("https://test.test#"),fetcher=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.fetcher(kb),pad=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://sharonstrats.inrupt.net/public/edu.mit.solid.pane.pad/id1584238219755/index.ttl#this");return fetcher.load(pad.doc()).then((function(){var me=new _lib__WEBPACK_IMPORTED_MODULE_7__.rdf.NamedNode("https://sharonstrats.inrupt.net/profile/card#me");return _lib__WEBPACK_IMPORTED_MODULE_7__.pad.participationObject(subject,pad,me)})).then((function(node){container.appendChild(document.createTextNode(JSON.stringify(node,null,2)))})),container};participationObject.storyName="participationObject",participationObject.parameters={storySource:{source:"() => {\n  const container = document.createElement(\"pre\");\n  const kb = UI.store;\n  const subject = kb.sym('https://test.test#');\n  const fetcher = UI.rdf.fetcher(kb);\n  const pad = UI.rdf.namedNode('https://sharonstrats.inrupt.net/public/edu.mit.solid.pane.pad/id1584238219755/index.ttl#this');\n  fetcher.load(pad.doc()).then(() => {\n    const me = new UI.rdf.NamedNode('https://sharonstrats.inrupt.net/profile/card#me');\n    return UI.pad.participationObject(subject, pad, me);\n  }).then(node => {\n    container.appendChild(document.createTextNode(JSON.stringify(node, null, 2)));\n  });\n  return container;\n}"}};var componentMeta={title:"Notepad",includeStories:["notepad","manageParticipation","notepadToHtml","lightColorHash","renderParticipants","participationObject"]},mdxStoryNameToKey={notepad:"notepad",manageParticipation:"manageParticipation",notepadToHTML:"notepadToHtml",lightColorHash:"lightColorHash",renderParticipants:"renderParticipants",participationObject:"participationObject"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/RdfUtils.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{allClassUris:()=>allClassUris,default:()=>__WEBPACK_DEFAULT_EXPORT__,defaultAnnotationStore:()=>defaultAnnotationStore,extractLogUri:()=>extractLogUri,propertyTriage:()=>propertyTriage});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/index.js"),_decorators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/stories/decorators.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"RDF utilities",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"allclassuris"},"allClassUris"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Retrieve all RDF class URIs from solid-ui's RDF store"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#allclassuris",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"allClassUris",decorators:[_decorators__WEBPACK_IMPORTED_MODULE_8__.b],mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#some-thing"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#some-class")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#some-other-thing"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#some-other-class")),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.allClassURIs()}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"defaultannotationstore"},"defaultAnnotationStore"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Make a URI in the Tabulator.org annotation store out of the URI of the thing to be annotated."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#defaultannotationstore",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"defaultAnnotationStore",decorators:[_decorators__WEBPACK_IMPORTED_MODULE_8__.b],mdxType:"Story"},(function(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.defaultAnnotationStore(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/a/b.html"))}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"extractloguri"},"extractLogURI"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"To figure out the log URI from the full URI used to invoke the reasoner"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#extractloguri",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"extractLogURI",decorators:[_decorators__WEBPACK_IMPORTED_MODULE_8__.b],mdxType:"Story"},(function(){return decodeURIComponent(_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.extractLogURI("https://example.com/logFile=http%3A%2F%2Fexample.org%2Flogs.ttl&rulesFile=ttp%3A%2F%2Fexample.org%2Frules.ttl"))}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"propertytriage"},"propertyTriage"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Figuring which properties we know about"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#propertytriage",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"propertyTriage",decorators:[_decorators__WEBPACK_IMPORTED_MODULE_8__.b],mdxType:"Story"},(function(){var kb=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.graph();return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.propertyTriage(kb)}))))}MDXContent.isMDXComponent=!0;var allClassUris=function allClassUris(){return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#some-thing"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#some-class")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#some-other-thing"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#some-other-class")),_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.allClassURIs()};allClassUris.storyName="allClassUris",allClassUris.parameters={storySource:{source:"() => {\n  UI.store.add(UI.rdf.namedNode('http://example.com/#some-thing'), UI.rdf.namedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#type'), UI.rdf.namedNode('http://example.com/#some-class'));\n  UI.store.add(UI.rdf.namedNode('http://example.com/#some-other-thing'), UI.rdf.namedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#type'), UI.rdf.namedNode('http://example.com/#some-other-class'));\n  return UI.widgets.allClassURIs();\n}"}},allClassUris.decorators=[_decorators__WEBPACK_IMPORTED_MODULE_8__.b];var defaultAnnotationStore=function defaultAnnotationStore(){return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.defaultAnnotationStore(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/a/b.html"))};defaultAnnotationStore.storyName="defaultAnnotationStore",defaultAnnotationStore.parameters={storySource:{source:"() => {\n  const url = 'http://example.com/a/b.html';\n  return UI.widgets.defaultAnnotationStore(UI.rdf.namedNode(url));\n}"}},defaultAnnotationStore.decorators=[_decorators__WEBPACK_IMPORTED_MODULE_8__.b];var extractLogUri=function extractLogUri(){return decodeURIComponent(_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.extractLogURI("https://example.com/logFile=http%3A%2F%2Fexample.org%2Flogs.ttl&rulesFile=ttp%3A%2F%2Fexample.org%2Frules.ttl"))};extractLogUri.storyName="extractLogURI",extractLogUri.parameters={storySource:{source:"() => {\n  const url = 'https://example.com/logFile=http%3A%2F%2Fexample.org%2Flogs.ttl&rulesFile=ttp%3A%2F%2Fexample.org%2Frules.ttl';\n  return decodeURIComponent(UI.widgets.extractLogURI(url));\n}"}},extractLogUri.decorators=[_decorators__WEBPACK_IMPORTED_MODULE_8__.b];var propertyTriage=function propertyTriage(){var kb=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.graph();return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.propertyTriage(kb)};propertyTriage.storyName="propertyTriage",propertyTriage.parameters={storySource:{source:"() => {\n  // FIXME: make this example return actual possible properties\n  const kb = UI.rdf.graph();\n  return UI.widgets.propertyTriage(kb);\n}"}},propertyTriage.decorators=[_decorators__WEBPACK_IMPORTED_MODULE_8__.b];var componentMeta={title:"RDF utilities",includeStories:["allClassUris","defaultAnnotationStore","extractLogUri","propertyTriage"]},mdxStoryNameToKey={allClassUris:"allClassUris",defaultAnnotationStore:"defaultAnnotationStore",extractLogURI:"extractLogUri",propertyTriage:"propertyTriage"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/Tabs.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{backgroundColor:()=>backgroundColor,default:()=>__WEBPACK_DEFAULT_EXPORT__,loadTurtleDecorator:()=>loadTurtleDecorator,onClose:()=>onClose,optionItems:()=>optionItems,orientation:()=>orientation,rdfCollection:()=>rdfCollection,renderTab:()=>renderTab,renderTabSettings:()=>renderTabSettings,selectedTab:()=>selectedTab,startEmpty:()=>startEmpty,unsortedTriples:()=>unsortedTriples});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./lib/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var loadTurtleDecorator=function loadTurtleDecorator(Story){var _Story=Story(),render=_Story.render,data=_Story.data;_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.parse(data,_lib__WEBPACK_IMPORTED_MODULE_8__.store,location.origin,"text/turtle",(function(error){error&&console.error(error)}));var div=document.createElement("div"),pre=document.createElement("pre");return pre.appendChild(document.createTextNode(data)),div.appendChild(pre),div.appendChild(render()),div},layoutProps={loadTurtleDecorator};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.h_,{title:"Tabs",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"tabwidget-populating-content-using-an-rdf-collection"},"tabWidget: Populating content using an RDF collection"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"In this first example we'll see how you can generate a tabs widget using triples that are formatted as a collection in\nRDF. See ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_tabs_.html#tabwidget",target:"_blank",rel:"nofollow noopener noreferrer"},"API documentation")," for more\ninfo about how to use the tabWidget."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"The triples belows shows the minimum data you need to start using the tabWidget in combination with store."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"rdf collection",decorators:[loadTurtleDecorator],mdxType:"Story"},(function(){var subject=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#subject1"),predicate=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#predicate1");return{data:"\n@prefix : <#> .\n:subject1\n    :predicate1 ( :item1A :item1B ) .\n        ",render:function render(){return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({subject,predicate,renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject.uri}})}}}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"Note that you would probably use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"UI.rdf.namedNode")," directly from rdflib.js. (E.g. instead of\n",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"UI.rdf.namedNode")," you would probably make use of namedNode with\n",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"import { namedNode } from 'rdflib'"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"tabwidget-populating-content-using-unsorted-triples"},"tabWidget: Populating content using unsorted triples"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"In this second example we'll use an unsorted set of triples instead of a collection."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"This is the data we will be working with. Note that we've also added labels to the items to help the widget know how to label the tabs."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"Note that we've set option ordered to false in this example."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"unsorted triples",decorators:[loadTurtleDecorator],mdxType:"Story"},(function(){var subject=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#subject2"),predicate=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#predicate2");return{data:'\n@prefix :     <#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n:subject2\n    :predicate2 :item2A, :item2B .\n:item2A\n    rdfs:label "Tab 1" .\n:item2B\n    rdfs:label "Tab 2" .\n        ',render:function render(){return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({subject,predicate,ordered:!1,renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+_lib__WEBPACK_IMPORTED_MODULE_8__.utils.label(subject)}})}}}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"tabwidget-populating-content-using-option-items"},"tabWidget: Populating content using option items"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"Finally we can set the items manually by using option items."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"We do not need to use options subject and predicate when using items."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"option items",mdxType:"Story"},(function(){var item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject}})}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null," For the remaining examples we'll use option items to populate our tabs."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"tabwidget-option-backgroundcolor"},"tabWidget: Option backgroundColor"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"Using option ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"backgroundColor")," we can set a specific color (in hex value) to our tabs. It will consider how light a\ncolor is when figuring out which color to set to the text. It will also distinguish between selected and not selected\ntabs by coloring the selected tab a bit darker."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"background color",args:{backgroundColor:"#ff0000"},argTypes:{backgroundColor:{control:{type:"select",options:["#ff0000","#00ff00","#0000ff"]}}},mdxType:"Story"},(function(_ref2){var backgroundColor=_ref2.backgroundColor,item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({backgroundColor,items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject}})}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.xP,{story:"background color",mdxType:"Props"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"tabwidget-option-onclose"},"tabWidget: Option onClose"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"on close",mdxType:"Story"},(function(){var item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({onClose:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("closed"),items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject}})}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"tabwidget-option-orientation"},"tabWidget: Option orientation"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,"Using option ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"orientation")," we can set how the tabs and body should be positioned."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"orientation",args:{orientation:"1"},argTypes:{orientation:{control:{type:"select",options:["0","1","2","3"]}}},mdxType:"Story"},">",(function(_ref3){var orientation=_ref3.orientation,item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({orientation,items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject}})}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.xP,{story:"orientation",mdxType:"Props"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"tabwidget-option-rendertab"},"tabWidget: Option renderTab"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"renderTab")," allows us to override the default behavior for how tabs are rendered, e.g. which text should be shown for each tab."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"renderTab",mdxType:"Story"},(function(){var item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject},renderTab:function renderTab(tabDiv,subject){tabDiv.innerText="Go to "+subject.uri}})}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"tabwidget-option-rendertabsettings"},"tabWidget: Option renderTabSettings"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"renderTabSettings")," functions much like ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"renderMain"),", expect that it is triggered by holding ALT key (Option key on Mac\n) and clicking on a tab."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"renderTabSettings",mdxType:"Story"},(function(){var item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject},renderTabSettings:function renderTabSettings(bodyMain,subject){bodyMain.innerText="Settings for "+subject.uri}})}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"tabwidget-option-selectedtab"},"tabWidget: Option selectedTab"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"selectedTab")," allows you to set which tab should be opened by when the widget is initially rendered. It must be used\nin junction with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"renderTab")," since it relies on ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"dataset.name")," being set."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"selectedTab",mdxType:"Story"},(function(){var item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject},renderTab:function renderTab(tabDiv,subject){tabDiv.dataset.name=subject.uri,tabDiv.innerText=_lib__WEBPACK_IMPORTED_MODULE_8__.utils.label(subject)},selectedTab:item2.uri})}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"tabwidget-option-startempty"},"tabWidget: Option startEmpty"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"startEmpty")," makes it so that the body of a tab isn't shown when initially rendered."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"startEmpty",mdxType:"Story"},(function(){var item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({items:[item1,item2],startEmpty:!0,renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject}})}))))}MDXContent.isMDXComponent=!0;var rdfCollection=function rdfCollection(){var subject=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#subject1"),predicate=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#predicate1");return{data:"\n@prefix : <#> .\n:subject1\n    :predicate1 ( :item1A :item1B ) .\n        ",render:function render(){return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({subject,predicate,renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject.uri}})}}};rdfCollection.storyName="rdf collection",rdfCollection.parameters={storySource:{source:"() => {\n  const subject = UI.rdf.namedNode(location.origin + '#subject1');\n  const predicate = UI.rdf.namedNode(location.origin + '#predicate1');\n  return {\n    data: `\n@prefix : <#> .\n:subject1\n    :predicate1 ( :item1A :item1B ) .\n        `,\n    render: () => UI.tabs.tabWidget({\n      subject,\n      predicate,\n      renderMain: (bodyMain, subject) => {\n        bodyMain.innerText = `Content of ${subject.uri}`;\n      }\n    })\n  };\n}"}},rdfCollection.decorators=[loadTurtleDecorator];var unsortedTriples=function unsortedTriples(){var subject=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#subject2"),predicate=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#predicate2");return{data:'\n@prefix :     <#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n:subject2\n    :predicate2 :item2A, :item2B .\n:item2A\n    rdfs:label "Tab 1" .\n:item2B\n    rdfs:label "Tab 2" .\n        ',render:function render(){return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({subject,predicate,ordered:!1,renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+_lib__WEBPACK_IMPORTED_MODULE_8__.utils.label(subject)}})}}};unsortedTriples.storyName="unsorted triples",unsortedTriples.parameters={storySource:{source:"() => {\n  const subject = UI.rdf.namedNode(location.origin + '#subject2');\n  const predicate = UI.rdf.namedNode(location.origin + '#predicate2');\n  return {\n    data: `\n@prefix :     <#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n:subject2\n    :predicate2 :item2A, :item2B .\n:item2A\n    rdfs:label \"Tab 1\" .\n:item2B\n    rdfs:label \"Tab 2\" .\n        `,\n    render: () => UI.tabs.tabWidget({\n      subject,\n      predicate,\n      ordered: false,\n      renderMain: (bodyMain, subject) => {\n        bodyMain.innerText = `Content of ${UI.utils.label(subject)}`;\n      }\n    })\n  };\n}"}},unsortedTriples.decorators=[loadTurtleDecorator];var optionItems=function optionItems(){var item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject}})};optionItems.storyName="option items",optionItems.parameters={storySource:{source:"() => {\n  const item1 = UI.rdf.namedNode(location.origin + '#item3A');\n  const item2 = UI.rdf.namedNode(location.origin + '#item3B');\n  return UI.tabs.tabWidget({\n    items: [item1, item2],\n    renderMain: (bodyMain, subject) => {\n      bodyMain.innerText = `Content of ${subject}`;\n    }\n  });\n}"}};var backgroundColor=function backgroundColor(_ref4){var backgroundColor=_ref4.backgroundColor,item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({backgroundColor,items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject}})};backgroundColor.storyName="background color",backgroundColor.argTypes={backgroundColor:{control:{type:"select",options:["#ff0000","#00ff00","#0000ff"]}}},backgroundColor.args={backgroundColor:"#ff0000"},backgroundColor.parameters={storySource:{source:"({\n  backgroundColor\n}) => {\n  const item1 = UI.rdf.namedNode(location.origin + '#item3A');\n  const item2 = UI.rdf.namedNode(location.origin + '#item3B');\n  return UI.tabs.tabWidget({\n    backgroundColor,\n    items: [item1, item2],\n    renderMain: (bodyMain, subject) => {\n      bodyMain.innerText = `Content of ${subject}`;\n    }\n  });\n}"}};var onClose=function onClose(){var item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({onClose:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("closed"),items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject}})};onClose.storyName="on close",onClose.parameters={storySource:{source:"() => {\n  const item1 = UI.rdf.namedNode(location.origin + '#item3A');\n  const item2 = UI.rdf.namedNode(location.origin + '#item3B');\n  return UI.tabs.tabWidget({\n    onClose: action('closed'),\n    items: [item1, item2],\n    renderMain: (bodyMain, subject) => {\n      bodyMain.innerText = `Content of ${subject}`;\n    }\n  });\n}"}};var orientation=function orientation(_ref5){var orientation=_ref5.orientation,item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({orientation,items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject}})};orientation.storyName="orientation",orientation.argTypes={orientation:{control:{type:"select",options:["0","1","2","3"]}}},orientation.args={orientation:"1"},orientation.parameters={storySource:{source:"({\n  orientation\n}) => {\n  const item1 = UI.rdf.namedNode(location.origin + '#item3A');\n  const item2 = UI.rdf.namedNode(location.origin + '#item3B');\n  return UI.tabs.tabWidget({\n    orientation,\n    items: [item1, item2],\n    renderMain: (bodyMain, subject) => {\n      bodyMain.innerText = `Content of ${subject}`;\n    }\n  });\n}"}};var renderTab=function renderTab(){var item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject},renderTab:function renderTab(tabDiv,subject){tabDiv.innerText="Go to "+subject.uri}})};renderTab.storyName="renderTab",renderTab.parameters={storySource:{source:"() => {\n  const item1 = UI.rdf.namedNode(location.origin + '#item3A');\n  const item2 = UI.rdf.namedNode(location.origin + '#item3B');\n  return UI.tabs.tabWidget({\n    items: [item1, item2],\n    renderMain: (bodyMain, subject) => {\n      bodyMain.innerText = `Content of ${subject}`;\n    },\n    renderTab: (tabDiv, subject) => {\n      tabDiv.innerText = `Go to ${subject.uri}`;\n    }\n  });\n}"}};var renderTabSettings=function renderTabSettings(){var item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject},renderTabSettings:function renderTabSettings(bodyMain,subject){bodyMain.innerText="Settings for "+subject.uri}})};renderTabSettings.storyName="renderTabSettings",renderTabSettings.parameters={storySource:{source:"() => {\n  const item1 = UI.rdf.namedNode(location.origin + '#item3A');\n  const item2 = UI.rdf.namedNode(location.origin + '#item3B');\n  return UI.tabs.tabWidget({\n    items: [item1, item2],\n    renderMain: (bodyMain, subject) => {\n      bodyMain.innerText = `Content of ${subject}`;\n    },\n    renderTabSettings: (bodyMain, subject) => {\n      bodyMain.innerText = `Settings for ${subject.uri}`;\n    }\n  });\n}"}};var selectedTab=function selectedTab(){var item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({items:[item1,item2],renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject},renderTab:function renderTab(tabDiv,subject){tabDiv.dataset.name=subject.uri,tabDiv.innerText=_lib__WEBPACK_IMPORTED_MODULE_8__.utils.label(subject)},selectedTab:item2.uri})};selectedTab.storyName="selectedTab",selectedTab.parameters={storySource:{source:"() => {\n  const item1 = UI.rdf.namedNode(location.origin + '#item3A');\n  const item2 = UI.rdf.namedNode(location.origin + '#item3B');\n  return UI.tabs.tabWidget({\n    items: [item1, item2],\n    renderMain: (bodyMain, subject) => {\n      bodyMain.innerText = `Content of ${subject}`;\n    },\n    renderTab: (tabDiv, subject) => {\n      tabDiv.dataset.name = subject.uri;\n      tabDiv.innerText = UI.utils.label(subject);\n    },\n    selectedTab: item2.uri\n  });\n}"}};var startEmpty=function startEmpty(){var item1=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3A"),item2=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode(location.origin+"#item3B");return _lib__WEBPACK_IMPORTED_MODULE_8__.tabs.tabWidget({items:[item1,item2],startEmpty:!0,renderMain:function renderMain(bodyMain,subject){bodyMain.innerText="Content of "+subject}})};startEmpty.storyName="startEmpty",startEmpty.parameters={storySource:{source:"() => {\n  const item1 = UI.rdf.namedNode(location.origin + '#item3A');\n  const item2 = UI.rdf.namedNode(location.origin + '#item3B');\n  return UI.tabs.tabWidget({\n    items: [item1, item2],\n    startEmpty: true,\n    renderMain: (bodyMain, subject) => {\n      bodyMain.innerText = `Content of ${subject}`;\n    }\n  });\n}"}};var componentMeta={title:"Tabs",includeStories:["rdfCollection","unsortedTriples","optionItems","backgroundColor","onClose","orientation","renderTab","renderTabSettings","selectedTab","startEmpty"]},mdxStoryNameToKey={"rdf collection":"rdfCollection","unsorted triples":"unsortedTriples","option items":"optionItems","background color":"backgroundColor","on close":"onClose",orientation:"orientation",renderTab:"renderTab",renderTabSettings:"renderTabSettings",selectedTab:"selectedTab",startEmpty:"startEmpty"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/Widgets.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,twoLineTransactions:()=>twoLineTransactions,twoLineTrip:()=>twoLineTrip,twoLineWidgetForClass:()=>twoLineWidgetForClass});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"Widgets",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"twolinetransactions"},"twoLineTransactions"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Display a transaction"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#twolinetransaction",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"twoLineTransactions",mdxType:"Story"},(function(){var twoLineTransaction=_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.index.twoLine["http://www.w3.org/2000/10/swap/pim/qif#Transaction"],thing=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#transaction");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.qu("payee"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://payee.com/#me")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.qu("date"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.literal("2020-01-01")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.qu("amount"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.literal("20 USD")),twoLineTransaction(document,thing)}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"twolinetrip"},"twoLineTrip"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Display a trip"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#twolinetrip",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"twoLineTrip",mdxType:"Story"},(function(){var twoLineTrip=_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.index.twoLine["http://www.w3.org/ns/pim/trip#Trip"],thing=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#trip");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.dc("title"),"Some trip"),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.cal("dtstart"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.literal("2020-01-01")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.cal("dtend"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.literal("2020-02-02")),twoLineTrip(document,thing)}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"twolinewidgetforclass"},"twoLineWidgetForClass"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,"Find a function that can create a widget for a given class"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#twolinewidgetforclass",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"twoLineWidgetForClass",mdxType:"Story"},(function(){var rdfClass=_lib__WEBPACK_IMPORTED_MODULE_7__.ns.foaf("Person"),thing=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://michielbdejong.inrupt.net/profile/card#me");return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.index.twoLine.widgetForClass(rdfClass)(document,thing)}))))}MDXContent.isMDXComponent=!0;var twoLineTransactions=function twoLineTransactions(){var twoLineTransaction=_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.index.twoLine["http://www.w3.org/2000/10/swap/pim/qif#Transaction"],thing=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#transaction");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.qu("payee"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://payee.com/#me")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.qu("date"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.literal("2020-01-01")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.qu("amount"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.literal("20 USD")),twoLineTransaction(document,thing)};twoLineTransactions.storyName="twoLineTransactions",twoLineTransactions.parameters={storySource:{source:"() => {\n  const twoLineTransaction = UI.widgets.index.twoLine['http://www.w3.org/2000/10/swap/pim/qif#Transaction'];\n  const thing = UI.rdf.namedNode('http://example.com/#transaction');\n  UI.store.add(thing, UI.ns.qu('payee'), UI.rdf.namedNode('https://payee.com/#me'));\n  UI.store.add(thing, UI.ns.qu('date'), UI.rdf.literal('2020-01-01'));\n  UI.store.add(thing, UI.ns.qu('amount'), UI.rdf.literal('20 USD'));\n  return twoLineTransaction(document, thing);\n}"}};var twoLineTrip=function twoLineTrip(){var twoLineTrip=_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.index.twoLine["http://www.w3.org/ns/pim/trip#Trip"],thing=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://example.com/#trip");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.dc("title"),"Some trip"),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.cal("dtstart"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.literal("2020-01-01")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(thing,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.cal("dtend"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.literal("2020-02-02")),twoLineTrip(document,thing)};twoLineTrip.storyName="twoLineTrip",twoLineTrip.parameters={storySource:{source:"() => {\n  const twoLineTrip = UI.widgets.index.twoLine['http://www.w3.org/ns/pim/trip#Trip'];\n  const thing = UI.rdf.namedNode('http://example.com/#trip');\n  UI.store.add(thing, UI.ns.dc('title'), 'Some trip');\n  UI.store.add(thing, UI.ns.cal('dtstart'), UI.rdf.literal('2020-01-01'));\n  UI.store.add(thing, UI.ns.cal('dtend'), UI.rdf.literal('2020-02-02'));\n  return twoLineTrip(document, thing);\n}"}};var twoLineWidgetForClass=function twoLineWidgetForClass(){var rdfClass=_lib__WEBPACK_IMPORTED_MODULE_7__.ns.foaf("Person"),thing=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("https://michielbdejong.inrupt.net/profile/card#me");return _lib__WEBPACK_IMPORTED_MODULE_7__.widgets.index.twoLine.widgetForClass(rdfClass)(document,thing)};twoLineWidgetForClass.storyName="twoLineWidgetForClass",twoLineWidgetForClass.parameters={storySource:{source:"() => {\n  const rdfClass = UI.ns.foaf('Person');\n  const thing = UI.rdf.namedNode('https://michielbdejong.inrupt.net/profile/card#me');\n  const widgetFunction = UI.widgets.index.twoLine.widgetForClass(rdfClass);\n  const widget = widgetFunction(document, thing);\n  return widget;\n}"}};var componentMeta={title:"Widgets",includeStories:["twoLineTransactions","twoLineTrip","twoLineWidgetForClass"]},mdxStoryNameToKey={twoLineTransactions:"twoLineTransactions",twoLineTrip:"twoLineTrip",twoLineWidgetForClass:"twoLineWidgetForClass"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/forms/Fields.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{basicFields:()=>basicFields,default:()=>__WEBPACK_DEFAULT_EXPORT__,formGroupNoAlready:()=>formGroupNoAlready,formGroupWithAlready:()=>formGroupWithAlready});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./lib/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.h_,{title:"Forms/fields",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"basic-fields"},"basic fields"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"basic fields",mdxType:"Story"},(function(){var container=document.createElement("div"),already={},subject=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#this"),form=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#form"),doc=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/"),callbackFunction=function callbackFunction(ok,errorMessage){console.log(ok,errorMessage,document.getElementById("div-basicField").innerHTML)};return _lib__WEBPACK_IMPORTED_MODULE_8__.store.add(form,_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("property"),_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#some-property"),doc),document.outlineManager={appendPropertyTRs:function appendPropertyTRs(){}},["PhoneField","EmailField","ColorField","DateField","DateTimeField","TimeField","NumericField","IntegerField","DecimalField","FloatField","TextField","SingleLineTextField","NamedNodeURIField"].forEach((function(fieldName){_lib__WEBPACK_IMPORTED_MODULE_8__.widgets.field[_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui(fieldName).uri](document,container,already,subject,form,doc,callbackFunction)})),container}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"uiwidgetsfielduinsuiformuri--uiwidgetsfielduinsuigroupuri-no-already"},"UI.widgets.field","[UI.ns.ui('Form').uri]"," / UI.widgets.field","[UI.ns.ui('Group').uri]",", no already"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"form / group, no already",mdxType:"Story"},(function(){var container=document.createElement("div"),subject=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#this"),form=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#form"),store=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#store");return _lib__WEBPACK_IMPORTED_MODULE_8__.store.add(form,_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("parts"),new _lib__WEBPACK_IMPORTED_MODULE_8__.rdf.Collection([_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#part1"),_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#part2")]),_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/")),_lib__WEBPACK_IMPORTED_MODULE_8__.store.add(_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#part1"),_lib__WEBPACK_IMPORTED_MODULE_8__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_8__.store.add(_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#part1"),_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("contents"),"[this is part 1 of the form]"),_lib__WEBPACK_IMPORTED_MODULE_8__.store.add(_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#part2"),_lib__WEBPACK_IMPORTED_MODULE_8__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_8__.store.add(_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#part2"),_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("contents"),"[this is part 2 of the form]"),document.outlineManager={appendPropertyTRs:function appendPropertyTRs(){}},_lib__WEBPACK_IMPORTED_MODULE_8__.widgets.field[_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("Form").uri](document,container,{},subject,form,store,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("callback")),container}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("h2",{id:"uiwidgetsfielduinsuiformuri--xuiwidgetsfielduinsuigroupuri-with-already"},"UI.widgets.field","[UI.ns.ui('Form').uri]"," / xUI.widgets.field","[UI.ns.ui('Group').uri]",", with already"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"UI.widgets.field[UI.ns.ui('Group').uri]")," is currently synonymous with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"UI.widgets.field[UI.ns.ui('Form').uri]"),", but\nthis additional example shows the use of ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)("inlineCode",{parentName:"p"},"already"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.oG,{name:"form / group, with already",mdxType:"Story"},(function(){var _already,container=document.createElement("div"),subject=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#this"),form=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#form"),store=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#store"),already=((_already={})[subject.toNT()+"|"+form.toNT()]=!0,_already);return document.outlineManager={appendPropertyTRs:function appendPropertyTRs(){}},_lib__WEBPACK_IMPORTED_MODULE_8__.widgets.field[_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("Group").uri](document,container,already,subject,form,store,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("callback")),container}))))}MDXContent.isMDXComponent=!0;var basicFields=function basicFields(){var container=document.createElement("div"),already={},subject=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#this"),form=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#form"),doc=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/"),callbackFunction=function callbackFunction(ok,errorMessage){console.log(ok,errorMessage,document.getElementById("div-basicField").innerHTML)};return _lib__WEBPACK_IMPORTED_MODULE_8__.store.add(form,_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("property"),_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#some-property"),doc),document.outlineManager={appendPropertyTRs:function appendPropertyTRs(){}},["PhoneField","EmailField","ColorField","DateField","DateTimeField","TimeField","NumericField","IntegerField","DecimalField","FloatField","TextField","SingleLineTextField","NamedNodeURIField"].forEach((function(fieldName){_lib__WEBPACK_IMPORTED_MODULE_8__.widgets.field[_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui(fieldName).uri](document,container,already,subject,form,doc,callbackFunction)})),container};basicFields.storyName="basic fields",basicFields.parameters={storySource:{source:"() => {\n  const container = document.createElement('div');\n  const already = {};\n  const subject = UI.rdf.namedNode('http://example.com/#this');\n  const form = UI.rdf.namedNode('http://example.com/#form');\n  const doc = UI.rdf.namedNode('http://example.com/');\n\n  const callbackFunction = (ok, errorMessage) => {\n    console.log(ok, errorMessage, document.getElementById('div-basicField').innerHTML);\n  };\n\n  UI.store.add(form, UI.ns.ui('property'), UI.rdf.namedNode('http://example.com/#some-property'), doc); // FIXME: https://github.com/solid/solid-ui/issues/239\n\n  document.outlineManager = {\n    appendPropertyTRs: () => {}\n  };\n  ['PhoneField', 'EmailField', 'ColorField', 'DateField', 'DateTimeField', 'TimeField', 'NumericField', 'IntegerField', 'DecimalField', 'FloatField', 'TextField', 'SingleLineTextField', 'NamedNodeURIField'].forEach(fieldName => {\n    UI.widgets.field[UI.ns.ui(fieldName).uri](document, container, already, subject, form, doc, callbackFunction);\n  });\n  return container;\n}"}};var formGroupNoAlready=function formGroupNoAlready(){var container=document.createElement("div"),subject=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#this"),form=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#form"),store=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#store");return _lib__WEBPACK_IMPORTED_MODULE_8__.store.add(form,_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("parts"),new _lib__WEBPACK_IMPORTED_MODULE_8__.rdf.Collection([_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#part1"),_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#part2")]),_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/")),_lib__WEBPACK_IMPORTED_MODULE_8__.store.add(_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#part1"),_lib__WEBPACK_IMPORTED_MODULE_8__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_8__.store.add(_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#part1"),_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("contents"),"[this is part 1 of the form]"),_lib__WEBPACK_IMPORTED_MODULE_8__.store.add(_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#part2"),_lib__WEBPACK_IMPORTED_MODULE_8__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_8__.store.add(_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#part2"),_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("contents"),"[this is part 2 of the form]"),document.outlineManager={appendPropertyTRs:function appendPropertyTRs(){}},_lib__WEBPACK_IMPORTED_MODULE_8__.widgets.field[_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("Form").uri](document,container,{},subject,form,store,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("callback")),container};formGroupNoAlready.storyName="form / group, no already",formGroupNoAlready.parameters={storySource:{source:"() => {\n  const container = document.createElement('div');\n  const already = {};\n  const subject = UI.rdf.namedNode('http://example.com/#this');\n  const form = UI.rdf.namedNode('http://example.com/#form');\n  const store = UI.rdf.namedNode('http://example.com/#store');\n  UI.store.add(form, UI.ns.ui('parts'), new UI.rdf.Collection([UI.rdf.namedNode('http://example.com/#part1'), UI.rdf.namedNode('http://example.com/#part2')]), UI.rdf.namedNode('http://example.com/'));\n  UI.store.add(UI.rdf.namedNode('http://example.com/#part1'), UI.ns.rdf('type'), UI.ns.ui('Comment'));\n  UI.store.add(UI.rdf.namedNode('http://example.com/#part1'), UI.ns.ui('contents'), '[this is part 1 of the form]');\n  UI.store.add(UI.rdf.namedNode('http://example.com/#part2'), UI.ns.rdf('type'), UI.ns.ui('Comment'));\n  UI.store.add(UI.rdf.namedNode('http://example.com/#part2'), UI.ns.ui('contents'), '[this is part 2 of the form]'); // FIXME: https://github.com/solid/solid-ui/issues/239\n\n  document.outlineManager = {\n    appendPropertyTRs: () => {}\n  };\n  UI.widgets.field[UI.ns.ui('Form').uri](document, container, already, subject, form, store, action('callback'));\n  return container;\n}"}};var formGroupWithAlready=function formGroupWithAlready(){var _already2,container=document.createElement("div"),subject=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#this"),form=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#form"),store=_lib__WEBPACK_IMPORTED_MODULE_8__.rdf.namedNode("http://example.com/#store"),already=((_already2={})[subject.toNT()+"|"+form.toNT()]=!0,_already2);return document.outlineManager={appendPropertyTRs:function appendPropertyTRs(){}},_lib__WEBPACK_IMPORTED_MODULE_8__.widgets.field[_lib__WEBPACK_IMPORTED_MODULE_8__.ns.ui("Group").uri](document,container,already,subject,form,store,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("callback")),container};formGroupWithAlready.storyName="form / group, with already",formGroupWithAlready.parameters={storySource:{source:"() => {\n  const container = document.createElement('div');\n  const subject = UI.rdf.namedNode('http://example.com/#this');\n  const form = UI.rdf.namedNode('http://example.com/#form');\n  const store = UI.rdf.namedNode('http://example.com/#store');\n  const key = subject.toNT() + '|' + form.toNT();\n  const already = {\n    [key]: true\n  }; // FIXME: https://github.com/solid/solid-ui/issues/239\n\n  document.outlineManager = {\n    appendPropertyTRs: () => {}\n  };\n  UI.widgets.field[UI.ns.ui('Group').uri](document, container, already, subject, form, store, action('callback'));\n  return container;\n}"}};var componentMeta={title:"Forms/fields",includeStories:["basicFields","formGroupNoAlready","formGroupWithAlready"]},mdxStoryNameToKey={"basic fields":"basicFields","form / group, no already":"formGroupNoAlready","form / group, with already":"formGroupWithAlready"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/forms/Forms.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,live:()=>live,trivialCommentField:()=>trivialCommentField});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./lib/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_11__.h_,{title:"Forms/appendForm",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)("h2",{id:"appendform"},"appendForm"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)("h3",{id:"trivial--comment-field"},"trivial / Comment field"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)("p",null,"This example shows a trivial use of the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)("inlineCode",{parentName:"p"},"appendForm")," function, in conjunction with a Comment field."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_11__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_11__.oG,{name:"trivial / Comment field",mdxType:"Story"},(function(){var container=document.createElement("div"),subject=_lib__WEBPACK_IMPORTED_MODULE_12__.rdf.namedNode("http://example.com/#subject"),form=_lib__WEBPACK_IMPORTED_MODULE_12__.rdf.namedNode("http://example.com/#form"),doc=subject.doc();return _lib__WEBPACK_IMPORTED_MODULE_12__.store.add(_lib__WEBPACK_IMPORTED_MODULE_12__.rdf.namedNode("http://example.com/#form"),_lib__WEBPACK_IMPORTED_MODULE_12__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_12__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_12__.store.add(_lib__WEBPACK_IMPORTED_MODULE_12__.rdf.namedNode("http://example.com/#form"),_lib__WEBPACK_IMPORTED_MODULE_12__.ns.ui("contents"),"[a trivial form with just a comment]"),_lib__WEBPACK_IMPORTED_MODULE_12__.widgets.appendForm(document,container,{},subject,form,doc),container}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)("h3",{id:"live"},"live"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_11__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_11__.oG,{name:"live",mdxType:"Story"},(function(){var container=document.createElement("div"),already={},subject=_lib__WEBPACK_IMPORTED_MODULE_12__.rdf.namedNode("https://michielbdejong.inrupt.net/profile/card#me"),form=_lib__WEBPACK_IMPORTED_MODULE_12__.rdf.namedNode("https://timbl.com/timbl/Public/Test/Forms/individualForm.ttl#form1"),doc=subject.doc(),loadProfile=_lib__WEBPACK_IMPORTED_MODULE_12__.store.fetcher.load(doc),loadForm=_lib__WEBPACK_IMPORTED_MODULE_12__.store.fetcher.load(form.doc());return Promise.all([loadProfile,loadForm]).then((function(){_lib__WEBPACK_IMPORTED_MODULE_12__.widgets.appendForm(document,container,already,subject,form,doc)})),container}))))}MDXContent.isMDXComponent=!0;var trivialCommentField=function trivialCommentField(){var container=document.createElement("div"),subject=_lib__WEBPACK_IMPORTED_MODULE_12__.rdf.namedNode("http://example.com/#subject"),form=_lib__WEBPACK_IMPORTED_MODULE_12__.rdf.namedNode("http://example.com/#form"),doc=subject.doc();return _lib__WEBPACK_IMPORTED_MODULE_12__.store.add(_lib__WEBPACK_IMPORTED_MODULE_12__.rdf.namedNode("http://example.com/#form"),_lib__WEBPACK_IMPORTED_MODULE_12__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_12__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_12__.store.add(_lib__WEBPACK_IMPORTED_MODULE_12__.rdf.namedNode("http://example.com/#form"),_lib__WEBPACK_IMPORTED_MODULE_12__.ns.ui("contents"),"[a trivial form with just a comment]"),_lib__WEBPACK_IMPORTED_MODULE_12__.widgets.appendForm(document,container,{},subject,form,doc),container};trivialCommentField.storyName="trivial / Comment field",trivialCommentField.parameters={storySource:{source:"() => {\n  const container = document.createElement(\"div\");\n  const already = {};\n  const subject = UI.rdf.namedNode('http://example.com/#subject');\n  const form = UI.rdf.namedNode('http://example.com/#form');\n  const doc = subject.doc();\n  UI.store.add(UI.rdf.namedNode('http://example.com/#form'), UI.ns.rdf('type'), UI.ns.ui('Comment'));\n  UI.store.add(UI.rdf.namedNode('http://example.com/#form'), UI.ns.ui('contents'), '[a trivial form with just a comment]');\n  UI.widgets.appendForm(document, container, already, subject, form, doc);\n  return container;\n}"}};var live=function live(){var container=document.createElement("div"),already={},subject=_lib__WEBPACK_IMPORTED_MODULE_12__.rdf.namedNode("https://michielbdejong.inrupt.net/profile/card#me"),form=_lib__WEBPACK_IMPORTED_MODULE_12__.rdf.namedNode("https://timbl.com/timbl/Public/Test/Forms/individualForm.ttl#form1"),doc=subject.doc(),loadProfile=_lib__WEBPACK_IMPORTED_MODULE_12__.store.fetcher.load(doc),loadForm=_lib__WEBPACK_IMPORTED_MODULE_12__.store.fetcher.load(form.doc());return Promise.all([loadProfile,loadForm]).then((function(){_lib__WEBPACK_IMPORTED_MODULE_12__.widgets.appendForm(document,container,already,subject,form,doc)})),container};live.storyName="live",live.parameters={storySource:{source:"() => {\n  const container = document.createElement(\"div\");\n  const already = {};\n  const subject = UI.rdf.namedNode('https://michielbdejong.inrupt.net/profile/card#me');\n  const form = UI.rdf.namedNode('https://timbl.com/timbl/Public/Test/Forms/individualForm.ttl#form1');\n  const doc = subject.doc();\n  const loadProfile = UI.store.fetcher.load(doc);\n  const loadForm = UI.store.fetcher.load(form.doc());\n  Promise.all([loadProfile, loadForm]).then(() => {\n    UI.widgets.appendForm(document, container, already, subject, form, doc);\n  });\n  return container;\n}"}};var componentMeta={title:"Forms/appendForm",includeStories:["trivialCommentField","live"]},mdxStoryNameToKey={"trivial / Comment field":"trivialCommentField",live:"live"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_11__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_10__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/forms/Intro.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__page:()=>__page,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=(__webpack_require__("./lib/index.js"),["components"]);function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"Forms/Documentation",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"see-also"},"See also"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"li",href:"https://solid.github.io/solid-ui/Documentation/forms-intro.html",target:"_blank",rel:"nofollow noopener noreferrer"},"Forms intro")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"li",href:"https://solid.github.io/solid-ui//Documentation/form-ecosystem.html",target:"_blank",rel:"nofollow noopener noreferrer"},"Form ecosystem")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"li",href:"https://solid.github.io/form-playground/playground.html",target:"_blank",rel:"nofollow noopener noreferrer"},"Form Playground")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"li",href:"https://solid.github.io/form-playground/browse.html",target:"_blank",rel:"nofollow noopener noreferrer"},"Form Browse")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("a",{parentName:"li",href:"https://solid.github.io/solid-ui/Documentation/api/",target:"_blank",rel:"nofollow noopener noreferrer"},"API docs"))))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Forms/Documentation",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/forms/Options.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,dependingOn:()=>dependingOn,usingRdfTypes:()=>usingRdfTypes});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.h_,{title:"Forms/Options",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"uiwidgetsfielduinsuioptionsuri-using-rdf-types"},"UI.widgets.field","[UI.ns.ui('Options').uri]",", using RDF types"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"using RDF types",mdxType:"Story"},(function(){var container=document.createElement("div"),subject=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#this"),exampleOptionsField=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#exampleOptionsField"),store=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#store");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(exampleOptionsField,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("case"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#if-subject-is-house"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#if-subject-is-house"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("for"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#house"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#if-subject-is-house"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("use"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#number-of-bedrooms"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#number-of-bedrooms"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#number-of-bedrooms"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("contents"),"[UI for houses]"),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(exampleOptionsField,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("case"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#if-subject-is-cow"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#if-subject-is-cow"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("for"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#cow"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#if-subject-is-cow"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("use"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#number-of-legs"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#number-of-legs"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#number-of-legs"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("contents"),"[UI for cows]"),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(subject,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#cow"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),document.outlineManager={appendPropertyTRs:function appendPropertyTRs(){}},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.field[_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("Options").uri](document,container,{},subject,exampleOptionsField,store,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("callback")),container}))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)("h2",{id:"uiwidgetsfielduinsuioptionsuri-using-dependingon"},"UI.widgets.field","[UI.ns.ui('Options').uri]",", using dependingOn"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.Xz,{mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.oG,{name:"depending on",mdxType:"Story"},(function(){var container=document.createElement("div"),subject=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#this"),exampleOptionsField=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#exampleOptionsField"),store=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#store");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(exampleOptionsField,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("dependingOn"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#persona"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(exampleOptionsField,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("case"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#if-subject-is-developer"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#if-subject-is-developer"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("for"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#developer"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#if-subject-is-developer"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("use"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#ui-for-developers"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#ui-for-developers"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#ui-for-developers"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("contents"),"[UI for developers]"),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(exampleOptionsField,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("case"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#if-subject-is-power-user"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#if-subject-is-power-user"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("for"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#power-user"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#if-subject-is-power-user"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("use"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#ui-for-power-users"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#ui-for-power-users"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#ui-for-power-users"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("contents"),"[UI for power users]"),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(subject,_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#persona"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#developer"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(subject,_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#persona"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#power-user"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),document.outlineManager={appendPropertyTRs:function appendPropertyTRs(){}},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.field[_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("Options").uri](document,container,{},subject,exampleOptionsField,store,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("callback")),container}))))}MDXContent.isMDXComponent=!0;var usingRdfTypes=function usingRdfTypes(){var container=document.createElement("div"),subject=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#this"),exampleOptionsField=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#exampleOptionsField"),store=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#store");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(exampleOptionsField,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("case"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#if-subject-is-house"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#if-subject-is-house"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("for"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#house"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#if-subject-is-house"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("use"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#number-of-bedrooms"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#number-of-bedrooms"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#number-of-bedrooms"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("contents"),"[UI for houses]"),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(exampleOptionsField,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("case"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#if-subject-is-cow"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#if-subject-is-cow"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("for"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#cow"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#if-subject-is-cow"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("use"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#number-of-legs"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#number-of-legs"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#number-of-legs"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("contents"),"[UI for cows]"),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(subject,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/#cow"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://first.example/")),document.outlineManager={appendPropertyTRs:function appendPropertyTRs(){}},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.field[_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("Options").uri](document,container,{},subject,exampleOptionsField,store,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("callback")),container};usingRdfTypes.storyName="using RDF types",usingRdfTypes.parameters={storySource:{source:"() => {\n  const container = document.createElement('div');\n  const already = {};\n  const subject = UI.rdf.namedNode('http://first.example/#this');\n  const exampleOptionsField = UI.rdf.namedNode('http://first.example/#exampleOptionsField');\n  const store = UI.rdf.namedNode('http://first.example/#store');\n  /* UI to display in case subject is a house: */\n\n  UI.store.add(exampleOptionsField, UI.ns.ui('case'), UI.rdf.namedNode('http://first.example/#if-subject-is-house'), UI.rdf.namedNode('http://first.example/'));\n  UI.store.add(UI.rdf.namedNode('http://first.example/#if-subject-is-house'), UI.ns.ui('for'), UI.rdf.namedNode('http://first.example/#house'), UI.rdf.namedNode('http://first.example/'));\n  UI.store.add(UI.rdf.namedNode('http://first.example/#if-subject-is-house'), UI.ns.ui('use'), UI.rdf.namedNode('http://first.example/#number-of-bedrooms'), UI.rdf.namedNode('http://first.example/'));\n  UI.store.add(UI.rdf.namedNode('http://first.example/#number-of-bedrooms'), UI.ns.rdf('type'), UI.ns.ui('Comment'));\n  UI.store.add(UI.rdf.namedNode('http://first.example/#number-of-bedrooms'), UI.ns.ui('contents'), '[UI for houses]');\n  /* UI to display in case subject is a cow: */\n\n  UI.store.add(exampleOptionsField, UI.ns.ui('case'), UI.rdf.namedNode('http://first.example/#if-subject-is-cow'), UI.rdf.namedNode('http://first.example/'));\n  UI.store.add(UI.rdf.namedNode('http://first.example/#if-subject-is-cow'), UI.ns.ui('for'), UI.rdf.namedNode('http://first.example/#cow'), UI.rdf.namedNode('http://first.example/'));\n  UI.store.add(UI.rdf.namedNode('http://first.example/#if-subject-is-cow'), UI.ns.ui('use'), UI.rdf.namedNode('http://first.example/#number-of-legs'), UI.rdf.namedNode('http://first.example/'));\n  UI.store.add(UI.rdf.namedNode('http://first.example/#number-of-legs'), UI.ns.rdf('type'), UI.ns.ui('Comment'));\n  UI.store.add(UI.rdf.namedNode('http://first.example/#number-of-legs'), UI.ns.ui('contents'), '[UI for cows]');\n  UI.store.add(subject, UI.ns.rdf('type'), UI.rdf.namedNode('http://first.example/#cow'), UI.rdf.namedNode('http://first.example/')); // Subject is a cow, so it should display [UI for cows]\n\n  document.outlineManager = {\n    // FIXME: https://github.com/solid/solid-ui/issues/239\n    appendPropertyTRs: () => {}\n  };\n  UI.widgets.field[UI.ns.ui('Options').uri](document, container, already, subject, exampleOptionsField, store, action('callback'));\n  return container;\n}"}};var dependingOn=function dependingOn(){var container=document.createElement("div"),subject=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#this"),exampleOptionsField=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#exampleOptionsField"),store=_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#store");return _lib__WEBPACK_IMPORTED_MODULE_7__.store.add(exampleOptionsField,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("dependingOn"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#persona"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(exampleOptionsField,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("case"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#if-subject-is-developer"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#if-subject-is-developer"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("for"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#developer"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#if-subject-is-developer"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("use"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#ui-for-developers"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#ui-for-developers"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#ui-for-developers"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("contents"),"[UI for developers]"),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(exampleOptionsField,_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("case"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#if-subject-is-power-user"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#if-subject-is-power-user"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("for"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#power-user"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#if-subject-is-power-user"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("use"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#ui-for-power-users"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#ui-for-power-users"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.rdf("type"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("Comment")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#ui-for-power-users"),_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("contents"),"[UI for power users]"),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(subject,_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#persona"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#developer"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),_lib__WEBPACK_IMPORTED_MODULE_7__.store.add(subject,_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#persona"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/#power-user"),_lib__WEBPACK_IMPORTED_MODULE_7__.rdf.namedNode("http://second.example/")),document.outlineManager={appendPropertyTRs:function appendPropertyTRs(){}},_lib__WEBPACK_IMPORTED_MODULE_7__.widgets.field[_lib__WEBPACK_IMPORTED_MODULE_7__.ns.ui("Options").uri](document,container,{},subject,exampleOptionsField,store,(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_8__.action)("callback")),container};dependingOn.storyName="depending on",dependingOn.parameters={storySource:{source:"() => {\n  const container = document.createElement('div');\n  const already = {};\n  const subject = UI.rdf.namedNode('http://second.example/#this');\n  const exampleOptionsField = UI.rdf.namedNode('http://second.example/#exampleOptionsField');\n  const store = UI.rdf.namedNode('http://second.example/#store');\n  /* This form depends on persona: */\n\n  UI.store.add(exampleOptionsField, UI.ns.ui('dependingOn'), UI.rdf.namedNode('http://second.example/#persona'), UI.rdf.namedNode('http://second.example/'));\n  /* UI to display in case subject is developer: */\n\n  UI.store.add(exampleOptionsField, UI.ns.ui('case'), UI.rdf.namedNode('http://second.example/#if-subject-is-developer'), UI.rdf.namedNode('http://second.example/'));\n  UI.store.add(UI.rdf.namedNode('http://second.example/#if-subject-is-developer'), UI.ns.ui('for'), UI.rdf.namedNode('http://second.example/#developer'), UI.rdf.namedNode('http://second.example/'));\n  UI.store.add(UI.rdf.namedNode('http://second.example/#if-subject-is-developer'), UI.ns.ui('use'), UI.rdf.namedNode('http://second.example/#ui-for-developers'), UI.rdf.namedNode('http://second.example/'));\n  UI.store.add(UI.rdf.namedNode('http://second.example/#ui-for-developers'), UI.ns.rdf('type'), UI.ns.ui('Comment'));\n  UI.store.add(UI.rdf.namedNode('http://second.example/#ui-for-developers'), UI.ns.ui('contents'), '[UI for developers]');\n  /* UI to display in case subject is power user: */\n\n  UI.store.add(exampleOptionsField, UI.ns.ui('case'), UI.rdf.namedNode('http://second.example/#if-subject-is-power-user'), UI.rdf.namedNode('http://second.example/'));\n  UI.store.add(UI.rdf.namedNode('http://second.example/#if-subject-is-power-user'), UI.ns.ui('for'), UI.rdf.namedNode('http://second.example/#power-user'), UI.rdf.namedNode('http://second.example/'));\n  UI.store.add(UI.rdf.namedNode('http://second.example/#if-subject-is-power-user'), UI.ns.ui('use'), UI.rdf.namedNode('http://second.example/#ui-for-power-users'), UI.rdf.namedNode('http://second.example/'));\n  UI.store.add(UI.rdf.namedNode('http://second.example/#ui-for-power-users'), UI.ns.rdf('type'), UI.ns.ui('Comment'));\n  UI.store.add(UI.rdf.namedNode('http://second.example/#ui-for-power-users'), UI.ns.ui('contents'), '[UI for power users]');\n  /* Subject is both a developer and a power user, so it should display both [UI for developers] and [UI for\n   power users] */\n\n  UI.store.add(subject, UI.rdf.namedNode('http://second.example/#persona'), UI.rdf.namedNode('http://second.example/#developer'), UI.rdf.namedNode('http://second.example/'));\n  UI.store.add(subject, UI.rdf.namedNode('http://second.example/#persona'), UI.rdf.namedNode('http://second.example/#power-user'), UI.rdf.namedNode('http://second.example/'));\n  document.outlineManager = {\n    // FIXME: https://github.com/solid/solid-ui/issues/239\n    appendPropertyTRs: () => {}\n  };\n  UI.widgets.field[UI.ns.ui('Options').uri](document, container, already, subject, exampleOptionsField, store, action('callback'));\n  return container;\n}"}};var componentMeta={title:"Forms/Options",includeStories:["usingRdfTypes","dependingOn"]},mdxStoryNameToKey={"using RDF types":"usingRdfTypes","depending on":"dependingOn"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src/stories/iconForClass.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,forSolidAppProviderClass:()=>forSolidAppProviderClass,iconDecorator:()=>iconDecorator});__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_lib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./lib/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var iconDecorator=function iconDecorator(Story){return"<table><th>className</th><th>icon</th><th>Preview</th>\n            "+Story().map((function(_ref){var className=_ref.className,icon=_ref.icon;return"<tr><td>"+className+"</td><td>"+icon+'</td><td><img src="'+_lib__WEBPACK_IMPORTED_MODULE_9__.icons.iconBase+icon+'" style="width:20px; height:20px;" /></td></tr>'})).join("")+"\n          </table>"},layoutProps={iconDecorator};function MDXContent(_ref2){var components=_ref2.components,props=_objectWithoutProperties(_ref2,_excluded);return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("wrapper",_extends({},layoutProps,props,{components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.h_,{title:"iconForClass",mdxType:"Meta"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("h1",{id:"iconforclass"},"iconForClass"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,"Best logo or avatar or photo etc to represent someone or some group etc"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("a",{parentName:"p",href:"https://solid.github.io/solid-ui/Documentation/api/modules/_widgets_buttons_.html#iconforclass",target:"_blank",rel:"nofollow noopener noreferrer"},"API Documentation")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)("h2",{id:"for-solidappproviderclass"},"for solid:AppProviderClass"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.Xz,{withSource:"open",mdxType:"Canvas"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.oG,{name:"for solid:AppProviderClass",decorators:[iconDecorator],mdxType:"Story"},(function(){return Object.keys(_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.iconForClass).map((function(className){return{className,icon:_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.iconForClass[className]}}))}))))}MDXContent.isMDXComponent=!0;var forSolidAppProviderClass=function forSolidAppProviderClass(){return Object.keys(_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.iconForClass).map((function(className){return{className,icon:_lib__WEBPACK_IMPORTED_MODULE_9__.widgets.iconForClass[className]}}))};forSolidAppProviderClass.storyName="for solid:AppProviderClass",forSolidAppProviderClass.parameters={storySource:{source:"() => Object.keys(UI.widgets.iconForClass).map(className => {\n  const icon = UI.widgets.iconForClass[className];\n  return {\n    className,\n    icon\n  };\n})"}},forSolidAppProviderClass.decorators=[iconDecorator];var componentMeta={title:"iconForClass",includeStories:["forSolidAppProviderClass"]},mdxStoryNameToKey={"for solid:AppProviderClass":"forSolidAppProviderClass"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_8__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_7__.kt)(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$",module.exports=webpackEmptyContext},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./stories/Buttons.stories.mdx":"./src/stories/Buttons.stories.mdx","./stories/DateTime.stories.mdx":"./src/stories/DateTime.stories.mdx","./stories/Display.stories.mdx":"./src/stories/Display.stories.mdx","./stories/DomManipulation.stories.mdx":"./src/stories/DomManipulation.stories.mdx","./stories/DragAndDrop.stories.mdx":"./src/stories/DragAndDrop.stories.mdx","./stories/Events.stories.mdx":"./src/stories/Events.stories.mdx","./stories/Header.stories.mdx":"./src/stories/Header.stories.mdx","./stories/Images.stories.mdx":"./src/stories/Images.stories.mdx","./stories/Interactive.stories.mdx":"./src/stories/Interactive.stories.mdx","./stories/Log.stories.mdx":"./src/stories/Log.stories.mdx","./stories/Matrix.stories.mdx":"./src/stories/Matrix.stories.mdx","./stories/MediaTypes.stories.mdx":"./src/stories/MediaTypes.stories.mdx","./stories/Notepad.stories.mdx":"./src/stories/Notepad.stories.mdx","./stories/RdfUtils.stories.mdx":"./src/stories/RdfUtils.stories.mdx","./stories/Tabs.stories.mdx":"./src/stories/Tabs.stories.mdx","./stories/Widgets.stories.mdx":"./src/stories/Widgets.stories.mdx","./stories/forms/Fields.stories.mdx":"./src/stories/forms/Fields.stories.mdx","./stories/forms/Forms.stories.mdx":"./src/stories/forms/Forms.stories.mdx","./stories/forms/Intro.stories.mdx":"./src/stories/forms/Intro.stories.mdx","./stories/forms/Options.stories.mdx":"./src/stories/forms/Options.stories.mdx","./stories/iconForClass.stories.mdx":"./src/stories/iconForClass.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"?4f7e":()=>{},"?2b19":()=>{}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[337],(()=>(__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/html/config.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/html/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.js"))));__webpack_require__.O()}]);